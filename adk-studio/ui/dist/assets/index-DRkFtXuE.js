(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qd={exports:{}},Vs={},zd={exports:{}},ze={};var kb;function rI(){if(kb)return ze;kb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function k(F,K,L){this.props=F,this.context=K,this.refs=w,this.updater=L||v}k.prototype.isReactComponent={},k.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=k.prototype;function C(F,K,L){this.props=F,this.context=K,this.refs=w,this.updater=L||v}var S=C.prototype=new _;S.constructor=C,b(S,k.prototype),S.isPureReactComponent=!0;var j=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function D(F,K,L){var U,ee={},J=null,Q=null;if(K!=null)for(U in K.ref!==void 0&&(Q=K.ref),K.key!==void 0&&(J=""+K.key),K)A.call(K,U)&&!N.hasOwnProperty(U)&&(ee[U]=K[U]);var ne=arguments.length-2;if(ne===1)ee.children=L;else if(1<ne){for(var ae=Array(ne),fe=0;fe<ne;fe++)ae[fe]=arguments[fe+2];ee.children=ae}if(F&&F.defaultProps)for(U in ne=F.defaultProps,ne)ee[U]===void 0&&(ee[U]=ne[U]);return{$$typeof:e,type:F,key:J,ref:Q,props:ee,_owner:T.current}}function z(F,K){return{$$typeof:e,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function O(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(L){return K[L]})}var B=/\/+/g;function G(F,K){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):K.toString(36)}function R(F,K,L,U,ee){var J=typeof F;(J==="undefined"||J==="boolean")&&(F=null);var Q=!1;if(F===null)Q=!0;else switch(J){case"string":case"number":Q=!0;break;case"object":switch(F.$$typeof){case e:case t:Q=!0}}if(Q)return Q=F,ee=ee(Q),F=U===""?"."+G(Q,0):U,j(ee)?(L="",F!=null&&(L=F.replace(B,"$&/")+"/"),R(ee,K,L,"",function(fe){return fe})):ee!=null&&($(ee)&&(ee=z(ee,L+(!ee.key||Q&&Q.key===ee.key?"":(""+ee.key).replace(B,"$&/")+"/")+F)),K.push(ee)),1;if(Q=0,U=U===""?".":U+":",j(F))for(var ne=0;ne<F.length;ne++){J=F[ne];var ae=U+G(J,ne);Q+=R(J,K,L,ae,ee)}else if(ae=g(F),typeof ae=="function")for(F=ae.call(F),ne=0;!(J=F.next()).done;)J=J.value,ae=U+G(J,ne++),Q+=R(J,K,L,ae,ee);else if(J==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Q}function q(F,K,L){if(F==null)return F;var U=[],ee=0;return R(F,U,"","",function(J){return K.call(L,J,ee++)}),U}function V(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(L){(F._status===0||F._status===-1)&&(F._status=1,F._result=L)},function(L){(F._status===0||F._status===-1)&&(F._status=2,F._result=L)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var Y={current:null},H={transition:null},X={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:H,ReactCurrentOwner:T};function I(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:q,forEach:function(F,K,L){q(F,function(){K.apply(this,arguments)},L)},count:function(F){var K=0;return q(F,function(){K++}),K},toArray:function(F){return q(F,function(K){return K})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=k,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=C,ze.StrictMode=r,ze.Suspense=c,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ze.act=I,ze.cloneElement=function(F,K,L){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var U=b({},F.props),ee=F.key,J=F.ref,Q=F._owner;if(K!=null){if(K.ref!==void 0&&(J=K.ref,Q=T.current),K.key!==void 0&&(ee=""+K.key),F.type&&F.type.defaultProps)var ne=F.type.defaultProps;for(ae in K)A.call(K,ae)&&!N.hasOwnProperty(ae)&&(U[ae]=K[ae]===void 0&&ne!==void 0?ne[ae]:K[ae])}var ae=arguments.length-2;if(ae===1)U.children=L;else if(1<ae){ne=Array(ae);for(var fe=0;fe<ae;fe++)ne[fe]=arguments[fe+2];U.children=ne}return{$$typeof:e,type:F.type,key:ee,ref:J,props:U,_owner:Q}},ze.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},ze.createElement=D,ze.createFactory=function(F){var K=D.bind(null,F);return K.type=F,K},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:u,render:F}},ze.isValidElement=$,ze.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:V}},ze.memo=function(F,K){return{$$typeof:f,type:F,compare:K===void 0?null:K}},ze.startTransition=function(F){var K=H.transition;H.transition={};try{F()}finally{H.transition=K}},ze.unstable_act=I,ze.useCallback=function(F,K){return Y.current.useCallback(F,K)},ze.useContext=function(F){return Y.current.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F){return Y.current.useDeferredValue(F)},ze.useEffect=function(F,K){return Y.current.useEffect(F,K)},ze.useId=function(){return Y.current.useId()},ze.useImperativeHandle=function(F,K,L){return Y.current.useImperativeHandle(F,K,L)},ze.useInsertionEffect=function(F,K){return Y.current.useInsertionEffect(F,K)},ze.useLayoutEffect=function(F,K){return Y.current.useLayoutEffect(F,K)},ze.useMemo=function(F,K){return Y.current.useMemo(F,K)},ze.useReducer=function(F,K,L){return Y.current.useReducer(F,K,L)},ze.useRef=function(F){return Y.current.useRef(F)},ze.useState=function(F){return Y.current.useState(F)},ze.useSyncExternalStore=function(F,K,L){return Y.current.useSyncExternalStore(F,K,L)},ze.useTransition=function(){return Y.current.useTransition()},ze.version="18.3.1",ze}var Sb;function wa(){return Sb||(Sb=1,zd.exports=rI()),zd.exports}var Cb;function oI(){if(Cb)return Vs;Cb=1;var e=wa(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var p,m={},g=null,v=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(m[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:t,type:u,key:g,ref:v,props:m,_owner:i.current}}return Vs.Fragment=n,Vs.jsx=l,Vs.jsxs=l,Vs}var Eb;function iI(){return Eb||(Eb=1,qd.exports=oI()),qd.exports}var h=iI(),P=wa();const At=Yi(P);var zl={},Fd={exports:{}},Yt={},Bd={exports:{}},$d={};var Nb;function sI(){return Nb||(Nb=1,(function(e){function t(H,X){var I=H.length;H.push(X);e:for(;0<I;){var F=I-1>>>1,K=H[F];if(0<i(K,X))H[F]=X,H[I]=K,I=F;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],I=H.pop();if(I!==X){H[0]=I;e:for(var F=0,K=H.length,L=K>>>1;F<L;){var U=2*(F+1)-1,ee=H[U],J=U+1,Q=H[J];if(0>i(ee,I))J<K&&0>i(Q,ee)?(H[F]=Q,H[J]=I,F=J):(H[F]=ee,H[U]=I,F=U);else if(J<K&&0>i(Q,I))H[F]=Q,H[J]=I,F=J;else break e}}return X}function i(H,X){var I=H.sortIndex-X.sortIndex;return I!==0?I:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],p=1,m=null,g=3,v=!1,b=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=H)r(f),X.sortIndex=X.expirationTime,t(c,X);else break;X=n(f)}}function j(H){if(w=!1,S(H),!b)if(n(c)!==null)b=!0,V(A);else{var X=n(f);X!==null&&Y(j,X.startTime-H)}}function A(H,X){b=!1,w&&(w=!1,_(D),D=-1),v=!0;var I=g;try{for(S(X),m=n(c);m!==null&&(!(m.expirationTime>X)||H&&!O());){var F=m.callback;if(typeof F=="function"){m.callback=null,g=m.priorityLevel;var K=F(m.expirationTime<=X);X=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&r(c),S(X)}else r(c);m=n(c)}if(m!==null)var L=!0;else{var U=n(f);U!==null&&Y(j,U.startTime-X),L=!1}return L}finally{m=null,g=I,v=!1}}var T=!1,N=null,D=-1,z=5,$=-1;function O(){return!(e.unstable_now()-$<z)}function B(){if(N!==null){var H=e.unstable_now();$=H;var X=!0;try{X=N(!0,H)}finally{X?G():(T=!1,N=null)}}else T=!1}var G;if(typeof C=="function")G=function(){C(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,q=R.port2;R.port1.onmessage=B,G=function(){q.postMessage(null)}}else G=function(){k(B,0)};function V(H){N=H,T||(T=!0,G())}function Y(H,X){D=k(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,V(A))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var I=g;g=X;try{return H()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=g;g=H;try{return X()}finally{g=I}},e.unstable_scheduleCallback=function(H,X,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=I+K,H={id:p++,callback:X,priorityLevel:H,startTime:I,expirationTime:K,sortIndex:-1},I>F?(H.sortIndex=I,t(f,H),n(c)===null&&H===n(f)&&(w?(_(D),D=-1):w=!0,Y(j,I-F))):(H.sortIndex=K,t(c,H),b||v||(b=!0,V(A))),H},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(H){var X=g;return function(){var I=g;g=X;try{return H.apply(this,arguments)}finally{g=I}}}})($d)),$d}var jb;function aI(){return jb||(jb=1,Bd.exports=sI()),Bd.exports}var Tb;function lI(){if(Tb)return Yt;Tb=1;var e=wa(),t=aI();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(o){return c.call(m,o)?!0:c.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function v(o,a,d,y){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,a,d,y){if(a===null||typeof a>"u"||v(o,a,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(o,a,d,y,x,E,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=a,this.sanitizeURL=E,this.removeEmptyString=M}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];k[a]=new w(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(_,C);k[a]=new w(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(_,C);k[a]=new w(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(_,C);k[a]=new w(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,a,d,y){var x=k.hasOwnProperty(a)?k[a]:null;(x!==null?x.type!==0:y||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,d,x,y)&&(d=null),y||x===null?g(a)&&(d===null?o.removeAttribute(a):o.setAttribute(a,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,y=x.attributeNamespace,d===null?o.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,y?o.setAttributeNS(y,a,d):o.setAttribute(a,d))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var I=Object.assign,F;function K(o){if(F===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+o}var L=!1;function U(o,a){if(!o||L)return"";L=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(se){var y=se}Reflect.construct(o,[],a)}else{try{a.call()}catch(se){y=se}o.call(a.prototype)}else{try{throw Error()}catch(se){y=se}o()}}catch(se){if(se&&y&&typeof se.stack=="string"){for(var x=se.stack.split(`
`),E=y.stack.split(`
`),M=x.length-1,W=E.length-1;1<=M&&0<=W&&x[M]!==E[W];)W--;for(;1<=M&&0<=W;M--,W--)if(x[M]!==E[W]){if(M!==1||W!==1)do if(M--,W--,0>W||x[M]!==E[W]){var Z=`
`+x[M].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=M&&0<=W);break}}}finally{L=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?K(o):""}function ee(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=U(o.type,!1),o;case 11:return o=U(o.type.render,!1),o;case 1:return o=U(o.type,!0),o;default:return""}}function J(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case T:return"Portal";case z:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case R:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case O:return(o.displayName||"Context")+".Consumer";case $:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return a=o.displayName||null,a!==null?a:J(o.type)||"Memo";case V:a=o._payload,o=o._init;try{return J(o(a))}catch{}}return null}function Q(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ae(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fe(o){var a=ae(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),y=""+o[a];if(!o.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,E=d.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return x.call(this)},set:function(M){y=""+M,E.call(this,M)}}),Object.defineProperty(o,a,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ve(o){o._valueTracker||(o._valueTracker=fe(o))}function Ce(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),y="";return o&&(y=ae(o)?o.checked?"true":"false":o.value),o=y,o!==d?(a.setValue(o),!0):!1}function xe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ae(o,a){var d=a.checked;return I({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function we(o,a){var d=a.defaultValue==null?"":a.defaultValue,y=a.checked!=null?a.checked:a.defaultChecked;d=ne(a.value!=null?a.value:d),o._wrapperState={initialChecked:y,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Le(o,a){a=a.checked,a!=null&&S(o,"checked",a,!1)}function Ne(o,a){Le(o,a);var d=ne(a.value),y=a.type;if(d!=null)y==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?We(o,a.type,d):a.hasOwnProperty("defaultValue")&&We(o,a.type,ne(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function it(o,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type;if(!(y!=="submit"&&y!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,d||a===o.value||(o.value=a),o.defaultValue=a}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function We(o,a,d){(a!=="number"||xe(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var dt=Array.isArray;function Fe(o,a,d,y){if(o=o.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=a.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&y&&(o[d].defaultSelected=!0)}else{for(d=""+ne(d),a=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,y&&(o[x].defaultSelected=!0);return}a!==null||o[x].disabled||(a=o[x])}a!==null&&(a.selected=!0)}}function st(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function He(o,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(dt(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}o._wrapperState={initialValue:ne(d)}}function gt(o,a){var d=ne(a.value),y=ne(a.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),a.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),y!=null&&(o.defaultValue=""+y)}function ye(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function ie(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?ie(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var je,Re=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,y,x){MSApp.execUnsafeLocalFunction(function(){return o(a,d,y,x)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(je=je||document.createElement("div"),je.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=je.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function De(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(o){Xe.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),ft[a]=ft[o]})});function et(o,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ft.hasOwnProperty(o)&&ft[o]?(""+a).trim():a+"px"}function Ke(o,a){o=o.style;for(var d in a)if(a.hasOwnProperty(d)){var y=d.indexOf("--")===0,x=et(d,a[d],y);d==="float"&&(d="cssFloat"),y?o.setProperty(d,x):o[d]=x}}var kn=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(o,a){if(a){if(kn[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function $t(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function kr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ao=null,Bn=null,$n=null;function Qo(o){if(o=Ts(o)){if(typeof ao!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Ja(a),ao(o.stateNode,o.type,a))}}function Zo(o){Bn?$n?$n.push(o):$n=[o]:Bn=o}function Jo(){if(Bn){var o=Bn,a=$n;if($n=Bn=null,Qo(o),a)for(o=0;o<a.length;o++)Qo(a[o])}}function ei(o,a){return o(a)}function ti(){}var lo=!1;function ni(o,a,d){if(lo)return o(a,d);lo=!0;try{return ei(o,a,d)}finally{lo=!1,(Bn!==null||$n!==null)&&(ti(),Jo())}}function nr(o,a){var d=o.stateNode;if(d===null)return null;var y=Ja(d);if(y===null)return null;d=y[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var uo=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){uo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{uo=!1}function os(o,a,d,y,x,E,M,W,Z){var se=Array.prototype.slice.call(arguments,3);try{a.apply(d,se)}catch(ce){this.onError(ce)}}var qt=!1,or=null,Sr=!1,co=null,fo={onError:function(o){qt=!0,or=o}};function is(o,a,d,y,x,E,M,W,Z){qt=!1,or=null,os.apply(fo,arguments)}function ri(o,a,d,y,x,E,M,W,Z){if(is.apply(this,arguments),qt){if(qt){var se=or;qt=!1,or=null}else throw Error(n(198));Sr||(Sr=!0,co=se)}}function pn(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function po(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function ho(o){if(pn(o)!==o)throw Error(n(188))}function ss(o){var a=o.alternate;if(!a){if(a=pn(o),a===null)throw Error(n(188));return a!==o?null:o}for(var d=o,y=a;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(y=x.return,y!==null){d=y;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return ho(x),o;if(E===y)return ho(x),a;E=E.sibling}throw Error(n(188))}if(d.return!==y.return)d=x,y=E;else{for(var M=!1,W=x.child;W;){if(W===d){M=!0,d=x,y=E;break}if(W===y){M=!0,y=x,d=E;break}W=W.sibling}if(!M){for(W=E.child;W;){if(W===d){M=!0,d=E,y=x;break}if(W===y){M=!0,y=E,d=x;break}W=W.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==y)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:a}function oi(o){return o=ss(o),o!==null?Sn(o):null}function Sn(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Sn(o);if(a!==null)return a;o=o.sibling}return null}var mo=t.unstable_scheduleCallback,Cr=t.unstable_cancelCallback,ii=t.unstable_shouldYield,si=t.unstable_requestPaint,Ye=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,go=t.unstable_ImmediatePriority,yo=t.unstable_UserBlockingPriority,Nr=t.unstable_NormalPriority,as=t.unstable_LowPriority,jr=t.unstable_IdlePriority,ir=null,Ht=null;function ls(o){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ir,o,void 0,(o.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:ds,us=Math.log,cs=Math.LN2;function ds(o){return o>>>=0,o===0?32:31-(us(o)/cs|0)|0}var Tr=64,Ar=4194304;function Cn(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function En(o,a){var d=o.pendingLanes;if(d===0)return 0;var y=0,x=o.suspendedLanes,E=o.pingedLanes,M=d&268435455;if(M!==0){var W=M&~x;W!==0?y=Cn(W):(E&=M,E!==0&&(y=Cn(E)))}else M=d&~x,M!==0?y=Cn(M):E!==0&&(y=Cn(E));if(y===0)return 0;if(a!==0&&a!==y&&(a&x)===0&&(x=y&-y,E=a&-a,x>=E||x===16&&(E&4194240)!==0))return a;if((y&4)!==0&&(y|=d&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=y;0<a;)d=31-zt(a),x=1<<d,y|=o[d],a&=~x;return y}function ai(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(o,a){for(var d=o.suspendedLanes,y=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes;0<E;){var M=31-zt(E),W=1<<M,Z=x[M];Z===-1?((W&d)===0||(W&y)!==0)&&(x[M]=ai(W,a)):Z<=a&&(o.expiredLanes|=W),E&=~W}}function vo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Nn(){var o=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),o}function xo(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function sr(o,a,d){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-zt(a),o[a]=d}function ui(o,a){var d=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-zt(d),E=1<<x;a[x]=0,y[x]=-1,o[x]=-1,d&=~E}}function le(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var y=31-zt(d),x=1<<y;x&a|o[y]&a&&(o[y]|=a),d&=~x}}var me=0;function vt(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var $e,tt,ar,bo,fs,uc=!1,qa=[],Pr=null,Ir=null,Rr=null,ps=new Map,hs=new Map,Mr=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sx(o,a){switch(o){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ps.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(a.pointerId)}}function ms(o,a,d,y,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:a,domEventName:d,eventSystemFlags:y,nativeEvent:E,targetContainers:[x]},a!==null&&(a=Ts(a),a!==null&&tt(a)),o):(o.eventSystemFlags|=y,a=o.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),o)}function EA(o,a,d,y,x){switch(a){case"focusin":return Pr=ms(Pr,o,a,d,y,x),!0;case"dragenter":return Ir=ms(Ir,o,a,d,y,x),!0;case"mouseover":return Rr=ms(Rr,o,a,d,y,x),!0;case"pointerover":var E=x.pointerId;return ps.set(E,ms(ps.get(E)||null,o,a,d,y,x)),!0;case"gotpointercapture":return E=x.pointerId,hs.set(E,ms(hs.get(E)||null,o,a,d,y,x)),!0}return!1}function ax(o){var a=wo(o.target);if(a!==null){var d=pn(a);if(d!==null){if(a=d.tag,a===13){if(a=po(d),a!==null){o.blockedOn=a,fs(o.priority,function(){ar(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function za(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=dc(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var y=new d.constructor(d.type,d);St=y,d.target.dispatchEvent(y),St=null}else return a=Ts(d),a!==null&&tt(a),o.blockedOn=d,!1;a.shift()}return!0}function lx(o,a,d){za(o)&&d.delete(a)}function NA(){uc=!1,Pr!==null&&za(Pr)&&(Pr=null),Ir!==null&&za(Ir)&&(Ir=null),Rr!==null&&za(Rr)&&(Rr=null),ps.forEach(lx),hs.forEach(lx)}function gs(o,a){o.blockedOn===a&&(o.blockedOn=null,uc||(uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NA)))}function ys(o){function a(x){return gs(x,o)}if(0<qa.length){gs(qa[0],o);for(var d=1;d<qa.length;d++){var y=qa[d];y.blockedOn===o&&(y.blockedOn=null)}}for(Pr!==null&&gs(Pr,o),Ir!==null&&gs(Ir,o),Rr!==null&&gs(Rr,o),ps.forEach(a),hs.forEach(a),d=0;d<Mr.length;d++)y=Mr[d],y.blockedOn===o&&(y.blockedOn=null);for(;0<Mr.length&&(d=Mr[0],d.blockedOn===null);)ax(d),d.blockedOn===null&&Mr.shift()}var ci=j.ReactCurrentBatchConfig,Fa=!0;function jA(o,a,d,y){var x=me,E=ci.transition;ci.transition=null;try{me=1,cc(o,a,d,y)}finally{me=x,ci.transition=E}}function TA(o,a,d,y){var x=me,E=ci.transition;ci.transition=null;try{me=4,cc(o,a,d,y)}finally{me=x,ci.transition=E}}function cc(o,a,d,y){if(Fa){var x=dc(o,a,d,y);if(x===null)jc(o,a,y,Ba,d),sx(o,y);else if(EA(x,o,a,d,y))y.stopPropagation();else if(sx(o,y),a&4&&-1<CA.indexOf(o)){for(;x!==null;){var E=Ts(x);if(E!==null&&$e(E),E=dc(o,a,d,y),E===null&&jc(o,a,y,Ba,d),E===x)break;x=E}x!==null&&y.stopPropagation()}else jc(o,a,y,null,d)}}var Ba=null;function dc(o,a,d,y){if(Ba=null,o=kr(y),o=wo(o),o!==null)if(a=pn(o),a===null)o=null;else if(d=a.tag,d===13){if(o=po(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Ba=o,null}function ux(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Er()){case go:return 1;case yo:return 4;case Nr:case as:return 16;case jr:return 536870912;default:return 16}default:return 16}}var Or=null,fc=null,$a=null;function cx(){if($a)return $a;var o,a=fc,d=a.length,y,x="value"in Or?Or.value:Or.textContent,E=x.length;for(o=0;o<d&&a[o]===x[o];o++);var M=d-o;for(y=1;y<=M&&a[d-y]===x[E-y];y++);return $a=x.slice(o,1<y?1-y:void 0)}function Ha(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Va(){return!0}function dx(){return!1}function nn(o){function a(d,y,x,E,M){this._reactName=d,this._targetInst=x,this.type=y,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(d=o[W],this[W]=d?d(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Va:dx,this.isPropagationStopped=dx,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),a}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=nn(di),vs=I({},di,{view:0,detail:0}),AA=nn(vs),hc,mc,xs,Ua=I({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xs&&(xs&&o.type==="mousemove"?(hc=o.screenX-xs.screenX,mc=o.screenY-xs.screenY):mc=hc=0,xs=o),hc)},movementY:function(o){return"movementY"in o?o.movementY:mc}}),fx=nn(Ua),PA=I({},Ua,{dataTransfer:0}),IA=nn(PA),RA=I({},vs,{relatedTarget:0}),gc=nn(RA),MA=I({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),OA=nn(MA),LA=I({},di,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),DA=nn(LA),qA=I({},di,{data:0}),px=nn(qA),zA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=BA[o])?!!a[o]:!1}function yc(){return $A}var HA=I({},vs,{key:function(o){if(o.key){var a=zA[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Ha(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?FA[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(o){return o.type==="keypress"?Ha(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ha(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),VA=nn(HA),UA=I({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=nn(UA),GA=I({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),WA=nn(GA),KA=I({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),YA=nn(KA),XA=I({},Ua,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=nn(XA),ZA=[9,13,27,32],vc=u&&"CompositionEvent"in window,bs=null;u&&"documentMode"in document&&(bs=document.documentMode);var JA=u&&"TextEvent"in window&&!bs,mx=u&&(!vc||bs&&8<bs&&11>=bs),gx=" ",yx=!1;function vx(o,a){switch(o){case"keyup":return ZA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fi=!1;function eP(o,a){switch(o){case"compositionend":return xx(a);case"keypress":return a.which!==32?null:(yx=!0,gx);case"textInput":return o=a.data,o===gx&&yx?null:o;default:return null}}function tP(o,a){if(fi)return o==="compositionend"||!vc&&vx(o,a)?(o=cx(),$a=fc=Or=null,fi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mx&&a.locale!=="ko"?null:a.data;default:return null}}var nP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!nP[o.type]:a==="textarea"}function wx(o,a,d,y){Zo(y),a=Xa(a,"onChange"),0<a.length&&(d=new pc("onChange","change",null,d,y),o.push({event:d,listeners:a}))}var ws=null,_s=null;function rP(o){zx(o,0)}function Ga(o){var a=yi(o);if(Ce(a))return o}function oP(o,a){if(o==="change")return a}var _x=!1;if(u){var xc;if(u){var bc="oninput"in document;if(!bc){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),bc=typeof kx.oninput=="function"}xc=bc}else xc=!1;_x=xc&&(!document.documentMode||9<document.documentMode)}function Sx(){ws&&(ws.detachEvent("onpropertychange",Cx),_s=ws=null)}function Cx(o){if(o.propertyName==="value"&&Ga(_s)){var a=[];wx(a,_s,o,kr(o)),ni(rP,a)}}function iP(o,a,d){o==="focusin"?(Sx(),ws=a,_s=d,ws.attachEvent("onpropertychange",Cx)):o==="focusout"&&Sx()}function sP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ga(_s)}function aP(o,a){if(o==="click")return Ga(a)}function lP(o,a){if(o==="input"||o==="change")return Ga(a)}function uP(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var jn=typeof Object.is=="function"?Object.is:uP;function ks(o,a){if(jn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),y=Object.keys(a);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var x=d[y];if(!c.call(a,x)||!jn(o[x],a[x]))return!1}return!0}function Ex(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Nx(o,a){var d=Ex(o);o=0;for(var y;d;){if(d.nodeType===3){if(y=o+d.textContent.length,o<=a&&y>=a)return{node:d,offset:a-o};o=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ex(d)}}function jx(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?jx(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Tx(){for(var o=window,a=xe();a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)o=a.contentWindow;else break;a=xe(o.document)}return a}function wc(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function cP(o){var a=Tx(),d=o.focusedElem,y=o.selectionRange;if(a!==d&&d&&d.ownerDocument&&jx(d.ownerDocument.documentElement,d)){if(y!==null&&wc(d)){if(a=y.start,o=y.end,o===void 0&&(o=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(o,d.value.length);else if(o=(a=d.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,E=Math.min(y.start,x);y=y.end===void 0?E:Math.min(y.end,x),!o.extend&&E>y&&(x=y,y=E,E=x),x=Nx(d,E);var M=Nx(d,y);x&&M&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),o.removeAllRanges(),E>y?(o.addRange(a),o.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),o.addRange(a)))}}for(a=[],o=d;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)o=a[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var dP=u&&"documentMode"in document&&11>=document.documentMode,pi=null,_c=null,Ss=null,kc=!1;function Ax(o,a,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;kc||pi==null||pi!==xe(y)||(y=pi,"selectionStart"in y&&wc(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ss&&ks(Ss,y)||(Ss=y,y=Xa(_c,"onSelect"),0<y.length&&(a=new pc("onSelect","select",null,a,d),o.push({event:a,listeners:y}),a.target=pi)))}function Wa(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var hi={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Sc={},Px={};u&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Ka(o){if(Sc[o])return Sc[o];if(!hi[o])return o;var a=hi[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in Px)return Sc[o]=a[d];return o}var Ix=Ka("animationend"),Rx=Ka("animationiteration"),Mx=Ka("animationstart"),Ox=Ka("transitionend"),Lx=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(o,a){Lx.set(o,a),s(a,[o])}for(var Cc=0;Cc<Dx.length;Cc++){var Ec=Dx[Cc],fP=Ec.toLowerCase(),pP=Ec[0].toUpperCase()+Ec.slice(1);Lr(fP,"on"+pP)}Lr(Ix,"onAnimationEnd"),Lr(Rx,"onAnimationIteration"),Lr(Mx,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ox,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function qx(o,a,d){var y=o.type||"unknown-event";o.currentTarget=d,ri(y,a,void 0,o),o.currentTarget=null}function zx(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var y=o[d],x=y.event;y=y.listeners;e:{var E=void 0;if(a)for(var M=y.length-1;0<=M;M--){var W=y[M],Z=W.instance,se=W.currentTarget;if(W=W.listener,Z!==E&&x.isPropagationStopped())break e;qx(x,W,se),E=Z}else for(M=0;M<y.length;M++){if(W=y[M],Z=W.instance,se=W.currentTarget,W=W.listener,Z!==E&&x.isPropagationStopped())break e;qx(x,W,se),E=Z}}}if(Sr)throw o=co,Sr=!1,co=null,o}function nt(o,a){var d=a[Mc];d===void 0&&(d=a[Mc]=new Set);var y=o+"__bubble";d.has(y)||(Fx(a,o,2,!1),d.add(y))}function Nc(o,a,d){var y=0;a&&(y|=4),Fx(d,o,y,a)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Es(o){if(!o[Ya]){o[Ya]=!0,r.forEach(function(d){d!=="selectionchange"&&(hP.has(d)||Nc(d,!1,o),Nc(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Ya]||(a[Ya]=!0,Nc("selectionchange",!1,a))}}function Fx(o,a,d,y){switch(ux(a)){case 1:var x=jA;break;case 4:x=TA;break;default:x=cc}d=x.bind(null,a,d,o),x=void 0,!uo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),y?x!==void 0?o.addEventListener(a,d,{capture:!0,passive:x}):o.addEventListener(a,d,!0):x!==void 0?o.addEventListener(a,d,{passive:x}):o.addEventListener(a,d,!1)}function jc(o,a,d,y,x){var E=y;if((a&1)===0&&(a&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var W=y.stateNode.containerInfo;if(W===x||W.nodeType===8&&W.parentNode===x)break;if(M===4)for(M=y.return;M!==null;){var Z=M.tag;if((Z===3||Z===4)&&(Z=M.stateNode.containerInfo,Z===x||Z.nodeType===8&&Z.parentNode===x))return;M=M.return}for(;W!==null;){if(M=wo(W),M===null)return;if(Z=M.tag,Z===5||Z===6){y=E=M;continue e}W=W.parentNode}}y=y.return}ni(function(){var se=E,ce=kr(d),pe=[];e:{var ue=Lx.get(o);if(ue!==void 0){var be=pc,ke=o;switch(o){case"keypress":if(Ha(d)===0)break e;case"keydown":case"keyup":be=VA;break;case"focusin":ke="focus",be=gc;break;case"focusout":ke="blur",be=gc;break;case"beforeblur":case"afterblur":be=gc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=WA;break;case Ix:case Rx:case Mx:be=OA;break;case Ox:be=YA;break;case"scroll":be=AA;break;case"wheel":be=QA;break;case"copy":case"cut":case"paste":be=DA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=hx}var Ee=(a&4)!==0,yt=!Ee&&o==="scroll",re=Ee?ue!==null?ue+"Capture":null:ue;Ee=[];for(var te=se,oe;te!==null;){oe=te;var ge=oe.stateNode;if(oe.tag===5&&ge!==null&&(oe=ge,re!==null&&(ge=nr(te,re),ge!=null&&Ee.push(Ns(te,ge,oe)))),yt)break;te=te.return}0<Ee.length&&(ue=new be(ue,ke,null,d,ce),pe.push({event:ue,listeners:Ee}))}}if((a&7)===0){e:{if(ue=o==="mouseover"||o==="pointerover",be=o==="mouseout"||o==="pointerout",ue&&d!==St&&(ke=d.relatedTarget||d.fromElement)&&(wo(ke)||ke[lr]))break e;if((be||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(ke=d.relatedTarget||d.toElement,be=se,ke=ke?wo(ke):null,ke!==null&&(yt=pn(ke),ke!==yt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(be=null,ke=se),be!==ke)){if(Ee=fx,ge="onMouseLeave",re="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=hx,ge="onPointerLeave",re="onPointerEnter",te="pointer"),yt=be==null?ue:yi(be),oe=ke==null?ue:yi(ke),ue=new Ee(ge,te+"leave",be,d,ce),ue.target=yt,ue.relatedTarget=oe,ge=null,wo(ce)===se&&(Ee=new Ee(re,te+"enter",ke,d,ce),Ee.target=oe,Ee.relatedTarget=yt,ge=Ee),yt=ge,be&&ke)t:{for(Ee=be,re=ke,te=0,oe=Ee;oe;oe=mi(oe))te++;for(oe=0,ge=re;ge;ge=mi(ge))oe++;for(;0<te-oe;)Ee=mi(Ee),te--;for(;0<oe-te;)re=mi(re),oe--;for(;te--;){if(Ee===re||re!==null&&Ee===re.alternate)break t;Ee=mi(Ee),re=mi(re)}Ee=null}else Ee=null;be!==null&&Bx(pe,ue,be,Ee,!1),ke!==null&&yt!==null&&Bx(pe,yt,ke,Ee,!0)}}e:{if(ue=se?yi(se):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var Te=oP;else if(bx(ue))if(_x)Te=lP;else{Te=sP;var Pe=iP}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Te=aP);if(Te&&(Te=Te(o,se))){wx(pe,Te,d,ce);break e}Pe&&Pe(o,ue,se),o==="focusout"&&(Pe=ue._wrapperState)&&Pe.controlled&&ue.type==="number"&&We(ue,"number",ue.value)}switch(Pe=se?yi(se):window,o){case"focusin":(bx(Pe)||Pe.contentEditable==="true")&&(pi=Pe,_c=se,Ss=null);break;case"focusout":Ss=_c=pi=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Ax(pe,d,ce);break;case"selectionchange":if(dP)break;case"keydown":case"keyup":Ax(pe,d,ce)}var Ie;if(vc)e:{switch(o){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else fi?vx(o,d)&&(Me="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Me="onCompositionStart");Me&&(mx&&d.locale!=="ko"&&(fi||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&fi&&(Ie=cx()):(Or=ce,fc="value"in Or?Or.value:Or.textContent,fi=!0)),Pe=Xa(se,Me),0<Pe.length&&(Me=new px(Me,o,null,d,ce),pe.push({event:Me,listeners:Pe}),Ie?Me.data=Ie:(Ie=xx(d),Ie!==null&&(Me.data=Ie)))),(Ie=JA?eP(o,d):tP(o,d))&&(se=Xa(se,"onBeforeInput"),0<se.length&&(ce=new px("onBeforeInput","beforeinput",null,d,ce),pe.push({event:ce,listeners:se}),ce.data=Ie))}zx(pe,a)})}function Ns(o,a,d){return{instance:o,listener:a,currentTarget:d}}function Xa(o,a){for(var d=a+"Capture",y=[];o!==null;){var x=o,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=nr(o,d),E!=null&&y.unshift(Ns(o,E,x)),E=nr(o,a),E!=null&&y.push(Ns(o,E,x))),o=o.return}return y}function mi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Bx(o,a,d,y,x){for(var E=a._reactName,M=[];d!==null&&d!==y;){var W=d,Z=W.alternate,se=W.stateNode;if(Z!==null&&Z===y)break;W.tag===5&&se!==null&&(W=se,x?(Z=nr(d,E),Z!=null&&M.unshift(Ns(d,Z,W))):x||(Z=nr(d,E),Z!=null&&M.push(Ns(d,Z,W)))),d=d.return}M.length!==0&&o.push({event:a,listeners:M})}var mP=/\r\n?/g,gP=/\u0000|\uFFFD/g;function $x(o){return(typeof o=="string"?o:""+o).replace(mP,`
`).replace(gP,"")}function Qa(o,a,d){if(a=$x(a),$x(o)!==a&&d)throw Error(n(425))}function Za(){}var Tc=null,Ac=null;function Pc(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,yP=typeof clearTimeout=="function"?clearTimeout:void 0,Hx=typeof Promise=="function"?Promise:void 0,vP=typeof queueMicrotask=="function"?queueMicrotask:typeof Hx<"u"?function(o){return Hx.resolve(null).then(o).catch(xP)}:Ic;function xP(o){setTimeout(function(){throw o})}function Rc(o,a){var d=a,y=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(y===0){o.removeChild(x),ys(a);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=x}while(d);ys(a)}function Dr(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Vx(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return o;a--}else d==="/$"&&a++}o=o.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Hn="__reactFiber$"+gi,js="__reactProps$"+gi,lr="__reactContainer$"+gi,Mc="__reactEvents$"+gi,bP="__reactListeners$"+gi,wP="__reactHandles$"+gi;function wo(o){var a=o[Hn];if(a)return a;for(var d=o.parentNode;d;){if(a=d[lr]||d[Hn]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=Vx(o);o!==null;){if(d=o[Hn])return d;o=Vx(o)}return a}o=d,d=o.parentNode}return null}function Ts(o){return o=o[Hn]||o[lr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function yi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ja(o){return o[js]||null}var Oc=[],vi=-1;function qr(o){return{current:o}}function rt(o){0>vi||(o.current=Oc[vi],Oc[vi]=null,vi--)}function Qe(o,a){vi++,Oc[vi]=o.current,o.current=a}var zr={},Rt=qr(zr),Vt=qr(!1),_o=zr;function xi(o,a){var d=o.type.contextTypes;if(!d)return zr;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in d)x[E]=a[E];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=x),x}function Ut(o){return o=o.childContextTypes,o!=null}function el(){rt(Vt),rt(Rt)}function Ux(o,a,d){if(Rt.current!==zr)throw Error(n(168));Qe(Rt,a),Qe(Vt,d)}function Gx(o,a,d){var y=o.stateNode;if(a=a.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var x in y)if(!(x in a))throw Error(n(108,Q(o)||"Unknown",x));return I({},d,y)}function tl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||zr,_o=Rt.current,Qe(Rt,o),Qe(Vt,Vt.current),!0}function Wx(o,a,d){var y=o.stateNode;if(!y)throw Error(n(169));d?(o=Gx(o,a,_o),y.__reactInternalMemoizedMergedChildContext=o,rt(Vt),rt(Rt),Qe(Rt,o)):rt(Vt),Qe(Vt,d)}var ur=null,nl=!1,Lc=!1;function Kx(o){ur===null?ur=[o]:ur.push(o)}function _P(o){nl=!0,Kx(o)}function Fr(){if(!Lc&&ur!==null){Lc=!0;var o=0,a=me;try{var d=ur;for(me=1;o<d.length;o++){var y=d[o];do y=y(!0);while(y!==null)}ur=null,nl=!1}catch(x){throw ur!==null&&(ur=ur.slice(o+1)),mo(go,Fr),x}finally{me=a,Lc=!1}}return null}var bi=[],wi=0,rl=null,ol=0,hn=[],mn=0,ko=null,cr=1,dr="";function So(o,a){bi[wi++]=ol,bi[wi++]=rl,rl=o,ol=a}function Yx(o,a,d){hn[mn++]=cr,hn[mn++]=dr,hn[mn++]=ko,ko=o;var y=cr;o=dr;var x=32-zt(y)-1;y&=~(1<<x),d+=1;var E=32-zt(a)+x;if(30<E){var M=x-x%5;E=(y&(1<<M)-1).toString(32),y>>=M,x-=M,cr=1<<32-zt(a)+x|d<<x|y,dr=E+o}else cr=1<<E|d<<x|y,dr=o}function Dc(o){o.return!==null&&(So(o,1),Yx(o,1,0))}function qc(o){for(;o===rl;)rl=bi[--wi],bi[wi]=null,ol=bi[--wi],bi[wi]=null;for(;o===ko;)ko=hn[--mn],hn[mn]=null,dr=hn[--mn],hn[mn]=null,cr=hn[--mn],hn[mn]=null}var rn=null,on=null,lt=!1,Tn=null;function Xx(o,a){var d=xn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=o,a=o.deletions,a===null?(o.deletions=[d],o.flags|=16):a.push(d)}function Qx(o,a){switch(o.tag){case 5:var d=o.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,rn=o,on=Dr(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,rn=o,on=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=ko!==null?{id:cr,overflow:dr}:null,o.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=xn(18,null,null,0),d.stateNode=a,d.return=o,o.child=d,rn=o,on=null,!0):!1;default:return!1}}function zc(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Fc(o){if(lt){var a=on;if(a){var d=a;if(!Qx(o,a)){if(zc(o))throw Error(n(418));a=Dr(d.nextSibling);var y=rn;a&&Qx(o,a)?Xx(y,d):(o.flags=o.flags&-4097|2,lt=!1,rn=o)}}else{if(zc(o))throw Error(n(418));o.flags=o.flags&-4097|2,lt=!1,rn=o}}}function Zx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;rn=o}function il(o){if(o!==rn)return!1;if(!lt)return Zx(o),lt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Pc(o.type,o.memoizedProps)),a&&(a=on)){if(zc(o))throw Jx(),Error(n(418));for(;a;)Xx(o,a),a=Dr(a.nextSibling)}if(Zx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(a===0){on=Dr(o.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}o=o.nextSibling}on=null}}else on=rn?Dr(o.stateNode.nextSibling):null;return!0}function Jx(){for(var o=on;o;)o=Dr(o.nextSibling)}function _i(){on=rn=null,lt=!1}function Bc(o){Tn===null?Tn=[o]:Tn.push(o)}var kP=j.ReactCurrentBatchConfig;function As(o,a,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var y=d.stateNode}if(!y)throw Error(n(147,o));var x=y,E=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(M){var W=x.refs;M===null?delete W[E]:W[E]=M},a._stringRef=E,a)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function sl(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function e0(o){var a=o._init;return a(o._payload)}function t0(o){function a(re,te){if(o){var oe=re.deletions;oe===null?(re.deletions=[te],re.flags|=16):oe.push(te)}}function d(re,te){if(!o)return null;for(;te!==null;)a(re,te),te=te.sibling;return null}function y(re,te){for(re=new Map;te!==null;)te.key!==null?re.set(te.key,te):re.set(te.index,te),te=te.sibling;return re}function x(re,te){return re=Kr(re,te),re.index=0,re.sibling=null,re}function E(re,te,oe){return re.index=oe,o?(oe=re.alternate,oe!==null?(oe=oe.index,oe<te?(re.flags|=2,te):oe):(re.flags|=2,te)):(re.flags|=1048576,te)}function M(re){return o&&re.alternate===null&&(re.flags|=2),re}function W(re,te,oe,ge){return te===null||te.tag!==6?(te=Id(oe,re.mode,ge),te.return=re,te):(te=x(te,oe),te.return=re,te)}function Z(re,te,oe,ge){var Te=oe.type;return Te===N?ce(re,te,oe.props.children,ge,oe.key):te!==null&&(te.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&e0(Te)===te.type)?(ge=x(te,oe.props),ge.ref=As(re,te,oe),ge.return=re,ge):(ge=Al(oe.type,oe.key,oe.props,null,re.mode,ge),ge.ref=As(re,te,oe),ge.return=re,ge)}function se(re,te,oe,ge){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=Rd(oe,re.mode,ge),te.return=re,te):(te=x(te,oe.children||[]),te.return=re,te)}function ce(re,te,oe,ge,Te){return te===null||te.tag!==7?(te=Io(oe,re.mode,ge,Te),te.return=re,te):(te=x(te,oe),te.return=re,te)}function pe(re,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Id(""+te,re.mode,oe),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return oe=Al(te.type,te.key,te.props,null,re.mode,oe),oe.ref=As(re,null,te),oe.return=re,oe;case T:return te=Rd(te,re.mode,oe),te.return=re,te;case V:var ge=te._init;return pe(re,ge(te._payload),oe)}if(dt(te)||X(te))return te=Io(te,re.mode,oe,null),te.return=re,te;sl(re,te)}return null}function ue(re,te,oe,ge){var Te=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Te!==null?null:W(re,te,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===Te?Z(re,te,oe,ge):null;case T:return oe.key===Te?se(re,te,oe,ge):null;case V:return Te=oe._init,ue(re,te,Te(oe._payload),ge)}if(dt(oe)||X(oe))return Te!==null?null:ce(re,te,oe,ge,null);sl(re,oe)}return null}function be(re,te,oe,ge,Te){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return re=re.get(oe)||null,W(te,re,""+ge,Te);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case A:return re=re.get(ge.key===null?oe:ge.key)||null,Z(te,re,ge,Te);case T:return re=re.get(ge.key===null?oe:ge.key)||null,se(te,re,ge,Te);case V:var Pe=ge._init;return be(re,te,oe,Pe(ge._payload),Te)}if(dt(ge)||X(ge))return re=re.get(oe)||null,ce(te,re,ge,Te,null);sl(te,ge)}return null}function ke(re,te,oe,ge){for(var Te=null,Pe=null,Ie=te,Me=te=0,Tt=null;Ie!==null&&Me<oe.length;Me++){Ie.index>Me?(Tt=Ie,Ie=null):Tt=Ie.sibling;var Ue=ue(re,Ie,oe[Me],ge);if(Ue===null){Ie===null&&(Ie=Tt);break}o&&Ie&&Ue.alternate===null&&a(re,Ie),te=E(Ue,te,Me),Pe===null?Te=Ue:Pe.sibling=Ue,Pe=Ue,Ie=Tt}if(Me===oe.length)return d(re,Ie),lt&&So(re,Me),Te;if(Ie===null){for(;Me<oe.length;Me++)Ie=pe(re,oe[Me],ge),Ie!==null&&(te=E(Ie,te,Me),Pe===null?Te=Ie:Pe.sibling=Ie,Pe=Ie);return lt&&So(re,Me),Te}for(Ie=y(re,Ie);Me<oe.length;Me++)Tt=be(Ie,re,Me,oe[Me],ge),Tt!==null&&(o&&Tt.alternate!==null&&Ie.delete(Tt.key===null?Me:Tt.key),te=E(Tt,te,Me),Pe===null?Te=Tt:Pe.sibling=Tt,Pe=Tt);return o&&Ie.forEach(function(Yr){return a(re,Yr)}),lt&&So(re,Me),Te}function Ee(re,te,oe,ge){var Te=X(oe);if(typeof Te!="function")throw Error(n(150));if(oe=Te.call(oe),oe==null)throw Error(n(151));for(var Pe=Te=null,Ie=te,Me=te=0,Tt=null,Ue=oe.next();Ie!==null&&!Ue.done;Me++,Ue=oe.next()){Ie.index>Me?(Tt=Ie,Ie=null):Tt=Ie.sibling;var Yr=ue(re,Ie,Ue.value,ge);if(Yr===null){Ie===null&&(Ie=Tt);break}o&&Ie&&Yr.alternate===null&&a(re,Ie),te=E(Yr,te,Me),Pe===null?Te=Yr:Pe.sibling=Yr,Pe=Yr,Ie=Tt}if(Ue.done)return d(re,Ie),lt&&So(re,Me),Te;if(Ie===null){for(;!Ue.done;Me++,Ue=oe.next())Ue=pe(re,Ue.value,ge),Ue!==null&&(te=E(Ue,te,Me),Pe===null?Te=Ue:Pe.sibling=Ue,Pe=Ue);return lt&&So(re,Me),Te}for(Ie=y(re,Ie);!Ue.done;Me++,Ue=oe.next())Ue=be(Ie,re,Me,Ue.value,ge),Ue!==null&&(o&&Ue.alternate!==null&&Ie.delete(Ue.key===null?Me:Ue.key),te=E(Ue,te,Me),Pe===null?Te=Ue:Pe.sibling=Ue,Pe=Ue);return o&&Ie.forEach(function(nI){return a(re,nI)}),lt&&So(re,Me),Te}function yt(re,te,oe,ge){if(typeof oe=="object"&&oe!==null&&oe.type===N&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var Te=oe.key,Pe=te;Pe!==null;){if(Pe.key===Te){if(Te=oe.type,Te===N){if(Pe.tag===7){d(re,Pe.sibling),te=x(Pe,oe.props.children),te.return=re,re=te;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&e0(Te)===Pe.type){d(re,Pe.sibling),te=x(Pe,oe.props),te.ref=As(re,Pe,oe),te.return=re,re=te;break e}d(re,Pe);break}else a(re,Pe);Pe=Pe.sibling}oe.type===N?(te=Io(oe.props.children,re.mode,ge,oe.key),te.return=re,re=te):(ge=Al(oe.type,oe.key,oe.props,null,re.mode,ge),ge.ref=As(re,te,oe),ge.return=re,re=ge)}return M(re);case T:e:{for(Pe=oe.key;te!==null;){if(te.key===Pe)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){d(re,te.sibling),te=x(te,oe.children||[]),te.return=re,re=te;break e}else{d(re,te);break}else a(re,te);te=te.sibling}te=Rd(oe,re.mode,ge),te.return=re,re=te}return M(re);case V:return Pe=oe._init,yt(re,te,Pe(oe._payload),ge)}if(dt(oe))return ke(re,te,oe,ge);if(X(oe))return Ee(re,te,oe,ge);sl(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(d(re,te.sibling),te=x(te,oe),te.return=re,re=te):(d(re,te),te=Id(oe,re.mode,ge),te.return=re,re=te),M(re)):d(re,te)}return yt}var ki=t0(!0),n0=t0(!1),al=qr(null),ll=null,Si=null,$c=null;function Hc(){$c=Si=ll=null}function Vc(o){var a=al.current;rt(al),o._currentValue=a}function Uc(o,a,d){for(;o!==null;){var y=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,y!==null&&(y.childLanes|=a)):y!==null&&(y.childLanes&a)!==a&&(y.childLanes|=a),o===d)break;o=o.return}}function Ci(o,a){ll=o,$c=Si=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Gt=!0),o.firstContext=null)}function gn(o){var a=o._currentValue;if($c!==o)if(o={context:o,memoizedValue:a,next:null},Si===null){if(ll===null)throw Error(n(308));Si=o,ll.dependencies={lanes:0,firstContext:o}}else Si=Si.next=o;return a}var Co=null;function Gc(o){Co===null?Co=[o]:Co.push(o)}function r0(o,a,d,y){var x=a.interleaved;return x===null?(d.next=d,Gc(a)):(d.next=x.next,x.next=d),a.interleaved=d,fr(o,y)}function fr(o,a){o.lanes|=a;var d=o.alternate;for(d!==null&&(d.lanes|=a),d=o,o=o.return;o!==null;)o.childLanes|=a,d=o.alternate,d!==null&&(d.childLanes|=a),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Br=!1;function Wc(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function pr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function $r(o,a,d){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ve&2)!==0){var x=y.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),y.pending=a,fr(o,d)}return x=y.interleaved,x===null?(a.next=a,Gc(y)):(a.next=x.next,x.next=a),y.interleaved=a,fr(o,d)}function ul(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var y=a.lanes;y&=o.pendingLanes,d|=y,a.lanes=d,le(o,d)}}function i0(o,a){var d=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?x=E=M:E=E.next=M,d=d.next}while(d!==null);E===null?x=E=a:E=E.next=a}else x=E=a;d={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:y.shared,effects:y.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}function cl(o,a,d,y){var x=o.updateQueue;Br=!1;var E=x.firstBaseUpdate,M=x.lastBaseUpdate,W=x.shared.pending;if(W!==null){x.shared.pending=null;var Z=W,se=Z.next;Z.next=null,M===null?E=se:M.next=se,M=Z;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,W=ce.lastBaseUpdate,W!==M&&(W===null?ce.firstBaseUpdate=se:W.next=se,ce.lastBaseUpdate=Z))}if(E!==null){var pe=x.baseState;M=0,ce=se=Z=null,W=E;do{var ue=W.lane,be=W.eventTime;if((y&ue)===ue){ce!==null&&(ce=ce.next={eventTime:be,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ke=o,Ee=W;switch(ue=a,be=d,Ee.tag){case 1:if(ke=Ee.payload,typeof ke=="function"){pe=ke.call(be,pe,ue);break e}pe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ee.payload,ue=typeof ke=="function"?ke.call(be,pe,ue):ke,ue==null)break e;pe=I({},pe,ue);break e;case 2:Br=!0}}W.callback!==null&&W.lane!==0&&(o.flags|=64,ue=x.effects,ue===null?x.effects=[W]:ue.push(W))}else be={eventTime:be,lane:ue,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ce===null?(se=ce=be,Z=pe):ce=ce.next=be,M|=ue;if(W=W.next,W===null){if(W=x.shared.pending,W===null)break;ue=W,W=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);if(ce===null&&(Z=pe),x.baseState=Z,x.firstBaseUpdate=se,x.lastBaseUpdate=ce,a=x.shared.interleaved,a!==null){x=a;do M|=x.lane,x=x.next;while(x!==a)}else E===null&&(x.shared.lanes=0);jo|=M,o.lanes=M,o.memoizedState=pe}}function s0(o,a,d){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var y=o[a],x=y.callback;if(x!==null){if(y.callback=null,y=d,typeof x!="function")throw Error(n(191,x));x.call(y)}}}var Ps={},Vn=qr(Ps),Is=qr(Ps),Rs=qr(Ps);function Eo(o){if(o===Ps)throw Error(n(174));return o}function Kc(o,a){switch(Qe(Rs,a),Qe(Is,o),Qe(Vn,Ps),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:de(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=de(a,o)}rt(Vn),Qe(Vn,a)}function Ei(){rt(Vn),rt(Is),rt(Rs)}function a0(o){Eo(Rs.current);var a=Eo(Vn.current),d=de(a,o.type);a!==d&&(Qe(Is,o),Qe(Vn,d))}function Yc(o){Is.current===o&&(rt(Vn),rt(Is))}var pt=qr(0);function dl(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xc=[];function Qc(){for(var o=0;o<Xc.length;o++)Xc[o]._workInProgressVersionPrimary=null;Xc.length=0}var fl=j.ReactCurrentDispatcher,Zc=j.ReactCurrentBatchConfig,No=0,ht=null,Ct=null,Nt=null,pl=!1,Ms=!1,Os=0,SP=0;function Mt(){throw Error(n(321))}function Jc(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!jn(o[d],a[d]))return!1;return!0}function ed(o,a,d,y,x,E){if(No=E,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,fl.current=o===null||o.memoizedState===null?jP:TP,o=d(y,x),Ms){E=0;do{if(Ms=!1,Os=0,25<=E)throw Error(n(301));E+=1,Nt=Ct=null,a.updateQueue=null,fl.current=AP,o=d(y,x)}while(Ms)}if(fl.current=gl,a=Ct!==null&&Ct.next!==null,No=0,Nt=Ct=ht=null,pl=!1,a)throw Error(n(300));return o}function td(){var o=Os!==0;return Os=0,o}function Un(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ht.memoizedState=Nt=o:Nt=Nt.next=o,Nt}function yn(){if(Ct===null){var o=ht.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var a=Nt===null?ht.memoizedState:Nt.next;if(a!==null)Nt=a,Ct=o;else{if(o===null)throw Error(n(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nt===null?ht.memoizedState=Nt=o:Nt=Nt.next=o}return Nt}function Ls(o,a){return typeof a=="function"?a(o):a}function nd(o){var a=yn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var y=Ct,x=y.baseQueue,E=d.pending;if(E!==null){if(x!==null){var M=x.next;x.next=E.next,E.next=M}y.baseQueue=x=E,d.pending=null}if(x!==null){E=x.next,y=y.baseState;var W=M=null,Z=null,se=E;do{var ce=se.lane;if((No&ce)===ce)Z!==null&&(Z=Z.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),y=se.hasEagerState?se.eagerState:o(y,se.action);else{var pe={lane:ce,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Z===null?(W=Z=pe,M=y):Z=Z.next=pe,ht.lanes|=ce,jo|=ce}se=se.next}while(se!==null&&se!==E);Z===null?M=y:Z.next=W,jn(y,a.memoizedState)||(Gt=!0),a.memoizedState=y,a.baseState=M,a.baseQueue=Z,d.lastRenderedState=y}if(o=d.interleaved,o!==null){x=o;do E=x.lane,ht.lanes|=E,jo|=E,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function rd(o){var a=yn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var y=d.dispatch,x=d.pending,E=a.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do E=o(E,M.action),M=M.next;while(M!==x);jn(E,a.memoizedState)||(Gt=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),d.lastRenderedState=E}return[E,y]}function l0(){}function u0(o,a){var d=ht,y=yn(),x=a(),E=!jn(y.memoizedState,x);if(E&&(y.memoizedState=x,Gt=!0),y=y.queue,od(f0.bind(null,d,y,o),[o]),y.getSnapshot!==a||E||Nt!==null&&Nt.memoizedState.tag&1){if(d.flags|=2048,Ds(9,d0.bind(null,d,y,x,a),void 0,null),jt===null)throw Error(n(349));(No&30)!==0||c0(d,a,x)}return x}function c0(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function d0(o,a,d,y){a.value=d,a.getSnapshot=y,p0(a)&&h0(o)}function f0(o,a,d){return d(function(){p0(a)&&h0(o)})}function p0(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!jn(o,d)}catch{return!0}}function h0(o){var a=fr(o,1);a!==null&&Rn(a,o,1,-1)}function m0(o){var a=Un();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:o},a.queue=o,o=o.dispatch=NP.bind(null,ht,o),[a.memoizedState,o]}function Ds(o,a,d,y){return o={tag:o,create:a,destroy:d,deps:y,next:null},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.lastEffect=o.next=o):(d=a.lastEffect,d===null?a.lastEffect=o.next=o:(y=d.next,d.next=o,o.next=y,a.lastEffect=o)),o}function g0(){return yn().memoizedState}function hl(o,a,d,y){var x=Un();ht.flags|=o,x.memoizedState=Ds(1|a,d,void 0,y===void 0?null:y)}function ml(o,a,d,y){var x=yn();y=y===void 0?null:y;var E=void 0;if(Ct!==null){var M=Ct.memoizedState;if(E=M.destroy,y!==null&&Jc(y,M.deps)){x.memoizedState=Ds(a,d,E,y);return}}ht.flags|=o,x.memoizedState=Ds(1|a,d,E,y)}function y0(o,a){return hl(8390656,8,o,a)}function od(o,a){return ml(2048,8,o,a)}function v0(o,a){return ml(4,2,o,a)}function x0(o,a){return ml(4,4,o,a)}function b0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function w0(o,a,d){return d=d!=null?d.concat([o]):null,ml(4,4,b0.bind(null,a,o),d)}function id(){}function _0(o,a){var d=yn();a=a===void 0?null:a;var y=d.memoizedState;return y!==null&&a!==null&&Jc(a,y[1])?y[0]:(d.memoizedState=[o,a],o)}function k0(o,a){var d=yn();a=a===void 0?null:a;var y=d.memoizedState;return y!==null&&a!==null&&Jc(a,y[1])?y[0]:(o=o(),d.memoizedState=[o,a],o)}function S0(o,a,d){return(No&21)===0?(o.baseState&&(o.baseState=!1,Gt=!0),o.memoizedState=d):(jn(d,a)||(d=Nn(),ht.lanes|=d,jo|=d,o.baseState=!0),a)}function CP(o,a){var d=me;me=d!==0&&4>d?d:4,o(!0);var y=Zc.transition;Zc.transition={};try{o(!1),a()}finally{me=d,Zc.transition=y}}function C0(){return yn().memoizedState}function EP(o,a,d){var y=Gr(o);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},E0(o))N0(a,d);else if(d=r0(o,a,d,y),d!==null){var x=Bt();Rn(d,o,y,x),j0(d,a,y)}}function NP(o,a,d){var y=Gr(o),x={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(E0(o))N0(a,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var M=a.lastRenderedState,W=E(M,d);if(x.hasEagerState=!0,x.eagerState=W,jn(W,M)){var Z=a.interleaved;Z===null?(x.next=x,Gc(a)):(x.next=Z.next,Z.next=x),a.interleaved=x;return}}catch{}d=r0(o,a,x,y),d!==null&&(x=Bt(),Rn(d,o,y,x),j0(d,a,y))}}function E0(o){var a=o.alternate;return o===ht||a!==null&&a===ht}function N0(o,a){Ms=pl=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function j0(o,a,d){if((d&4194240)!==0){var y=a.lanes;y&=o.pendingLanes,d|=y,a.lanes=d,le(o,d)}}var gl={readContext:gn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},jP={readContext:gn,useCallback:function(o,a){return Un().memoizedState=[o,a===void 0?null:a],o},useContext:gn,useEffect:y0,useImperativeHandle:function(o,a,d){return d=d!=null?d.concat([o]):null,hl(4194308,4,b0.bind(null,a,o),d)},useLayoutEffect:function(o,a){return hl(4194308,4,o,a)},useInsertionEffect:function(o,a){return hl(4,2,o,a)},useMemo:function(o,a){var d=Un();return a=a===void 0?null:a,o=o(),d.memoizedState=[o,a],o},useReducer:function(o,a,d){var y=Un();return a=d!==void 0?d(a):a,y.memoizedState=y.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},y.queue=o,o=o.dispatch=EP.bind(null,ht,o),[y.memoizedState,o]},useRef:function(o){var a=Un();return o={current:o},a.memoizedState=o},useState:m0,useDebugValue:id,useDeferredValue:function(o){return Un().memoizedState=o},useTransition:function(){var o=m0(!1),a=o[0];return o=CP.bind(null,o[1]),Un().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,d){var y=ht,x=Un();if(lt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),jt===null)throw Error(n(349));(No&30)!==0||c0(y,a,d)}x.memoizedState=d;var E={value:d,getSnapshot:a};return x.queue=E,y0(f0.bind(null,y,E,o),[o]),y.flags|=2048,Ds(9,d0.bind(null,y,E,d,a),void 0,null),d},useId:function(){var o=Un(),a=jt.identifierPrefix;if(lt){var d=dr,y=cr;d=(y&~(1<<32-zt(y)-1)).toString(32)+d,a=":"+a+"R"+d,d=Os++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=SP++,a=":"+a+"r"+d.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},TP={readContext:gn,useCallback:_0,useContext:gn,useEffect:od,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:x0,useMemo:k0,useReducer:nd,useRef:g0,useState:function(){return nd(Ls)},useDebugValue:id,useDeferredValue:function(o){var a=yn();return S0(a,Ct.memoizedState,o)},useTransition:function(){var o=nd(Ls)[0],a=yn().memoizedState;return[o,a]},useMutableSource:l0,useSyncExternalStore:u0,useId:C0,unstable_isNewReconciler:!1},AP={readContext:gn,useCallback:_0,useContext:gn,useEffect:od,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:x0,useMemo:k0,useReducer:rd,useRef:g0,useState:function(){return rd(Ls)},useDebugValue:id,useDeferredValue:function(o){var a=yn();return Ct===null?a.memoizedState=o:S0(a,Ct.memoizedState,o)},useTransition:function(){var o=rd(Ls)[0],a=yn().memoizedState;return[o,a]},useMutableSource:l0,useSyncExternalStore:u0,useId:C0,unstable_isNewReconciler:!1};function An(o,a){if(o&&o.defaultProps){a=I({},a),o=o.defaultProps;for(var d in o)a[d]===void 0&&(a[d]=o[d]);return a}return a}function sd(o,a,d,y){a=o.memoizedState,d=d(y,a),d=d==null?a:I({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var yl={isMounted:function(o){return(o=o._reactInternals)?pn(o)===o:!1},enqueueSetState:function(o,a,d){o=o._reactInternals;var y=Bt(),x=Gr(o),E=pr(y,x);E.payload=a,d!=null&&(E.callback=d),a=$r(o,E,x),a!==null&&(Rn(a,o,x,y),ul(a,o,x))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var y=Bt(),x=Gr(o),E=pr(y,x);E.tag=1,E.payload=a,d!=null&&(E.callback=d),a=$r(o,E,x),a!==null&&(Rn(a,o,x,y),ul(a,o,x))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=Bt(),y=Gr(o),x=pr(d,y);x.tag=2,a!=null&&(x.callback=a),a=$r(o,x,y),a!==null&&(Rn(a,o,y,d),ul(a,o,y))}};function T0(o,a,d,y,x,E,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,E,M):a.prototype&&a.prototype.isPureReactComponent?!ks(d,y)||!ks(x,E):!0}function A0(o,a,d){var y=!1,x=zr,E=a.contextType;return typeof E=="object"&&E!==null?E=gn(E):(x=Ut(a)?_o:Rt.current,y=a.contextTypes,E=(y=y!=null)?xi(o,x):zr),a=new a(d,E),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=yl,o.stateNode=a,a._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=E),a}function P0(o,a,d,y){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,y),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,y),a.state!==o&&yl.enqueueReplaceState(a,a.state,null)}function ad(o,a,d,y){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},Wc(o);var E=a.contextType;typeof E=="object"&&E!==null?x.context=gn(E):(E=Ut(a)?_o:Rt.current,x.context=xi(o,E)),x.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(sd(o,a,E,d),x.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&yl.enqueueReplaceState(x,x.state,null),cl(o,d,x,y),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function Ni(o,a){try{var d="",y=a;do d+=ee(y),y=y.return;while(y);var x=d}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:a,stack:x,digest:null}}function ld(o,a,d){return{value:o,source:null,stack:d??null,digest:a??null}}function ud(o,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var PP=typeof WeakMap=="function"?WeakMap:Map;function I0(o,a,d){d=pr(-1,d),d.tag=3,d.payload={element:null};var y=a.value;return d.callback=function(){Sl||(Sl=!0,Sd=y),ud(o,a)},d}function R0(o,a,d){d=pr(-1,d),d.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=a.value;d.payload=function(){return y(x)},d.callback=function(){ud(o,a)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){ud(o,a),typeof y!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),d}function M0(o,a,d){var y=o.pingCache;if(y===null){y=o.pingCache=new PP;var x=new Set;y.set(a,x)}else x=y.get(a),x===void 0&&(x=new Set,y.set(a,x));x.has(d)||(x.add(d),o=UP.bind(null,o,a,d),a.then(o,o))}function O0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function L0(o,a,d,y,x){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=pr(-1,1),a.tag=2,$r(d,a,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var IP=j.ReactCurrentOwner,Gt=!1;function Ft(o,a,d,y){a.child=o===null?n0(a,null,d,y):ki(a,o.child,d,y)}function D0(o,a,d,y,x){d=d.render;var E=a.ref;return Ci(a,x),y=ed(o,a,d,y,E,x),d=td(),o!==null&&!Gt?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,hr(o,a,x)):(lt&&d&&Dc(a),a.flags|=1,Ft(o,a,y,x),a.child)}function q0(o,a,d,y,x){if(o===null){var E=d.type;return typeof E=="function"&&!Pd(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=E,z0(o,a,E,y,x)):(o=Al(d.type,null,y,a,a.mode,x),o.ref=a.ref,o.return=a,a.child=o)}if(E=o.child,(o.lanes&x)===0){var M=E.memoizedProps;if(d=d.compare,d=d!==null?d:ks,d(M,y)&&o.ref===a.ref)return hr(o,a,x)}return a.flags|=1,o=Kr(E,y),o.ref=a.ref,o.return=a,a.child=o}function z0(o,a,d,y,x){if(o!==null){var E=o.memoizedProps;if(ks(E,y)&&o.ref===a.ref)if(Gt=!1,a.pendingProps=y=E,(o.lanes&x)!==0)(o.flags&131072)!==0&&(Gt=!0);else return a.lanes=o.lanes,hr(o,a,x)}return cd(o,a,d,y,x)}function F0(o,a,d){var y=a.pendingProps,x=y.children,E=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ti,sn),sn|=d;else{if((d&1073741824)===0)return o=E!==null?E.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Qe(Ti,sn),sn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:d,Qe(Ti,sn),sn|=y}else E!==null?(y=E.baseLanes|d,a.memoizedState=null):y=d,Qe(Ti,sn),sn|=y;return Ft(o,a,x,d),a.child}function B0(o,a){var d=a.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function cd(o,a,d,y,x){var E=Ut(d)?_o:Rt.current;return E=xi(a,E),Ci(a,x),d=ed(o,a,d,y,E,x),y=td(),o!==null&&!Gt?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,hr(o,a,x)):(lt&&y&&Dc(a),a.flags|=1,Ft(o,a,d,x),a.child)}function $0(o,a,d,y,x){if(Ut(d)){var E=!0;tl(a)}else E=!1;if(Ci(a,x),a.stateNode===null)xl(o,a),A0(a,d,y),ad(a,d,y,x),y=!0;else if(o===null){var M=a.stateNode,W=a.memoizedProps;M.props=W;var Z=M.context,se=d.contextType;typeof se=="object"&&se!==null?se=gn(se):(se=Ut(d)?_o:Rt.current,se=xi(a,se));var ce=d.getDerivedStateFromProps,pe=typeof ce=="function"||typeof M.getSnapshotBeforeUpdate=="function";pe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==y||Z!==se)&&P0(a,M,y,se),Br=!1;var ue=a.memoizedState;M.state=ue,cl(a,y,M,x),Z=a.memoizedState,W!==y||ue!==Z||Vt.current||Br?(typeof ce=="function"&&(sd(a,d,ce,y),Z=a.memoizedState),(W=Br||T0(a,d,W,y,ue,Z,se))?(pe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=y,a.memoizedState=Z),M.props=y,M.state=Z,M.context=se,y=W):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),y=!1)}else{M=a.stateNode,o0(o,a),W=a.memoizedProps,se=a.type===a.elementType?W:An(a.type,W),M.props=se,pe=a.pendingProps,ue=M.context,Z=d.contextType,typeof Z=="object"&&Z!==null?Z=gn(Z):(Z=Ut(d)?_o:Rt.current,Z=xi(a,Z));var be=d.getDerivedStateFromProps;(ce=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==pe||ue!==Z)&&P0(a,M,y,Z),Br=!1,ue=a.memoizedState,M.state=ue,cl(a,y,M,x);var ke=a.memoizedState;W!==pe||ue!==ke||Vt.current||Br?(typeof be=="function"&&(sd(a,d,be,y),ke=a.memoizedState),(se=Br||T0(a,d,se,y,ue,ke,Z)||!1)?(ce||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,ke,Z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,ke,Z)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===o.memoizedProps&&ue===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&ue===o.memoizedState||(a.flags|=1024),a.memoizedProps=y,a.memoizedState=ke),M.props=y,M.state=ke,M.context=Z,y=se):(typeof M.componentDidUpdate!="function"||W===o.memoizedProps&&ue===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&ue===o.memoizedState||(a.flags|=1024),y=!1)}return dd(o,a,d,y,E,x)}function dd(o,a,d,y,x,E){B0(o,a);var M=(a.flags&128)!==0;if(!y&&!M)return x&&Wx(a,d,!1),hr(o,a,E);y=a.stateNode,IP.current=a;var W=M&&typeof d.getDerivedStateFromError!="function"?null:y.render();return a.flags|=1,o!==null&&M?(a.child=ki(a,o.child,null,E),a.child=ki(a,null,W,E)):Ft(o,a,W,E),a.memoizedState=y.state,x&&Wx(a,d,!0),a.child}function H0(o){var a=o.stateNode;a.pendingContext?Ux(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Ux(o,a.context,!1),Kc(o,a.containerInfo)}function V0(o,a,d,y,x){return _i(),Bc(x),a.flags|=256,Ft(o,a,d,y),a.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function pd(o){return{baseLanes:o,cachePool:null,transitions:null}}function U0(o,a,d){var y=a.pendingProps,x=pt.current,E=!1,M=(a.flags&128)!==0,W;if((W=M)||(W=o!==null&&o.memoizedState===null?!1:(x&2)!==0),W?(E=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Qe(pt,x&1),o===null)return Fc(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=y.children,o=y.fallback,E?(y=a.mode,E=a.child,M={mode:"hidden",children:M},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=M):E=Pl(M,y,0,null),o=Io(o,y,d,null),E.return=a,o.return=a,E.sibling=o,a.child=E,a.child.memoizedState=pd(d),a.memoizedState=fd,o):hd(a,M));if(x=o.memoizedState,x!==null&&(W=x.dehydrated,W!==null))return RP(o,a,M,y,W,x,d);if(E){E=y.fallback,M=a.mode,x=o.child,W=x.sibling;var Z={mode:"hidden",children:y.children};return(M&1)===0&&a.child!==x?(y=a.child,y.childLanes=0,y.pendingProps=Z,a.deletions=null):(y=Kr(x,Z),y.subtreeFlags=x.subtreeFlags&14680064),W!==null?E=Kr(W,E):(E=Io(E,M,d,null),E.flags|=2),E.return=a,y.return=a,y.sibling=E,a.child=y,y=E,E=a.child,M=o.child.memoizedState,M=M===null?pd(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=o.childLanes&~d,a.memoizedState=fd,y}return E=o.child,o=E.sibling,y=Kr(E,{mode:"visible",children:y.children}),(a.mode&1)===0&&(y.lanes=d),y.return=a,y.sibling=null,o!==null&&(d=a.deletions,d===null?(a.deletions=[o],a.flags|=16):d.push(o)),a.child=y,a.memoizedState=null,y}function hd(o,a){return a=Pl({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function vl(o,a,d,y){return y!==null&&Bc(y),ki(a,o.child,null,d),o=hd(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function RP(o,a,d,y,x,E,M){if(d)return a.flags&256?(a.flags&=-257,y=ld(Error(n(422))),vl(o,a,M,y)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(E=y.fallback,x=a.mode,y=Pl({mode:"visible",children:y.children},x,0,null),E=Io(E,x,M,null),E.flags|=2,y.return=a,E.return=a,y.sibling=E,a.child=y,(a.mode&1)!==0&&ki(a,o.child,null,M),a.child.memoizedState=pd(M),a.memoizedState=fd,E);if((a.mode&1)===0)return vl(o,a,M,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var W=y.dgst;return y=W,E=Error(n(419)),y=ld(E,y,void 0),vl(o,a,M,y)}if(W=(M&o.childLanes)!==0,Gt||W){if(y=jt,y!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|M))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,fr(o,x),Rn(y,o,x,-1))}return Ad(),y=ld(Error(n(421))),vl(o,a,M,y)}return x.data==="$?"?(a.flags|=128,a.child=o.child,a=GP.bind(null,o),x._reactRetry=a,null):(o=E.treeContext,on=Dr(x.nextSibling),rn=a,lt=!0,Tn=null,o!==null&&(hn[mn++]=cr,hn[mn++]=dr,hn[mn++]=ko,cr=o.id,dr=o.overflow,ko=a),a=hd(a,y.children),a.flags|=4096,a)}function G0(o,a,d){o.lanes|=a;var y=o.alternate;y!==null&&(y.lanes|=a),Uc(o.return,a,d)}function md(o,a,d,y,x){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:x}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=d,E.tailMode=x)}function W0(o,a,d){var y=a.pendingProps,x=y.revealOrder,E=y.tail;if(Ft(o,a,y.children,d),y=pt.current,(y&2)!==0)y=y&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&G0(o,d,a);else if(o.tag===19)G0(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Qe(pt,y),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)o=d.alternate,o!==null&&dl(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),md(a,!1,x,d,E);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(o=x.alternate,o!==null&&dl(o)===null){a.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}md(a,!0,d,null,E);break;case"together":md(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xl(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function hr(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),jo|=a.lanes,(d&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,d=Kr(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=Kr(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function MP(o,a,d){switch(a.tag){case 3:H0(a),_i();break;case 5:a0(a);break;case 1:Ut(a.type)&&tl(a);break;case 4:Kc(a,a.stateNode.containerInfo);break;case 10:var y=a.type._context,x=a.memoizedProps.value;Qe(al,y._currentValue),y._currentValue=x;break;case 13:if(y=a.memoizedState,y!==null)return y.dehydrated!==null?(Qe(pt,pt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?U0(o,a,d):(Qe(pt,pt.current&1),o=hr(o,a,d),o!==null?o.sibling:null);Qe(pt,pt.current&1);break;case 19:if(y=(d&a.childLanes)!==0,(o.flags&128)!==0){if(y)return W0(o,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Qe(pt,pt.current),y)break;return null;case 22:case 23:return a.lanes=0,F0(o,a,d)}return hr(o,a,d)}var K0,gd,Y0,X0;K0=function(o,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},gd=function(){},Y0=function(o,a,d,y){var x=o.memoizedProps;if(x!==y){o=a.stateNode,Eo(Vn.current);var E=null;switch(d){case"input":x=Ae(o,x),y=Ae(o,y),E=[];break;case"select":x=I({},x,{value:void 0}),y=I({},y,{value:void 0}),E=[];break;case"textarea":x=st(o,x),y=st(o,y),E=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Za)}at(d,y);var M;d=null;for(se in x)if(!y.hasOwnProperty(se)&&x.hasOwnProperty(se)&&x[se]!=null)if(se==="style"){var W=x[se];for(M in W)W.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in y){var Z=y[se];if(W=x?.[se],y.hasOwnProperty(se)&&Z!==W&&(Z!=null||W!=null))if(se==="style")if(W){for(M in W)!W.hasOwnProperty(M)||Z&&Z.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in Z)Z.hasOwnProperty(M)&&W[M]!==Z[M]&&(d||(d={}),d[M]=Z[M])}else d||(E||(E=[]),E.push(se,d)),d=Z;else se==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,W=W?W.__html:void 0,Z!=null&&W!==Z&&(E=E||[]).push(se,Z)):se==="children"?typeof Z!="string"&&typeof Z!="number"||(E=E||[]).push(se,""+Z):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Z!=null&&se==="onScroll"&&nt("scroll",o),E||W===Z||(E=[])):(E=E||[]).push(se,Z))}d&&(E=E||[]).push("style",d);var se=E;(a.updateQueue=se)&&(a.flags|=4)}},X0=function(o,a,d,y){d!==y&&(a.flags|=4)};function qs(o,a){if(!lt)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ot(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,y=0;if(a)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=y,o.childLanes=d,a}function OP(o,a,d){var y=a.pendingProps;switch(qc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ut(a.type)&&el(),Ot(a),null;case 3:return y=a.stateNode,Ei(),rt(Vt),rt(Rt),Qc(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(il(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tn!==null&&(Nd(Tn),Tn=null))),gd(o,a),Ot(a),null;case 5:Yc(a);var x=Eo(Rs.current);if(d=a.type,o!==null&&a.stateNode!=null)Y0(o,a,d,y,x),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!y){if(a.stateNode===null)throw Error(n(166));return Ot(a),null}if(o=Eo(Vn.current),il(a)){y=a.stateNode,d=a.type;var E=a.memoizedProps;switch(y[Hn]=a,y[js]=E,o=(a.mode&1)!==0,d){case"dialog":nt("cancel",y),nt("close",y);break;case"iframe":case"object":case"embed":nt("load",y);break;case"video":case"audio":for(x=0;x<Cs.length;x++)nt(Cs[x],y);break;case"source":nt("error",y);break;case"img":case"image":case"link":nt("error",y),nt("load",y);break;case"details":nt("toggle",y);break;case"input":we(y,E),nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},nt("invalid",y);break;case"textarea":He(y,E),nt("invalid",y)}at(d,E),x=null;for(var M in E)if(E.hasOwnProperty(M)){var W=E[M];M==="children"?typeof W=="string"?y.textContent!==W&&(E.suppressHydrationWarning!==!0&&Qa(y.textContent,W,o),x=["children",W]):typeof W=="number"&&y.textContent!==""+W&&(E.suppressHydrationWarning!==!0&&Qa(y.textContent,W,o),x=["children",""+W]):i.hasOwnProperty(M)&&W!=null&&M==="onScroll"&&nt("scroll",y)}switch(d){case"input":ve(y),it(y,E,!0);break;case"textarea":ve(y),ye(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=Za)}y=x,a.updateQueue=y,y!==null&&(a.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ie(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=M.createElement(d,{is:y.is}):(o=M.createElement(d),d==="select"&&(M=o,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):o=M.createElementNS(o,d),o[Hn]=a,o[js]=y,K0(o,a,!1,!1),a.stateNode=o;e:{switch(M=$t(d,y),d){case"dialog":nt("cancel",o),nt("close",o),x=y;break;case"iframe":case"object":case"embed":nt("load",o),x=y;break;case"video":case"audio":for(x=0;x<Cs.length;x++)nt(Cs[x],o);x=y;break;case"source":nt("error",o),x=y;break;case"img":case"image":case"link":nt("error",o),nt("load",o),x=y;break;case"details":nt("toggle",o),x=y;break;case"input":we(o,y),x=Ae(o,y),nt("invalid",o);break;case"option":x=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},x=I({},y,{value:void 0}),nt("invalid",o);break;case"textarea":He(o,y),x=st(o,y),nt("invalid",o);break;default:x=y}at(d,x),W=x;for(E in W)if(W.hasOwnProperty(E)){var Z=W[E];E==="style"?Ke(o,Z):E==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Re(o,Z)):E==="children"?typeof Z=="string"?(d!=="textarea"||Z!=="")&&De(o,Z):typeof Z=="number"&&De(o,""+Z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Z!=null&&E==="onScroll"&&nt("scroll",o):Z!=null&&S(o,E,Z,M))}switch(d){case"input":ve(o),it(o,y,!1);break;case"textarea":ve(o),ye(o);break;case"option":y.value!=null&&o.setAttribute("value",""+ne(y.value));break;case"select":o.multiple=!!y.multiple,E=y.value,E!=null?Fe(o,!!y.multiple,E,!1):y.defaultValue!=null&&Fe(o,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Za)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ot(a),null;case 6:if(o&&a.stateNode!=null)X0(o,a,o.memoizedProps,y);else{if(typeof y!="string"&&a.stateNode===null)throw Error(n(166));if(d=Eo(Rs.current),Eo(Vn.current),il(a)){if(y=a.stateNode,d=a.memoizedProps,y[Hn]=a,(E=y.nodeValue!==d)&&(o=rn,o!==null))switch(o.tag){case 3:Qa(y.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Qa(y.nodeValue,d,(o.mode&1)!==0)}E&&(a.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[Hn]=a,a.stateNode=y}return Ot(a),null;case 13:if(rt(pt),y=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(lt&&on!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Jx(),_i(),a.flags|=98560,E=!1;else if(E=il(a),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Hn]=a}else _i(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ot(a),E=!1}else Tn!==null&&(Nd(Tn),Tn=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(pt.current&1)!==0?Et===0&&(Et=3):Ad())),a.updateQueue!==null&&(a.flags|=4),Ot(a),null);case 4:return Ei(),gd(o,a),o===null&&Es(a.stateNode.containerInfo),Ot(a),null;case 10:return Vc(a.type._context),Ot(a),null;case 17:return Ut(a.type)&&el(),Ot(a),null;case 19:if(rt(pt),E=a.memoizedState,E===null)return Ot(a),null;if(y=(a.flags&128)!==0,M=E.rendering,M===null)if(y)qs(E,!1);else{if(Et!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(M=dl(o),M!==null){for(a.flags|=128,qs(E,!1),y=M.updateQueue,y!==null&&(a.updateQueue=y,a.flags|=4),a.subtreeFlags=0,y=d,d=a.child;d!==null;)E=d,o=y,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,o=M.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Qe(pt,pt.current&1|2),a.child}o=o.sibling}E.tail!==null&&Ye()>Ai&&(a.flags|=128,y=!0,qs(E,!1),a.lanes=4194304)}else{if(!y)if(o=dl(M),o!==null){if(a.flags|=128,y=!0,d=o.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),qs(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!lt)return Ot(a),null}else 2*Ye()-E.renderingStartTime>Ai&&d!==1073741824&&(a.flags|=128,y=!0,qs(E,!1),a.lanes=4194304);E.isBackwards?(M.sibling=a.child,a.child=M):(d=E.last,d!==null?d.sibling=M:a.child=M,E.last=M)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Ye(),a.sibling=null,d=pt.current,Qe(pt,y?d&1|2:d&1),a):(Ot(a),null);case 22:case 23:return Td(),y=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(a.flags|=8192),y&&(a.mode&1)!==0?(sn&1073741824)!==0&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function LP(o,a){switch(qc(a),a.tag){case 1:return Ut(a.type)&&el(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ei(),rt(Vt),rt(Rt),Qc(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Yc(a),null;case 13:if(rt(pt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));_i()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return rt(pt),null;case 4:return Ei(),null;case 10:return Vc(a.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var bl=!1,Lt=!1,DP=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ji(o,a){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){mt(o,a,y)}else d.current=null}function yd(o,a,d){try{d()}catch(y){mt(o,a,y)}}var Q0=!1;function qP(o,a){if(Tc=Fa,o=Tx(),wc(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var x=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var M=0,W=-1,Z=-1,se=0,ce=0,pe=o,ue=null;t:for(;;){for(var be;pe!==d||x!==0&&pe.nodeType!==3||(W=M+x),pe!==E||y!==0&&pe.nodeType!==3||(Z=M+y),pe.nodeType===3&&(M+=pe.nodeValue.length),(be=pe.firstChild)!==null;)ue=pe,pe=be;for(;;){if(pe===o)break t;if(ue===d&&++se===x&&(W=M),ue===E&&++ce===y&&(Z=M),(be=pe.nextSibling)!==null)break;pe=ue,ue=pe.parentNode}pe=be}d=W===-1||Z===-1?null:{start:W,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ac={focusedElem:o,selectionRange:d},Fa=!1,_e=a;_e!==null;)if(a=_e,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,_e=o;else for(;_e!==null;){a=_e;try{var ke=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ee=ke.memoizedProps,yt=ke.memoizedState,re=a.stateNode,te=re.getSnapshotBeforeUpdate(a.elementType===a.type?Ee:An(a.type,Ee),yt);re.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=a.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){mt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,_e=o;break}_e=a.return}return ke=Q0,Q0=!1,ke}function zs(o,a,d){var y=a.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&o)===o){var E=x.destroy;x.destroy=void 0,E!==void 0&&yd(a,d,E)}x=x.next}while(x!==y)}}function wl(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&o)===o){var y=d.create;d.destroy=y()}d=d.next}while(d!==a)}}function vd(o){var a=o.ref;if(a!==null){var d=o.stateNode;o.tag,o=d,typeof a=="function"?a(o):a.current=o}}function Z0(o){var a=o.alternate;a!==null&&(o.alternate=null,Z0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Hn],delete a[js],delete a[Mc],delete a[bP],delete a[wP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function J0(o){return o.tag===5||o.tag===3||o.tag===4}function eb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||J0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xd(o,a,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(o,a):d.insertBefore(o,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(o,d)):(a=d,a.appendChild(o)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Za));else if(y!==4&&(o=o.child,o!==null))for(xd(o,a,d),o=o.sibling;o!==null;)xd(o,a,d),o=o.sibling}function bd(o,a,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(bd(o,a,d),o=o.sibling;o!==null;)bd(o,a,d),o=o.sibling}var Pt=null,Pn=!1;function Hr(o,a,d){for(d=d.child;d!==null;)tb(o,a,d),d=d.sibling}function tb(o,a,d){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ir,d)}catch{}switch(d.tag){case 5:Lt||ji(d,a);case 6:var y=Pt,x=Pn;Pt=null,Hr(o,a,d),Pt=y,Pn=x,Pt!==null&&(Pn?(o=Pt,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Pt.removeChild(d.stateNode));break;case 18:Pt!==null&&(Pn?(o=Pt,d=d.stateNode,o.nodeType===8?Rc(o.parentNode,d):o.nodeType===1&&Rc(o,d),ys(o)):Rc(Pt,d.stateNode));break;case 4:y=Pt,x=Pn,Pt=d.stateNode.containerInfo,Pn=!0,Hr(o,a,d),Pt=y,Pn=x;break;case 0:case 11:case 14:case 15:if(!Lt&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var E=x,M=E.destroy;E=E.tag,M!==void 0&&((E&2)!==0||(E&4)!==0)&&yd(d,a,M),x=x.next}while(x!==y)}Hr(o,a,d);break;case 1:if(!Lt&&(ji(d,a),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(W){mt(d,a,W)}Hr(o,a,d);break;case 21:Hr(o,a,d);break;case 22:d.mode&1?(Lt=(y=Lt)||d.memoizedState!==null,Hr(o,a,d),Lt=y):Hr(o,a,d);break;default:Hr(o,a,d)}}function nb(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new DP),a.forEach(function(y){var x=WP.bind(null,o,y);d.has(y)||(d.add(y),y.then(x,x))})}}function In(o,a){var d=a.deletions;if(d!==null)for(var y=0;y<d.length;y++){var x=d[y];try{var E=o,M=a,W=M;e:for(;W!==null;){switch(W.tag){case 5:Pt=W.stateNode,Pn=!1;break e;case 3:Pt=W.stateNode.containerInfo,Pn=!0;break e;case 4:Pt=W.stateNode.containerInfo,Pn=!0;break e}W=W.return}if(Pt===null)throw Error(n(160));tb(E,M,x),Pt=null,Pn=!1;var Z=x.alternate;Z!==null&&(Z.return=null),x.return=null}catch(se){mt(x,a,se)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)rb(a,o),a=a.sibling}function rb(o,a){var d=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(In(a,o),Gn(o),y&4){try{zs(3,o,o.return),wl(3,o)}catch(Ee){mt(o,o.return,Ee)}try{zs(5,o,o.return)}catch(Ee){mt(o,o.return,Ee)}}break;case 1:In(a,o),Gn(o),y&512&&d!==null&&ji(d,d.return);break;case 5:if(In(a,o),Gn(o),y&512&&d!==null&&ji(d,d.return),o.flags&32){var x=o.stateNode;try{De(x,"")}catch(Ee){mt(o,o.return,Ee)}}if(y&4&&(x=o.stateNode,x!=null)){var E=o.memoizedProps,M=d!==null?d.memoizedProps:E,W=o.type,Z=o.updateQueue;if(o.updateQueue=null,Z!==null)try{W==="input"&&E.type==="radio"&&E.name!=null&&Le(x,E),$t(W,M);var se=$t(W,E);for(M=0;M<Z.length;M+=2){var ce=Z[M],pe=Z[M+1];ce==="style"?Ke(x,pe):ce==="dangerouslySetInnerHTML"?Re(x,pe):ce==="children"?De(x,pe):S(x,ce,pe,se)}switch(W){case"input":Ne(x,E);break;case"textarea":gt(x,E);break;case"select":var ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var be=E.value;be!=null?Fe(x,!!E.multiple,be,!1):ue!==!!E.multiple&&(E.defaultValue!=null?Fe(x,!!E.multiple,E.defaultValue,!0):Fe(x,!!E.multiple,E.multiple?[]:"",!1))}x[js]=E}catch(Ee){mt(o,o.return,Ee)}}break;case 6:if(In(a,o),Gn(o),y&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,E=o.memoizedProps;try{x.nodeValue=E}catch(Ee){mt(o,o.return,Ee)}}break;case 3:if(In(a,o),Gn(o),y&4&&d!==null&&d.memoizedState.isDehydrated)try{ys(a.containerInfo)}catch(Ee){mt(o,o.return,Ee)}break;case 4:In(a,o),Gn(o);break;case 13:In(a,o),Gn(o),x=o.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(kd=Ye())),y&4&&nb(o);break;case 22:if(ce=d!==null&&d.memoizedState!==null,o.mode&1?(Lt=(se=Lt)||ce,In(a,o),Lt=se):In(a,o),Gn(o),y&8192){if(se=o.memoizedState!==null,(o.stateNode.isHidden=se)&&!ce&&(o.mode&1)!==0)for(_e=o,ce=o.child;ce!==null;){for(pe=_e=ce;_e!==null;){switch(ue=_e,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:zs(4,ue,ue.return);break;case 1:ji(ue,ue.return);var ke=ue.stateNode;if(typeof ke.componentWillUnmount=="function"){y=ue,d=ue.return;try{a=y,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Ee){mt(y,d,Ee)}}break;case 5:ji(ue,ue.return);break;case 22:if(ue.memoizedState!==null){sb(pe);continue}}be!==null?(be.return=ue,_e=be):sb(pe)}ce=ce.sibling}e:for(ce=null,pe=o;;){if(pe.tag===5){if(ce===null){ce=pe;try{x=pe.stateNode,se?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(W=pe.stateNode,Z=pe.memoizedProps.style,M=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,W.style.display=et("display",M))}catch(Ee){mt(o,o.return,Ee)}}}else if(pe.tag===6){if(ce===null)try{pe.stateNode.nodeValue=se?"":pe.memoizedProps}catch(Ee){mt(o,o.return,Ee)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===o)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===o)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===o)break e;ce===pe&&(ce=null),pe=pe.return}ce===pe&&(ce=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:In(a,o),Gn(o),y&4&&nb(o);break;case 21:break;default:In(a,o),Gn(o)}}function Gn(o){var a=o.flags;if(a&2){try{e:{for(var d=o.return;d!==null;){if(J0(d)){var y=d;break e}d=d.return}throw Error(n(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(De(x,""),y.flags&=-33);var E=eb(o);bd(o,E,x);break;case 3:case 4:var M=y.stateNode.containerInfo,W=eb(o);xd(o,W,M);break;default:throw Error(n(161))}}catch(Z){mt(o,o.return,Z)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function zP(o,a,d){_e=o,ob(o)}function ob(o,a,d){for(var y=(o.mode&1)!==0;_e!==null;){var x=_e,E=x.child;if(x.tag===22&&y){var M=x.memoizedState!==null||bl;if(!M){var W=x.alternate,Z=W!==null&&W.memoizedState!==null||Lt;W=bl;var se=Lt;if(bl=M,(Lt=Z)&&!se)for(_e=x;_e!==null;)M=_e,Z=M.child,M.tag===22&&M.memoizedState!==null?ab(x):Z!==null?(Z.return=M,_e=Z):ab(x);for(;E!==null;)_e=E,ob(E),E=E.sibling;_e=x,bl=W,Lt=se}ib(o)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,_e=E):ib(o)}}function ib(o){for(;_e!==null;){var a=_e;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Lt||wl(5,a);break;case 1:var y=a.stateNode;if(a.flags&4&&!Lt)if(d===null)y.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:An(a.type,d.memoizedProps);y.componentDidUpdate(x,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&s0(a,E,y);break;case 3:var M=a.updateQueue;if(M!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}s0(a,M,d)}break;case 5:var W=a.stateNode;if(d===null&&a.flags&4){d=W;var Z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&d.focus();break;case"img":Z.src&&(d.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var se=a.alternate;if(se!==null){var ce=se.memoizedState;if(ce!==null){var pe=ce.dehydrated;pe!==null&&ys(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||a.flags&512&&vd(a)}catch(ue){mt(a,a.return,ue)}}if(a===o){_e=null;break}if(d=a.sibling,d!==null){d.return=a.return,_e=d;break}_e=a.return}}function sb(o){for(;_e!==null;){var a=_e;if(a===o){_e=null;break}var d=a.sibling;if(d!==null){d.return=a.return,_e=d;break}_e=a.return}}function ab(o){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{wl(4,a)}catch(Z){mt(a,d,Z)}break;case 1:var y=a.stateNode;if(typeof y.componentDidMount=="function"){var x=a.return;try{y.componentDidMount()}catch(Z){mt(a,x,Z)}}var E=a.return;try{vd(a)}catch(Z){mt(a,E,Z)}break;case 5:var M=a.return;try{vd(a)}catch(Z){mt(a,M,Z)}}}catch(Z){mt(a,a.return,Z)}if(a===o){_e=null;break}var W=a.sibling;if(W!==null){W.return=a.return,_e=W;break}_e=a.return}}var FP=Math.ceil,_l=j.ReactCurrentDispatcher,wd=j.ReactCurrentOwner,vn=j.ReactCurrentBatchConfig,Ve=0,jt=null,xt=null,It=0,sn=0,Ti=qr(0),Et=0,Fs=null,jo=0,kl=0,_d=0,Bs=null,Wt=null,kd=0,Ai=1/0,mr=null,Sl=!1,Sd=null,Vr=null,Cl=!1,Ur=null,El=0,$s=0,Cd=null,Nl=-1,jl=0;function Bt(){return(Ve&6)!==0?Ye():Nl!==-1?Nl:Nl=Ye()}function Gr(o){return(o.mode&1)===0?1:(Ve&2)!==0&&It!==0?It&-It:kP.transition!==null?(jl===0&&(jl=Nn()),jl):(o=me,o!==0||(o=window.event,o=o===void 0?16:ux(o.type)),o)}function Rn(o,a,d,y){if(50<$s)throw $s=0,Cd=null,Error(n(185));sr(o,d,y),((Ve&2)===0||o!==jt)&&(o===jt&&((Ve&2)===0&&(kl|=d),Et===4&&Wr(o,It)),Kt(o,y),d===1&&Ve===0&&(a.mode&1)===0&&(Ai=Ye()+500,nl&&Fr()))}function Kt(o,a){var d=o.callbackNode;li(o,a);var y=En(o,o===jt?It:0);if(y===0)d!==null&&Cr(d),o.callbackNode=null,o.callbackPriority=0;else if(a=y&-y,o.callbackPriority!==a){if(d!=null&&Cr(d),a===1)o.tag===0?_P(ub.bind(null,o)):Kx(ub.bind(null,o)),vP(function(){(Ve&6)===0&&Fr()}),d=null;else{switch(vt(y)){case 1:d=go;break;case 4:d=yo;break;case 16:d=Nr;break;case 536870912:d=jr;break;default:d=Nr}d=yb(d,lb.bind(null,o))}o.callbackPriority=a,o.callbackNode=d}}function lb(o,a){if(Nl=-1,jl=0,(Ve&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Pi()&&o.callbackNode!==d)return null;var y=En(o,o===jt?It:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||a)a=Tl(o,y);else{a=y;var x=Ve;Ve|=2;var E=db();(jt!==o||It!==a)&&(mr=null,Ai=Ye()+500,Ao(o,a));do try{HP();break}catch(W){cb(o,W)}while(!0);Hc(),_l.current=E,Ve=x,xt!==null?a=0:(jt=null,It=0,a=Et)}if(a!==0){if(a===2&&(x=vo(o),x!==0&&(y=x,a=Ed(o,x))),a===1)throw d=Fs,Ao(o,0),Wr(o,y),Kt(o,Ye()),d;if(a===6)Wr(o,y);else{if(x=o.current.alternate,(y&30)===0&&!BP(x)&&(a=Tl(o,y),a===2&&(E=vo(o),E!==0&&(y=E,a=Ed(o,E))),a===1))throw d=Fs,Ao(o,0),Wr(o,y),Kt(o,Ye()),d;switch(o.finishedWork=x,o.finishedLanes=y,a){case 0:case 1:throw Error(n(345));case 2:Po(o,Wt,mr);break;case 3:if(Wr(o,y),(y&130023424)===y&&(a=kd+500-Ye(),10<a)){if(En(o,0)!==0)break;if(x=o.suspendedLanes,(x&y)!==y){Bt(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Ic(Po.bind(null,o,Wt,mr),a);break}Po(o,Wt,mr);break;case 4:if(Wr(o,y),(y&4194240)===y)break;for(a=o.eventTimes,x=-1;0<y;){var M=31-zt(y);E=1<<M,M=a[M],M>x&&(x=M),y&=~E}if(y=x,y=Ye()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*FP(y/1960))-y,10<y){o.timeoutHandle=Ic(Po.bind(null,o,Wt,mr),y);break}Po(o,Wt,mr);break;case 5:Po(o,Wt,mr);break;default:throw Error(n(329))}}}return Kt(o,Ye()),o.callbackNode===d?lb.bind(null,o):null}function Ed(o,a){var d=Bs;return o.current.memoizedState.isDehydrated&&(Ao(o,a).flags|=256),o=Tl(o,a),o!==2&&(a=Wt,Wt=d,a!==null&&Nd(a)),o}function Nd(o){Wt===null?Wt=o:Wt.push.apply(Wt,o)}function BP(o){for(var a=o;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var x=d[y],E=x.getSnapshot;x=x.value;try{if(!jn(E(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wr(o,a){for(a&=~_d,a&=~kl,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var d=31-zt(a),y=1<<d;o[d]=-1,a&=~y}}function ub(o){if((Ve&6)!==0)throw Error(n(327));Pi();var a=En(o,0);if((a&1)===0)return Kt(o,Ye()),null;var d=Tl(o,a);if(o.tag!==0&&d===2){var y=vo(o);y!==0&&(a=y,d=Ed(o,y))}if(d===1)throw d=Fs,Ao(o,0),Wr(o,a),Kt(o,Ye()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Po(o,Wt,mr),Kt(o,Ye()),null}function jd(o,a){var d=Ve;Ve|=1;try{return o(a)}finally{Ve=d,Ve===0&&(Ai=Ye()+500,nl&&Fr())}}function To(o){Ur!==null&&Ur.tag===0&&(Ve&6)===0&&Pi();var a=Ve;Ve|=1;var d=vn.transition,y=me;try{if(vn.transition=null,me=1,o)return o()}finally{me=y,vn.transition=d,Ve=a,(Ve&6)===0&&Fr()}}function Td(){sn=Ti.current,rt(Ti)}function Ao(o,a){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,yP(d)),xt!==null)for(d=xt.return;d!==null;){var y=d;switch(qc(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&el();break;case 3:Ei(),rt(Vt),rt(Rt),Qc();break;case 5:Yc(y);break;case 4:Ei();break;case 13:rt(pt);break;case 19:rt(pt);break;case 10:Vc(y.type._context);break;case 22:case 23:Td()}d=d.return}if(jt=o,xt=o=Kr(o.current,null),It=sn=a,Et=0,Fs=null,_d=kl=jo=0,Wt=Bs=null,Co!==null){for(a=0;a<Co.length;a++)if(d=Co[a],y=d.interleaved,y!==null){d.interleaved=null;var x=y.next,E=d.pending;if(E!==null){var M=E.next;E.next=x,y.next=M}d.pending=y}Co=null}return o}function cb(o,a){do{var d=xt;try{if(Hc(),fl.current=gl,pl){for(var y=ht.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}pl=!1}if(No=0,Nt=Ct=ht=null,Ms=!1,Os=0,wd.current=null,d===null||d.return===null){Et=1,Fs=a,xt=null;break}e:{var E=o,M=d.return,W=d,Z=a;if(a=It,W.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var se=Z,ce=W,pe=ce.tag;if((ce.mode&1)===0&&(pe===0||pe===11||pe===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var be=O0(M);if(be!==null){be.flags&=-257,L0(be,M,W,E,a),be.mode&1&&M0(E,se,a),a=be,Z=se;var ke=a.updateQueue;if(ke===null){var Ee=new Set;Ee.add(Z),a.updateQueue=Ee}else ke.add(Z);break e}else{if((a&1)===0){M0(E,se,a),Ad();break e}Z=Error(n(426))}}else if(lt&&W.mode&1){var yt=O0(M);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),L0(yt,M,W,E,a),Bc(Ni(Z,W));break e}}E=Z=Ni(Z,W),Et!==4&&(Et=2),Bs===null?Bs=[E]:Bs.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var re=I0(E,Z,a);i0(E,re);break e;case 1:W=Z;var te=E.type,oe=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Vr===null||!Vr.has(oe)))){E.flags|=65536,a&=-a,E.lanes|=a;var ge=R0(E,W,a);i0(E,ge);break e}}E=E.return}while(E!==null)}pb(d)}catch(Te){a=Te,xt===d&&d!==null&&(xt=d=d.return);continue}break}while(!0)}function db(){var o=_l.current;return _l.current=gl,o===null?gl:o}function Ad(){(Et===0||Et===3||Et===2)&&(Et=4),jt===null||(jo&268435455)===0&&(kl&268435455)===0||Wr(jt,It)}function Tl(o,a){var d=Ve;Ve|=2;var y=db();(jt!==o||It!==a)&&(mr=null,Ao(o,a));do try{$P();break}catch(x){cb(o,x)}while(!0);if(Hc(),Ve=d,_l.current=y,xt!==null)throw Error(n(261));return jt=null,It=0,Et}function $P(){for(;xt!==null;)fb(xt)}function HP(){for(;xt!==null&&!ii();)fb(xt)}function fb(o){var a=gb(o.alternate,o,sn);o.memoizedProps=o.pendingProps,a===null?pb(o):xt=a,wd.current=null}function pb(o){var a=o;do{var d=a.alternate;if(o=a.return,(a.flags&32768)===0){if(d=OP(d,a,sn),d!==null){xt=d;return}}else{if(d=LP(d,a),d!==null){d.flags&=32767,xt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Et=6,xt=null;return}}if(a=a.sibling,a!==null){xt=a;return}xt=a=o}while(a!==null);Et===0&&(Et=5)}function Po(o,a,d){var y=me,x=vn.transition;try{vn.transition=null,me=1,VP(o,a,d,y)}finally{vn.transition=x,me=y}return null}function VP(o,a,d,y){do Pi();while(Ur!==null);if((Ve&6)!==0)throw Error(n(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=d.lanes|d.childLanes;if(ui(o,E),o===jt&&(xt=jt=null,It=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Cl||(Cl=!0,yb(Nr,function(){return Pi(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=vn.transition,vn.transition=null;var M=me;me=1;var W=Ve;Ve|=4,wd.current=null,qP(o,d),rb(d,o),cP(Ac),Fa=!!Tc,Ac=Tc=null,o.current=d,zP(d),si(),Ve=W,me=M,vn.transition=E}else o.current=d;if(Cl&&(Cl=!1,Ur=o,El=x),E=o.pendingLanes,E===0&&(Vr=null),ls(d.stateNode),Kt(o,Ye()),a!==null)for(y=o.onRecoverableError,d=0;d<a.length;d++)x=a[d],y(x.value,{componentStack:x.stack,digest:x.digest});if(Sl)throw Sl=!1,o=Sd,Sd=null,o;return(El&1)!==0&&o.tag!==0&&Pi(),E=o.pendingLanes,(E&1)!==0?o===Cd?$s++:($s=0,Cd=o):$s=0,Fr(),null}function Pi(){if(Ur!==null){var o=vt(El),a=vn.transition,d=me;try{if(vn.transition=null,me=16>o?16:o,Ur===null)var y=!1;else{if(o=Ur,Ur=null,El=0,(Ve&6)!==0)throw Error(n(331));var x=Ve;for(Ve|=4,_e=o.current;_e!==null;){var E=_e,M=E.child;if((_e.flags&16)!==0){var W=E.deletions;if(W!==null){for(var Z=0;Z<W.length;Z++){var se=W[Z];for(_e=se;_e!==null;){var ce=_e;switch(ce.tag){case 0:case 11:case 15:zs(8,ce,E)}var pe=ce.child;if(pe!==null)pe.return=ce,_e=pe;else for(;_e!==null;){ce=_e;var ue=ce.sibling,be=ce.return;if(Z0(ce),ce===se){_e=null;break}if(ue!==null){ue.return=be,_e=ue;break}_e=be}}}var ke=E.alternate;if(ke!==null){var Ee=ke.child;if(Ee!==null){ke.child=null;do{var yt=Ee.sibling;Ee.sibling=null,Ee=yt}while(Ee!==null)}}_e=E}}if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,_e=M;else e:for(;_e!==null;){if(E=_e,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:zs(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,_e=re;break e}_e=E.return}}var te=o.current;for(_e=te;_e!==null;){M=_e;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,_e=oe;else e:for(M=te;_e!==null;){if(W=_e,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:wl(9,W)}}catch(Te){mt(W,W.return,Te)}if(W===M){_e=null;break e}var ge=W.sibling;if(ge!==null){ge.return=W.return,_e=ge;break e}_e=W.return}}if(Ve=x,Fr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ir,o)}catch{}y=!0}return y}finally{me=d,vn.transition=a}}return!1}function hb(o,a,d){a=Ni(d,a),a=I0(o,a,1),o=$r(o,a,1),a=Bt(),o!==null&&(sr(o,1,a),Kt(o,a))}function mt(o,a,d){if(o.tag===3)hb(o,o,d);else for(;a!==null;){if(a.tag===3){hb(a,o,d);break}else if(a.tag===1){var y=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Vr===null||!Vr.has(y))){o=Ni(d,o),o=R0(a,o,1),a=$r(a,o,1),o=Bt(),a!==null&&(sr(a,1,o),Kt(a,o));break}}a=a.return}}function UP(o,a,d){var y=o.pingCache;y!==null&&y.delete(a),a=Bt(),o.pingedLanes|=o.suspendedLanes&d,jt===o&&(It&d)===d&&(Et===4||Et===3&&(It&130023424)===It&&500>Ye()-kd?Ao(o,0):_d|=d),Kt(o,a)}function mb(o,a){a===0&&((o.mode&1)===0?a=1:(a=Ar,Ar<<=1,(Ar&130023424)===0&&(Ar=4194304)));var d=Bt();o=fr(o,a),o!==null&&(sr(o,a,d),Kt(o,d))}function GP(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),mb(o,d)}function WP(o,a){var d=0;switch(o.tag){case 13:var y=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(a),mb(o,d)}var gb;gb=function(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps||Vt.current)Gt=!0;else{if((o.lanes&d)===0&&(a.flags&128)===0)return Gt=!1,MP(o,a,d);Gt=(o.flags&131072)!==0}else Gt=!1,lt&&(a.flags&1048576)!==0&&Yx(a,ol,a.index);switch(a.lanes=0,a.tag){case 2:var y=a.type;xl(o,a),o=a.pendingProps;var x=xi(a,Rt.current);Ci(a,d),x=ed(null,a,y,o,x,d);var E=td();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ut(y)?(E=!0,tl(a)):E=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Wc(a),x.updater=yl,a.stateNode=x,x._reactInternals=a,ad(a,y,o,d),a=dd(null,a,y,!0,E,d)):(a.tag=0,lt&&E&&Dc(a),Ft(null,a,x,d),a=a.child),a;case 16:y=a.elementType;e:{switch(xl(o,a),o=a.pendingProps,x=y._init,y=x(y._payload),a.type=y,x=a.tag=YP(y),o=An(y,o),x){case 0:a=cd(null,a,y,o,d);break e;case 1:a=$0(null,a,y,o,d);break e;case 11:a=D0(null,a,y,o,d);break e;case 14:a=q0(null,a,y,An(y.type,o),d);break e}throw Error(n(306,y,""))}return a;case 0:return y=a.type,x=a.pendingProps,x=a.elementType===y?x:An(y,x),cd(o,a,y,x,d);case 1:return y=a.type,x=a.pendingProps,x=a.elementType===y?x:An(y,x),$0(o,a,y,x,d);case 3:e:{if(H0(a),o===null)throw Error(n(387));y=a.pendingProps,E=a.memoizedState,x=E.element,o0(o,a),cl(a,y,null,d);var M=a.memoizedState;if(y=M.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){x=Ni(Error(n(423)),a),a=V0(o,a,y,d,x);break e}else if(y!==x){x=Ni(Error(n(424)),a),a=V0(o,a,y,d,x);break e}else for(on=Dr(a.stateNode.containerInfo.firstChild),rn=a,lt=!0,Tn=null,d=n0(a,null,y,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(_i(),y===x){a=hr(o,a,d);break e}Ft(o,a,y,d)}a=a.child}return a;case 5:return a0(a),o===null&&Fc(a),y=a.type,x=a.pendingProps,E=o!==null?o.memoizedProps:null,M=x.children,Pc(y,x)?M=null:E!==null&&Pc(y,E)&&(a.flags|=32),B0(o,a),Ft(o,a,M,d),a.child;case 6:return o===null&&Fc(a),null;case 13:return U0(o,a,d);case 4:return Kc(a,a.stateNode.containerInfo),y=a.pendingProps,o===null?a.child=ki(a,null,y,d):Ft(o,a,y,d),a.child;case 11:return y=a.type,x=a.pendingProps,x=a.elementType===y?x:An(y,x),D0(o,a,y,x,d);case 7:return Ft(o,a,a.pendingProps,d),a.child;case 8:return Ft(o,a,a.pendingProps.children,d),a.child;case 12:return Ft(o,a,a.pendingProps.children,d),a.child;case 10:e:{if(y=a.type._context,x=a.pendingProps,E=a.memoizedProps,M=x.value,Qe(al,y._currentValue),y._currentValue=M,E!==null)if(jn(E.value,M)){if(E.children===x.children&&!Vt.current){a=hr(o,a,d);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var W=E.dependencies;if(W!==null){M=E.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===y){if(E.tag===1){Z=pr(-1,d&-d),Z.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var ce=se.pending;ce===null?Z.next=Z:(Z.next=ce.next,ce.next=Z),se.pending=Z}}E.lanes|=d,Z=E.alternate,Z!==null&&(Z.lanes|=d),Uc(E.return,d,a),W.lanes|=d;break}Z=Z.next}}else if(E.tag===10)M=E.type===a.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(n(341));M.lanes|=d,W=M.alternate,W!==null&&(W.lanes|=d),Uc(M,d,a),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===a){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}Ft(o,a,x.children,d),a=a.child}return a;case 9:return x=a.type,y=a.pendingProps.children,Ci(a,d),x=gn(x),y=y(x),a.flags|=1,Ft(o,a,y,d),a.child;case 14:return y=a.type,x=An(y,a.pendingProps),x=An(y.type,x),q0(o,a,y,x,d);case 15:return z0(o,a,a.type,a.pendingProps,d);case 17:return y=a.type,x=a.pendingProps,x=a.elementType===y?x:An(y,x),xl(o,a),a.tag=1,Ut(y)?(o=!0,tl(a)):o=!1,Ci(a,d),A0(a,y,x),ad(a,y,x,d),dd(null,a,y,!0,o,d);case 19:return W0(o,a,d);case 22:return F0(o,a,d)}throw Error(n(156,a.tag))};function yb(o,a){return mo(o,a)}function KP(o,a,d,y){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(o,a,d,y){return new KP(o,a,d,y)}function Pd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function YP(o){if(typeof o=="function")return Pd(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===q)return 14}return 2}function Kr(o,a){var d=o.alternate;return d===null?(d=xn(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Al(o,a,d,y,x,E){var M=2;if(y=o,typeof o=="function")Pd(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case N:return Io(d.children,x,E,a);case D:M=8,x|=8;break;case z:return o=xn(12,d,a,x|2),o.elementType=z,o.lanes=E,o;case G:return o=xn(13,d,a,x),o.elementType=G,o.lanes=E,o;case R:return o=xn(19,d,a,x),o.elementType=R,o.lanes=E,o;case Y:return Pl(d,x,E,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $:M=10;break e;case O:M=9;break e;case B:M=11;break e;case q:M=14;break e;case V:M=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=xn(M,d,a,x),a.elementType=o,a.type=y,a.lanes=E,a}function Io(o,a,d,y){return o=xn(7,o,y,a),o.lanes=d,o}function Pl(o,a,d,y){return o=xn(22,o,y,a),o.elementType=Y,o.lanes=d,o.stateNode={isHidden:!1},o}function Id(o,a,d){return o=xn(6,o,null,a),o.lanes=d,o}function Rd(o,a,d){return a=xn(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function XP(o,a,d,y,x){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Md(o,a,d,y,x,E,M,W,Z){return o=new XP(o,a,d,W,Z),a===1?(a=1,E===!0&&(a|=8)):a=0,E=xn(3,null,null,a),o.current=E,E.stateNode=o,E.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(E),o}function QP(o,a,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:y==null?null:""+y,children:o,containerInfo:a,implementation:d}}function vb(o){if(!o)return zr;o=o._reactInternals;e:{if(pn(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ut(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Ut(d))return Gx(o,d,a)}return a}function xb(o,a,d,y,x,E,M,W,Z){return o=Md(d,y,!0,o,x,E,M,W,Z),o.context=vb(null),d=o.current,y=Bt(),x=Gr(d),E=pr(y,x),E.callback=a??null,$r(d,E,x),o.current.lanes=x,sr(o,x,y),Kt(o,y),o}function Il(o,a,d,y){var x=a.current,E=Bt(),M=Gr(x);return d=vb(d),a.context===null?a.context=d:a.pendingContext=d,a=pr(E,M),a.payload={element:o},y=y===void 0?null:y,y!==null&&(a.callback=y),o=$r(x,a,M),o!==null&&(Rn(o,x,M,E),ul(o,x,M)),M}function Rl(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function bb(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function Od(o,a){bb(o,a),(o=o.alternate)&&bb(o,a)}function ZP(){return null}var wb=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ld(o){this._internalRoot=o}Ml.prototype.render=Ld.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Il(o,a,null,null)},Ml.prototype.unmount=Ld.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;To(function(){Il(null,o,null,null)}),a[lr]=null}};function Ml(o){this._internalRoot=o}Ml.prototype.unstable_scheduleHydration=function(o){if(o){var a=bo();o={blockedOn:null,target:o,priority:a};for(var d=0;d<Mr.length&&a!==0&&a<Mr[d].priority;d++);Mr.splice(d,0,o),d===0&&ax(o)}};function Dd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function _b(){}function JP(o,a,d,y,x){if(x){if(typeof y=="function"){var E=y;y=function(){var se=Rl(M);E.call(se)}}var M=xb(a,y,o,0,null,!1,!1,"",_b);return o._reactRootContainer=M,o[lr]=M.current,Es(o.nodeType===8?o.parentNode:o),To(),M}for(;x=o.lastChild;)o.removeChild(x);if(typeof y=="function"){var W=y;y=function(){var se=Rl(Z);W.call(se)}}var Z=Md(o,0,!1,null,null,!1,!1,"",_b);return o._reactRootContainer=Z,o[lr]=Z.current,Es(o.nodeType===8?o.parentNode:o),To(function(){Il(a,Z,d,y)}),Z}function Ll(o,a,d,y,x){var E=d._reactRootContainer;if(E){var M=E;if(typeof x=="function"){var W=x;x=function(){var Z=Rl(M);W.call(Z)}}Il(a,M,o,x)}else M=JP(d,a,o,x,y);return Rl(M)}$e=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var d=Cn(a.pendingLanes);d!==0&&(le(a,d|1),Kt(a,Ye()),(Ve&6)===0&&(Ai=Ye()+500,Fr()))}break;case 13:To(function(){var y=fr(o,1);if(y!==null){var x=Bt();Rn(y,o,1,x)}}),Od(o,1)}},tt=function(o){if(o.tag===13){var a=fr(o,134217728);if(a!==null){var d=Bt();Rn(a,o,134217728,d)}Od(o,134217728)}},ar=function(o){if(o.tag===13){var a=Gr(o),d=fr(o,a);if(d!==null){var y=Bt();Rn(d,o,a,y)}Od(o,a)}},bo=function(){return me},fs=function(o,a){var d=me;try{return me=o,a()}finally{me=d}},ao=function(o,a,d){switch(a){case"input":if(Ne(o,d),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var y=d[a];if(y!==o&&y.form===o.form){var x=Ja(y);if(!x)throw Error(n(90));Ce(y),Ne(y,x)}}}break;case"textarea":gt(o,d);break;case"select":a=d.value,a!=null&&Fe(o,!!d.multiple,a,!1)}},ei=jd,ti=To;var eI={usingClientEntryPoint:!1,Events:[Ts,yi,Ja,Zo,Jo,jd]},Hs={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tI={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=oi(o),o===null?null:o.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||ZP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{ir=Dl.inject(tI),Ht=Dl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eI,Yt.createPortal=function(o,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(a))throw Error(n(200));return QP(o,a,null,d)},Yt.createRoot=function(o,a){if(!Dd(o))throw Error(n(299));var d=!1,y="",x=wb;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Md(o,1,!1,null,null,d,!1,y,x),o[lr]=a.current,Es(o.nodeType===8?o.parentNode:o),new Ld(a)},Yt.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=oi(a),o=o===null?null:o.stateNode,o},Yt.flushSync=function(o){return To(o)},Yt.hydrate=function(o,a,d){if(!Ol(a))throw Error(n(200));return Ll(null,o,a,!0,d)},Yt.hydrateRoot=function(o,a,d){if(!Dd(o))throw Error(n(405));var y=d!=null&&d.hydratedSources||null,x=!1,E="",M=wb;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),a=xb(a,null,o,1,d??null,x,!1,E,M),o[lr]=a.current,Es(o),y)for(o=0;o<y.length;o++)d=y[o],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new Ml(a)},Yt.render=function(o,a,d){if(!Ol(a))throw Error(n(200));return Ll(null,o,a,!1,d)},Yt.unmountComponentAtNode=function(o){if(!Ol(o))throw Error(n(40));return o._reactRootContainer?(To(function(){Ll(null,null,o,!1,function(){o._reactRootContainer=null,o[lr]=null})}),!0):!1},Yt.unstable_batchedUpdates=jd,Yt.unstable_renderSubtreeIntoContainer=function(o,a,d,y){if(!Ol(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Ll(o,a,d,!1,y)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Ab;function hN(){if(Ab)return Fd.exports;Ab=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fd.exports=lI(),Fd.exports}var Pb;function uI(){if(Pb)return zl;Pb=1;var e=hN();return zl.createRoot=e.createRoot,zl.hydrateRoot=e.hydrateRoot,zl}var cI=uI();const dI=Yi(cI);function _t(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=_t(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var fI={value:()=>{}};function Tu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new iu(n)}function iu(e){this._=e}function pI(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}iu.prototype=Tu.prototype={constructor:iu,on:function(e,t){var n=this._,r=pI(e+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(e=r[s]).type)&&(i=hI(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(i=(e=r[s]).type)n[i]=Ib(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ib(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new iu(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function hI(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ib(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=fI,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ly="http://www.w3.org/1999/xhtml";const Rb={svg:"http://www.w3.org/2000/svg",xhtml:Ly,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Au(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rb.hasOwnProperty(t)?{space:Rb[t],local:e}:e}function mI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ly&&t.documentElement.namespaceURI===Ly?t.createElement(e):t.createElementNS(n,e)}}function gI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mN(e){var t=Au(e);return(t.local?gI:mI)(t)}function yI(){}function lv(e){return e==null?yI:function(){return this.querySelector(e)}}function vI(e){typeof e!="function"&&(e=lv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,u=r[i]=new Array(l),c,f,p=0;p<l;++p)(c=s[p])&&(f=e.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),u[p]=f);return new fn(r,this._parents)}function xI(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function bI(){return[]}function gN(e){return e==null?bI:function(){return this.querySelectorAll(e)}}function wI(e){return function(){return xI(e.apply(this,arguments))}}function _I(e){typeof e=="function"?e=wI(e):e=gN(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var l=t[s],u=l.length,c,f=0;f<u;++f)(c=l[f])&&(r.push(e.call(c,c.__data__,f,l)),i.push(c));return new fn(r,i)}function yN(e){return function(){return this.matches(e)}}function vN(e){return function(t){return t.matches(e)}}var kI=Array.prototype.find;function SI(e){return function(){return kI.call(this.children,e)}}function CI(){return this.firstElementChild}function EI(e){return this.select(e==null?CI:SI(typeof e=="function"?e:vN(e)))}var NI=Array.prototype.filter;function jI(){return Array.from(this.children)}function TI(e){return function(){return NI.call(this.children,e)}}function AI(e){return this.selectAll(e==null?jI:TI(typeof e=="function"?e:vN(e)))}function PI(e){typeof e!="function"&&(e=yN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,u=r[i]=[],c,f=0;f<l;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new fn(r,this._parents)}function xN(e){return new Array(e.length)}function II(){return new fn(this._enter||this._groups.map(xN),this._parents)}function du(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}du.prototype={constructor:du,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function RI(e){return function(){return e}}function MI(e,t,n,r,i,s){for(var l=0,u,c=t.length,f=s.length;l<f;++l)(u=t[l])?(u.__data__=s[l],r[l]=u):n[l]=new du(e,s[l]);for(;l<c;++l)(u=t[l])&&(i[l]=u)}function OI(e,t,n,r,i,s,l){var u,c,f=new Map,p=t.length,m=s.length,g=new Array(p),v;for(u=0;u<p;++u)(c=t[u])&&(g[u]=v=l.call(c,c.__data__,u,t)+"",f.has(v)?i[u]=c:f.set(v,c));for(u=0;u<m;++u)v=l.call(e,s[u],u,s)+"",(c=f.get(v))?(r[u]=c,c.__data__=s[u],f.delete(v)):n[u]=new du(e,s[u]);for(u=0;u<p;++u)(c=t[u])&&f.get(g[u])===c&&(i[u]=c)}function LI(e){return e.__data__}function DI(e,t){if(!arguments.length)return Array.from(this,LI);var n=t?OI:MI,r=this._parents,i=this._groups;typeof e!="function"&&(e=RI(e));for(var s=i.length,l=new Array(s),u=new Array(s),c=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],g=m.length,v=qI(e.call(p,p&&p.__data__,f,r)),b=v.length,w=u[f]=new Array(b),k=l[f]=new Array(b),_=c[f]=new Array(g);n(p,m,w,k,_,v,t);for(var C=0,S=0,j,A;C<b;++C)if(j=w[C]){for(C>=S&&(S=C+1);!(A=k[S])&&++S<b;);j._next=A||null}}return l=new fn(l,r),l._enter=u,l._exit=c,l}function qI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zI(){return new fn(this._exit||this._groups.map(xN),this._parents)}function FI(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function BI(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,l=Math.min(i,s),u=new Array(i),c=0;c<l;++c)for(var f=n[c],p=r[c],m=f.length,g=u[c]=new Array(m),v,b=0;b<m;++b)(v=f[b]||p[b])&&(g[b]=v);for(;c<i;++c)u[c]=n[c];return new fn(u,this._parents)}function $I(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function HI(e){e||(e=VI);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],u=l.length,c=i[s]=new Array(u),f,p=0;p<u;++p)(f=l[p])&&(c[p]=f);c.sort(t)}return new fn(i,this._parents).order()}function VI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function UI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function GI(){return Array.from(this)}function WI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function KI(){let e=0;for(const t of this)++e;return e}function YI(){return!this.node()}function XI(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,l=i.length,u;s<l;++s)(u=i[s])&&e.call(u,u.__data__,s,i);return this}function QI(e){return function(){this.removeAttribute(e)}}function ZI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function JI(e,t){return function(){this.setAttribute(e,t)}}function eR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rR(e,t){var n=Au(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ZI:QI:typeof t=="function"?n.local?nR:tR:n.local?eR:JI)(n,t))}function bN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oR(e){return function(){this.style.removeProperty(e)}}function iR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sR(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function aR(e,t,n){return arguments.length>1?this.each((t==null?oR:typeof t=="function"?sR:iR)(e,t,n??"")):$i(this.node(),e)}function $i(e,t){return e.style.getPropertyValue(t)||bN(e).getComputedStyle(e,null).getPropertyValue(t)}function lR(e){return function(){delete this[e]}}function uR(e,t){return function(){this[e]=t}}function cR(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function dR(e,t){return arguments.length>1?this.each((t==null?lR:typeof t=="function"?cR:uR)(e,t)):this.node()[e]}function wN(e){return e.trim().split(/^|\s+/)}function uv(e){return e.classList||new _N(e)}function _N(e){this._node=e,this._names=wN(e.getAttribute("class")||"")}_N.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kN(e,t){for(var n=uv(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function SN(e,t){for(var n=uv(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fR(e){return function(){kN(this,e)}}function pR(e){return function(){SN(this,e)}}function hR(e,t){return function(){(t.apply(this,arguments)?kN:SN)(this,e)}}function mR(e,t){var n=wN(e+"");if(arguments.length<2){for(var r=uv(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?hR:t?fR:pR)(n,t))}function gR(){this.textContent=""}function yR(e){return function(){this.textContent=e}}function vR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function xR(e){return arguments.length?this.each(e==null?gR:(typeof e=="function"?vR:yR)(e)):this.node().textContent}function bR(){this.innerHTML=""}function wR(e){return function(){this.innerHTML=e}}function _R(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kR(e){return arguments.length?this.each(e==null?bR:(typeof e=="function"?_R:wR)(e)):this.node().innerHTML}function SR(){this.nextSibling&&this.parentNode.appendChild(this)}function CR(){return this.each(SR)}function ER(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NR(){return this.each(ER)}function jR(e){var t=typeof e=="function"?e:mN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function TR(){return null}function AR(e,t){var n=typeof e=="function"?e:mN(e),r=t==null?TR:typeof t=="function"?t:lv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PR(){var e=this.parentNode;e&&e.removeChild(this)}function IR(){return this.each(PR)}function RR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function MR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function OR(e){return this.select(e?MR:RR)}function LR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function DR(e){return function(t){e.call(this,t,this.__data__)}}function qR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function zR(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function FR(e,t,n){return function(){var r=this.__on,i,s=DR(t);if(r){for(var l=0,u=r.length;l<u;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function BR(e,t,n){var r=qR(e+""),i,s=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,p;c<f;++c)for(i=0,p=u[c];i<s;++i)if((l=r[i]).type===p.type&&l.name===p.name)return p.value}return}for(u=t?FR:zR,i=0;i<s;++i)this.each(u(r[i],t,n));return this}function CN(e,t,n){var r=bN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $R(e,t){return function(){return CN(this,e,t)}}function HR(e,t){return function(){return CN(this,e,t.apply(this,arguments))}}function VR(e,t){return this.each((typeof t=="function"?HR:$R)(e,t))}function*UR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var EN=[null];function fn(e,t){this._groups=e,this._parents=t}function _a(){return new fn([[document.documentElement]],EN)}function GR(){return this}fn.prototype=_a.prototype={constructor:fn,select:vI,selectAll:_I,selectChild:EI,selectChildren:AI,filter:PI,data:DI,enter:II,exit:zI,join:FI,merge:BI,selection:GR,order:$I,sort:HI,call:UI,nodes:GI,node:WI,size:KI,empty:YI,each:XI,attr:rR,style:aR,property:dR,classed:mR,text:xR,html:kR,raise:CR,lower:NR,append:jR,insert:AR,remove:IR,clone:OR,datum:LR,on:BR,dispatch:VR,[Symbol.iterator]:UR};function un(e){return typeof e=="string"?new fn([[document.querySelector(e)]],[document.documentElement]):new fn([[e]],EN)}function WR(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Mn(e,t){if(e=WR(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const KR={passive:!1},ua={capture:!0,passive:!1};function Hd(e){e.stopImmediatePropagation()}function qi(e){e.preventDefault(),e.stopImmediatePropagation()}function NN(e){var t=e.document.documentElement,n=un(e).on("dragstart.drag",qi,ua);"onselectstart"in t?n.on("selectstart.drag",qi,ua):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jN(e,t){var n=e.document.documentElement,r=un(e).on("dragstart.drag",null);t&&(r.on("click.drag",qi,ua),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fl=e=>()=>e;function Dy(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:l,y:u,dx:c,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}Dy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function YR(e){return!e.ctrlKey&&!e.button}function XR(){return this.parentNode}function QR(e,t){return t??{x:e.x,y:e.y}}function ZR(){return navigator.maxTouchPoints||"ontouchstart"in this}function TN(){var e=YR,t=XR,n=QR,r=ZR,i={},s=Tu("start","drag","end"),l=0,u,c,f,p,m=0;function g(j){j.on("mousedown.drag",v).filter(r).on("touchstart.drag",k).on("touchmove.drag",_,KR).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(j,A){if(!(p||!e.call(this,j,A))){var T=S(this,t.call(this,j,A),j,A,"mouse");T&&(un(j.view).on("mousemove.drag",b,ua).on("mouseup.drag",w,ua),NN(j.view),Hd(j),f=!1,u=j.clientX,c=j.clientY,T("start",j))}}function b(j){if(qi(j),!f){var A=j.clientX-u,T=j.clientY-c;f=A*A+T*T>m}i.mouse("drag",j)}function w(j){un(j.view).on("mousemove.drag mouseup.drag",null),jN(j.view,f),qi(j),i.mouse("end",j)}function k(j,A){if(e.call(this,j,A)){var T=j.changedTouches,N=t.call(this,j,A),D=T.length,z,$;for(z=0;z<D;++z)($=S(this,N,j,A,T[z].identifier,T[z]))&&(Hd(j),$("start",j,T[z]))}}function _(j){var A=j.changedTouches,T=A.length,N,D;for(N=0;N<T;++N)(D=i[A[N].identifier])&&(qi(j),D("drag",j,A[N]))}function C(j){var A=j.changedTouches,T=A.length,N,D;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),N=0;N<T;++N)(D=i[A[N].identifier])&&(Hd(j),D("end",j,A[N]))}function S(j,A,T,N,D,z){var $=s.copy(),O=Mn(z||T,A),B,G,R;if((R=n.call(j,new Dy("beforestart",{sourceEvent:T,target:g,identifier:D,active:l,x:O[0],y:O[1],dx:0,dy:0,dispatch:$}),N))!=null)return B=R.x-O[0]||0,G=R.y-O[1]||0,function q(V,Y,H){var X=O,I;switch(V){case"start":i[D]=q,I=l++;break;case"end":delete i[D],--l;case"drag":O=Mn(H||Y,A),I=l;break}$.call(V,j,new Dy(V,{sourceEvent:Y,subject:R,target:g,identifier:D,active:I,x:O[0]+B,y:O[1]+G,dx:O[0]-X[0],dy:O[1]-X[1],dispatch:$}),N)}}return g.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Fl(!!j),g):e},g.container=function(j){return arguments.length?(t=typeof j=="function"?j:Fl(j),g):t},g.subject=function(j){return arguments.length?(n=typeof j=="function"?j:Fl(j),g):n},g.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:Fl(!!j),g):r},g.on=function(){var j=s.on.apply(s,arguments);return j===s?g:j},g.clickDistance=function(j){return arguments.length?(m=(j=+j)*j,g):Math.sqrt(m)},g}function cv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ka(){}var ca=.7,fu=1/ca,zi="\\s*([+-]?\\d+)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JR=/^#([0-9a-f]{3,8})$/,eM=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),tM=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),nM=new RegExp(`^rgba\\(${zi},${zi},${zi},${da}\\)$`),rM=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${da}\\)$`),oM=new RegExp(`^hsl\\(${da},${Xn},${Xn}\\)$`),iM=new RegExp(`^hsla\\(${da},${Xn},${Xn},${da}\\)$`),Mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cv(ka,$o,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:sM,formatHsl:aM,formatRgb:Lb,toString:Lb});function Ob(){return this.rgb().formatHex()}function sM(){return this.rgb().formatHex8()}function aM(){return PN(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function $o(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=JR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Db(t):n===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eM.exec(e))?new Qt(t[1],t[2],t[3],1):(t=tM.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nM.exec(e))?Bl(t[1],t[2],t[3],t[4]):(t=rM.exec(e))?Bl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oM.exec(e))?Fb(t[1],t[2]/100,t[3]/100,1):(t=iM.exec(e))?Fb(t[1],t[2]/100,t[3]/100,t[4]):Mb.hasOwnProperty(e)?Db(Mb[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Db(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function Bl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qt(e,t,n,r)}function lM(e){return e instanceof ka||(e=$o(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function qy(e,t,n,r){return arguments.length===1?lM(e):new Qt(e,t,n,r??1)}function Qt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cv(Qt,qy,AN(ka,{brighter(e){return e=e==null?fu:Math.pow(fu,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ca:Math.pow(ca,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(Fo(this.r),Fo(this.g),Fo(this.b),pu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qb,formatHex:qb,formatHex8:uM,formatRgb:zb,toString:zb}));function qb(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function uM(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function zb(){const e=pu(this.opacity);return`${e===1?"rgb(":"rgba("}${Fo(this.r)}, ${Fo(this.g)}, ${Fo(this.b)}${e===1?")":`, ${e})`}`}function pu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zo(e){return e=Fo(e),(e<16?"0":"")+e.toString(16)}function Fb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,n,r)}function PN(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof ka||(e=$o(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,u=s-i,c=(s+i)/2;return u?(t===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-t)/u+2:l=(t-n)/u+4,u/=c<.5?s+i:2-s-i,l*=60):u=c>0&&c<1?0:l,new On(l,u,c,e.opacity)}function cM(e,t,n,r){return arguments.length===1?PN(e):new On(e,t,n,r??1)}function On(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cv(On,cM,AN(ka,{brighter(e){return e=e==null?fu:Math.pow(fu,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ca:Math.pow(ca,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qt(Vd(e>=240?e-240:e+120,i,r),Vd(e,i,r),Vd(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new On(Bb(this.h),$l(this.s),$l(this.l),pu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pu(this.opacity);return`${e===1?"hsl(":"hsla("}${Bb(this.h)}, ${$l(this.s)*100}%, ${$l(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bb(e){return e=(e||0)%360,e<0?e+360:e}function $l(e){return Math.max(0,Math.min(1,e||0))}function Vd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dv=e=>()=>e;function dM(e,t){return function(n){return e+n*t}}function fM(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pM(e){return(e=+e)==1?IN:function(t,n){return n-t?fM(t,n,e):dv(isNaN(t)?n:t)}}function IN(e,t){var n=t-e;return n?dM(e,n):dv(isNaN(e)?t:e)}const hu=(function e(t){var n=pM(t);function r(i,s){var l=n((i=qy(i)).r,(s=qy(s)).r),u=n(i.g,s.g),c=n(i.b,s.b),f=IN(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function hM(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gM(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ra(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function yM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vM(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ra(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var zy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ud=new RegExp(zy.source,"g");function xM(e){return function(){return e}}function bM(e){return function(t){return e(t)+""}}function RN(e,t){var n=zy.lastIndex=Ud.lastIndex=0,r,i,s,l=-1,u=[],c=[];for(e=e+"",t=t+"";(r=zy.exec(e))&&(i=Ud.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:Kn(r,i)})),n=Ud.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?c[0]?bM(c[0].x):xM(t):(t=c.length,function(f){for(var p=0,m;p<t;++p)u[(m=c[p]).i]=m.x(f);return u.join("")})}function ra(e,t){var n=typeof t,r;return t==null||n==="boolean"?dv(t):(n==="number"?Kn:n==="string"?(r=$o(t))?(t=r,hu):RN:t instanceof $o?hu:t instanceof Date?yM:mM(t)?hM:Array.isArray(t)?gM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vM:Kn)(e,t)}var $b=180/Math.PI,Fy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MN(e,t,n,r,i,s){var l,u,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*$b,skewX:Math.atan(c)*$b,scaleX:l,scaleY:u}}var Hl;function wM(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Fy:MN(t.a,t.b,t.c,t.d,t.e,t.f)}function _M(e){return e==null||(Hl||(Hl=document.createElementNS("http://www.w3.org/2000/svg","g")),Hl.setAttribute("transform",e),!(e=Hl.transform.baseVal.consolidate()))?Fy:(e=e.matrix,MN(e.a,e.b,e.c,e.d,e.e,e.f))}function ON(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,g,v,b){if(f!==m||p!==g){var w=v.push("translate(",null,t,null,n);b.push({i:w-4,x:Kn(f,m)},{i:w-2,x:Kn(p,g)})}else(m||g)&&v.push("translate("+m+t+g+n)}function l(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Kn(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function u(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Kn(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function c(f,p,m,g,v,b){if(f!==m||p!==g){var w=v.push(i(v)+"scale(",null,",",null,")");b.push({i:w-4,x:Kn(f,m)},{i:w-2,x:Kn(p,g)})}else(m!==1||g!==1)&&v.push(i(v)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=e(f),p=e(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,g),l(f.rotate,p.rotate,m,g),u(f.skewX,p.skewX,m,g),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(v){for(var b=-1,w=g.length,k;++b<w;)m[(k=g[b]).i]=k.x(v);return m.join("")}}}var kM=ON(wM,"px, ","px)","deg)"),SM=ON(_M,", ",")",")"),CM=1e-12;function Hb(e){return((e=Math.exp(e))+1/e)/2}function EM(e){return((e=Math.exp(e))-1/e)/2}function NM(e){return((e=Math.exp(2*e))-1)/(e+1)}const su=(function e(t,n,r){function i(s,l){var u=s[0],c=s[1],f=s[2],p=l[0],m=l[1],g=l[2],v=p-u,b=m-c,w=v*v+b*b,k,_;if(w<CM)_=Math.log(g/f)/t,k=function(N){return[u+N*v,c+N*b,f*Math.exp(t*N*_)]};else{var C=Math.sqrt(w),S=(g*g-f*f+r*w)/(2*f*n*C),j=(g*g-f*f-r*w)/(2*g*n*C),A=Math.log(Math.sqrt(S*S+1)-S),T=Math.log(Math.sqrt(j*j+1)-j);_=(T-A)/t,k=function(N){var D=N*_,z=Hb(A),$=f/(n*C)*(z*NM(t*D+A)-EM(A));return[u+$*v,c+$*b,f*z/Hb(t*D+A)]}}return k.duration=_*1e3*t/Math.SQRT2,k}return i.rho=function(s){var l=Math.max(.001,+s),u=l*l,c=u*u;return e(l,u,c)},i})(Math.SQRT2,2,4);var Hi=0,Qs=0,Us=0,LN=1e3,mu,Zs,gu=0,Ho=0,Pu=0,fa=typeof performance=="object"&&performance.now?performance:Date,DN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fv(){return Ho||(DN(jM),Ho=fa.now()+Pu)}function jM(){Ho=0}function yu(){this._call=this._time=this._next=null}yu.prototype=qN.prototype={constructor:yu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fv():+n)+(t==null?0:+t),!this._next&&Zs!==this&&(Zs?Zs._next=this:mu=this,Zs=this),this._call=e,this._time=n,By()},stop:function(){this._call&&(this._call=null,this._time=1/0,By())}};function qN(e,t,n){var r=new yu;return r.restart(e,t,n),r}function TM(){fv(),++Hi;for(var e=mu,t;e;)(t=Ho-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hi}function Vb(){Ho=(gu=fa.now())+Pu,Hi=Qs=0;try{TM()}finally{Hi=0,PM(),Ho=0}}function AM(){var e=fa.now(),t=e-gu;t>LN&&(Pu-=t,gu=e)}function PM(){for(var e,t=mu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:mu=n);Zs=e,By(r)}function By(e){if(!Hi){Qs&&(Qs=clearTimeout(Qs));var t=e-Ho;t>24?(e<1/0&&(Qs=setTimeout(Vb,e-fa.now()-Pu)),Us&&(Us=clearInterval(Us))):(Us||(gu=fa.now(),Us=setInterval(AM,LN)),Hi=1,DN(Vb))}}function Ub(e,t,n){var r=new yu;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var IM=Tu("start","end","cancel","interrupt"),RM=[],zN=0,Gb=1,$y=2,au=3,Wb=4,Hy=5,lu=6;function Iu(e,t,n,r,i,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;MM(e,n,{name:t,index:r,group:i,on:IM,tween:RM,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:zN})}function pv(e,t){var n=zn(e,t);if(n.state>zN)throw new Error("too late; already scheduled");return n}function Jn(e,t){var n=zn(e,t);if(n.state>au)throw new Error("too late; already running");return n}function zn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function MM(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=qN(s,0,n.time);function s(f){n.state=Gb,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var p,m,g,v;if(n.state!==Gb)return c();for(p in r)if(v=r[p],v.name===n.name){if(v.state===au)return Ub(l);v.state===Wb?(v.state=lu,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[p]):+p<t&&(v.state=lu,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[p])}if(Ub(function(){n.state===au&&(n.state=Wb,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=$y,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$y){for(n.state=au,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(v=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=v);i.length=m+1}}function u(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=Hy,1),m=-1,g=i.length;++m<g;)i[m].call(e,p);n.state===Hy&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=lu,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function uu(e,t){var n=e.__transition,r,i,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}i=r.state>$y&&r.state<Hy,r.state=lu,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function OM(e){return this.each(function(){uu(this,e)})}function LM(e,t){var n,r;return function(){var i=Jn(this,e),s=i.tween;if(s!==n){r=n=s;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function DM(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Jn(this,e),l=s.tween;if(l!==r){i=(r=l).slice();for(var u={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=u;break}c===f&&i.push(u)}s.tween=i}}function qM(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=zn(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?LM:DM)(n,e,t))}function hv(e,t,n){var r=e._id;return e.each(function(){var i=Jn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return zn(i,r).value[t]}}function FN(e,t){var n;return(typeof t=="number"?Kn:t instanceof $o?hu:(n=$o(t))?(t=n,hu):RN)(e,t)}function zM(e){return function(){this.removeAttribute(e)}}function FM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BM(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttribute(e);return l===i?null:l===r?s:s=t(r=l,n)}}function $M(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?s:s=t(r=l,n)}}function HM(e,t,n){var r,i,s;return function(){var l,u=n(this),c;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),c=u+"",l===c?null:l===r&&c===i?s:(i=c,s=t(r=l,u)))}}function VM(e,t,n){var r,i,s;return function(){var l,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),c=u+"",l===c?null:l===r&&c===i?s:(i=c,s=t(r=l,u)))}}function UM(e,t){var n=Au(e),r=n==="transform"?SM:FN;return this.attrTween(e,typeof t=="function"?(n.local?VM:HM)(n,r,hv(this,"attr."+e,t)):t==null?(n.local?FM:zM)(n):(n.local?$M:BM)(n,r,t))}function GM(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function WM(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function KM(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&WM(e,s)),n}return i._value=t,i}function YM(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&GM(e,s)),n}return i._value=t,i}function XM(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Au(e);return this.tween(n,(r.local?KM:YM)(r,t))}function QM(e,t){return function(){pv(this,e).delay=+t.apply(this,arguments)}}function ZM(e,t){return t=+t,function(){pv(this,e).delay=t}}function JM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?QM:ZM)(t,e)):zn(this.node(),t).delay}function eO(e,t){return function(){Jn(this,e).duration=+t.apply(this,arguments)}}function tO(e,t){return t=+t,function(){Jn(this,e).duration=t}}function nO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eO:tO)(t,e)):zn(this.node(),t).duration}function rO(e,t){if(typeof t!="function")throw new Error;return function(){Jn(this,e).ease=t}}function oO(e){var t=this._id;return arguments.length?this.each(rO(t,e)):zn(this.node(),t).ease}function iO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Jn(this,e).ease=n}}function sO(e){if(typeof e!="function")throw new Error;return this.each(iO(this._id,e))}function aO(e){typeof e!="function"&&(e=yN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,u=r[i]=[],c,f=0;f<l;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&u.push(c);return new vr(r,this._parents,this._name,this._id)}function lO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),l=new Array(r),u=0;u<s;++u)for(var c=t[u],f=n[u],p=c.length,m=l[u]=new Array(p),g,v=0;v<p;++v)(g=c[v]||f[v])&&(m[v]=g);for(;u<r;++u)l[u]=t[u];return new vr(l,this._parents,this._name,this._id)}function uO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cO(e,t,n){var r,i,s=uO(t)?pv:Jn;return function(){var l=s(this,e),u=l.on;u!==r&&(i=(r=u).copy()).on(t,n),l.on=i}}function dO(e,t){var n=this._id;return arguments.length<2?zn(this.node(),n).on.on(e):this.each(cO(n,e,t))}function fO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pO(){return this.on("end.remove",fO(this._id))}function hO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lv(e));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var u=r[l],c=u.length,f=s[l]=new Array(c),p,m,g=0;g<c;++g)(p=u[g])&&(m=e.call(p,p.__data__,g,u))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,Iu(f[g],t,n,g,f,zn(p,n)));return new vr(s,this._parents,t,n)}function mO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gN(e));for(var r=this._groups,i=r.length,s=[],l=[],u=0;u<i;++u)for(var c=r[u],f=c.length,p,m=0;m<f;++m)if(p=c[m]){for(var g=e.call(p,p.__data__,m,c),v,b=zn(p,n),w=0,k=g.length;w<k;++w)(v=g[w])&&Iu(v,t,n,w,g,b);s.push(g),l.push(p)}return new vr(s,l,t,n)}var gO=_a.prototype.constructor;function yO(){return new gO(this._groups,this._parents)}function vO(e,t){var n,r,i;return function(){var s=$i(this,e),l=(this.style.removeProperty(e),$i(this,e));return s===l?null:s===n&&l===r?i:i=t(n=s,r=l)}}function BN(e){return function(){this.style.removeProperty(e)}}function xO(e,t,n){var r,i=n+"",s;return function(){var l=$i(this,e);return l===i?null:l===r?s:s=t(r=l,n)}}function bO(e,t,n){var r,i,s;return function(){var l=$i(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),$i(this,e))),l===c?null:l===r&&c===i?s:(i=c,s=t(r=l,u))}}function wO(e,t){var n,r,i,s="style."+t,l="end."+s,u;return function(){var c=Jn(this,e),f=c.on,p=c.value[s]==null?u||(u=BN(t)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(l,i=p),c.on=r}}function _O(e,t,n){var r=(e+="")=="transform"?kM:FN;return t==null?this.styleTween(e,vO(e,r)).on("end.style."+e,BN(e)):typeof t=="function"?this.styleTween(e,bO(e,r,hv(this,"style."+e,t))).each(wO(this._id,e)):this.styleTween(e,xO(e,r,t),n).on("end.style."+e,null)}function kO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function SO(e,t,n){var r,i;function s(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&kO(e,l,n)),r}return s._value=t,s}function CO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,SO(e,t,n??""))}function EO(e){return function(){this.textContent=e}}function NO(e){return function(){var t=e(this);this.textContent=t??""}}function jO(e){return this.tween("text",typeof e=="function"?NO(hv(this,"text",e)):EO(e==null?"":e+""))}function TO(e){return function(t){this.textContent=e.call(this,t)}}function AO(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&TO(i)),t}return r._value=e,r}function PO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,AO(e))}function IO(){for(var e=this._name,t=this._id,n=$N(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){var p=zn(c,t);Iu(c,e,n,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new vr(r,this._parents,e,n)}function RO(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var u={value:l},c={value:function(){--i===0&&s()}};n.each(function(){var f=Jn(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),i===0&&s()})}var MO=0;function vr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $N(){return++MO}var gr=_a.prototype;vr.prototype={constructor:vr,select:hO,selectAll:mO,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:aO,merge:lO,selection:yO,transition:IO,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:dO,attr:UM,attrTween:XM,style:_O,styleTween:CO,text:jO,textTween:PO,remove:pO,tween:qM,delay:JM,duration:nO,ease:oO,easeVarying:sO,end:RO,[Symbol.iterator]:gr[Symbol.iterator]};function OO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var LO={time:null,delay:0,duration:250,ease:OO};function DO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qO(e){var t,n;e instanceof vr?(t=e._id,e=e._name):(t=$N(),(n=LO).time=fv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)(c=l[f])&&Iu(c,e,t,f,l,n||DO(c,t));return new vr(r,this._parents,e,t)}_a.prototype.interrupt=OM;_a.prototype.transition=qO;const Vl=e=>()=>e;function zO(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function yr(e,t,n){this.k=e,this.x=t,this.y=n}yr.prototype={constructor:yr,scale:function(e){return e===1?this:new yr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ru=new yr(1,0,0);HN.prototype=yr.prototype;function HN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ru;return e.__zoom}function Gd(e){e.stopImmediatePropagation()}function Gs(e){e.preventDefault(),e.stopImmediatePropagation()}function FO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function BO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Kb(){return this.__zoom||Ru}function $O(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function HO(){return navigator.maxTouchPoints||"ontouchstart"in this}function VO(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function VN(){var e=FO,t=BO,n=VO,r=$O,i=HO,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=su,f=Tu("start","zoom","end"),p,m,g,v=500,b=150,w=0,k=10;function _(R){R.property("__zoom",Kb).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(R,q,V,Y){var H=R.selection?R.selection():R;H.property("__zoom",Kb),R!==H?A(R,q,V,Y):H.interrupt().each(function(){T(this,arguments).event(Y).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},_.scaleBy=function(R,q,V,Y){_.scaleTo(R,function(){var H=this.__zoom.k,X=typeof q=="function"?q.apply(this,arguments):q;return H*X},V,Y)},_.scaleTo=function(R,q,V,Y){_.transform(R,function(){var H=t.apply(this,arguments),X=this.__zoom,I=V==null?j(H):typeof V=="function"?V.apply(this,arguments):V,F=X.invert(I),K=typeof q=="function"?q.apply(this,arguments):q;return n(S(C(X,K),I,F),H,l)},V,Y)},_.translateBy=function(R,q,V,Y){_.transform(R,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),l)},null,Y)},_.translateTo=function(R,q,V,Y,H){_.transform(R,function(){var X=t.apply(this,arguments),I=this.__zoom,F=Y==null?j(X):typeof Y=="function"?Y.apply(this,arguments):Y;return n(Ru.translate(F[0],F[1]).scale(I.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof V=="function"?-V.apply(this,arguments):-V),X,l)},Y,H)};function C(R,q){return q=Math.max(s[0],Math.min(s[1],q)),q===R.k?R:new yr(q,R.x,R.y)}function S(R,q,V){var Y=q[0]-V[0]*R.k,H=q[1]-V[1]*R.k;return Y===R.x&&H===R.y?R:new yr(R.k,Y,H)}function j(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function A(R,q,V,Y){R.on("start.zoom",function(){T(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(Y).end()}).tween("zoom",function(){var H=this,X=arguments,I=T(H,X).event(Y),F=t.apply(H,X),K=V==null?j(F):typeof V=="function"?V.apply(H,X):V,L=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),U=H.__zoom,ee=typeof q=="function"?q.apply(H,X):q,J=c(U.invert(K).concat(L/U.k),ee.invert(K).concat(L/ee.k));return function(Q){if(Q===1)Q=ee;else{var ne=J(Q),ae=L/ne[2];Q=new yr(ae,K[0]-ne[0]*ae,K[1]-ne[1]*ae)}I.zoom(null,Q)}})}function T(R,q,V){return!V&&R.__zooming||new N(R,q)}function N(R,q){this.that=R,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,q),this.taps=0}N.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,q){return this.mouse&&R!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var q=un(this.that).datum();f.call(R,this.that,new zO(R,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:f}),q)}};function D(R,...q){if(!e.apply(this,arguments))return;var V=T(this,q).event(R),Y=this.__zoom,H=Math.max(s[0],Math.min(s[1],Y.k*Math.pow(2,r.apply(this,arguments)))),X=Mn(R);if(V.wheel)(V.mouse[0][0]!==X[0]||V.mouse[0][1]!==X[1])&&(V.mouse[1]=Y.invert(V.mouse[0]=X)),clearTimeout(V.wheel);else{if(Y.k===H)return;V.mouse=[X,Y.invert(X)],uu(this),V.start()}Gs(R),V.wheel=setTimeout(I,b),V.zoom("mouse",n(S(C(Y,H),V.mouse[0],V.mouse[1]),V.extent,l));function I(){V.wheel=null,V.end()}}function z(R,...q){if(g||!e.apply(this,arguments))return;var V=R.currentTarget,Y=T(this,q,!0).event(R),H=un(R.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",L,!0),X=Mn(R,V),I=R.clientX,F=R.clientY;NN(R.view),Gd(R),Y.mouse=[X,this.__zoom.invert(X)],uu(this),Y.start();function K(U){if(Gs(U),!Y.moved){var ee=U.clientX-I,J=U.clientY-F;Y.moved=ee*ee+J*J>w}Y.event(U).zoom("mouse",n(S(Y.that.__zoom,Y.mouse[0]=Mn(U,V),Y.mouse[1]),Y.extent,l))}function L(U){H.on("mousemove.zoom mouseup.zoom",null),jN(U.view,Y.moved),Gs(U),Y.event(U).end()}}function $(R,...q){if(e.apply(this,arguments)){var V=this.__zoom,Y=Mn(R.changedTouches?R.changedTouches[0]:R,this),H=V.invert(Y),X=V.k*(R.shiftKey?.5:2),I=n(S(C(V,X),Y,H),t.apply(this,q),l);Gs(R),u>0?un(this).transition().duration(u).call(A,I,Y,R):un(this).call(_.transform,I,Y,R)}}function O(R,...q){if(e.apply(this,arguments)){var V=R.touches,Y=V.length,H=T(this,q,R.changedTouches.length===Y).event(R),X,I,F,K;for(Gd(R),I=0;I<Y;++I)F=V[I],K=Mn(F,this),K=[K,this.__zoom.invert(K),F.identifier],H.touch0?!H.touch1&&H.touch0[2]!==K[2]&&(H.touch1=K,H.taps=0):(H.touch0=K,X=!0,H.taps=1+!!p);p&&(p=clearTimeout(p)),X&&(H.taps<2&&(m=K[0],p=setTimeout(function(){p=null},v)),uu(this),H.start())}}function B(R,...q){if(this.__zooming){var V=T(this,q).event(R),Y=R.changedTouches,H=Y.length,X,I,F,K;for(Gs(R),X=0;X<H;++X)I=Y[X],F=Mn(I,this),V.touch0&&V.touch0[2]===I.identifier?V.touch0[0]=F:V.touch1&&V.touch1[2]===I.identifier&&(V.touch1[0]=F);if(I=V.that.__zoom,V.touch1){var L=V.touch0[0],U=V.touch0[1],ee=V.touch1[0],J=V.touch1[1],Q=(Q=ee[0]-L[0])*Q+(Q=ee[1]-L[1])*Q,ne=(ne=J[0]-U[0])*ne+(ne=J[1]-U[1])*ne;I=C(I,Math.sqrt(Q/ne)),F=[(L[0]+ee[0])/2,(L[1]+ee[1])/2],K=[(U[0]+J[0])/2,(U[1]+J[1])/2]}else if(V.touch0)F=V.touch0[0],K=V.touch0[1];else return;V.zoom("touch",n(S(I,F,K),V.extent,l))}}function G(R,...q){if(this.__zooming){var V=T(this,q).event(R),Y=R.changedTouches,H=Y.length,X,I;for(Gd(R),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),X=0;X<H;++X)I=Y[X],V.touch0&&V.touch0[2]===I.identifier?delete V.touch0:V.touch1&&V.touch1[2]===I.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(I=Mn(I,this),Math.hypot(m[0]-I[0],m[1]-I[1])<k)){var F=un(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return _.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:Vl(+R),_):r},_.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Vl(!!R),_):e},_.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Vl(!!R),_):i},_.extent=function(R){return arguments.length?(t=typeof R=="function"?R:Vl([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),_):t},_.scaleExtent=function(R){return arguments.length?(s[0]=+R[0],s[1]=+R[1],_):[s[0],s[1]]},_.translateExtent=function(R){return arguments.length?(l[0][0]=+R[0][0],l[1][0]=+R[1][0],l[0][1]=+R[0][1],l[1][1]=+R[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function(R){return arguments.length?(n=R,_):n},_.duration=function(R){return arguments.length?(u=+R,_):u},_.interpolate=function(R){return arguments.length?(c=R,_):c},_.on=function(){var R=f.on.apply(f,arguments);return R===f?_:R},_.clickDistance=function(R){return arguments.length?(w=(R=+R)*R,_):Math.sqrt(w)},_.tapDistance=function(R){return arguments.length?(k=+R,_):k},_}const Qn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},pa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],UN=["Enter"," ","Escape"],GN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Vi;(function(e){e.Strict="strict",e.Loose="loose"})(Vi||(Vi={}));var Bo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bo||(Bo={}));var ha;(function(e){e.Partial="partial",e.Full="full"})(ha||(ha={}));const WN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var eo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(eo||(eo={}));var vu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(vu||(vu={}));var Se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Se||(Se={}));const Yb={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function KN(e){return e===null?null:e?"valid":"invalid"}const YN=e=>"id"in e&&"source"in e&&"target"in e,UO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),mv=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Sa=(e,t=[0,0])=>{const{width:n,height:r}=xr(e),i=e.origin??t,s=n*i[0],l=r*i[1];return{x:e.position.x-s,y:e.position.y-l}},GO=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let l=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(l=s?t.nodeLookup.get(i):mv(i)?i:t.nodeLookup.get(i.id));const u=l?xu(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Mu(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ou(n)},Ca=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Mu(n,xu(i)),r=!0)}),r?Ou(n):{x:0,y:0,width:0,height:0}},gv=(e,t,[n,r,i]=[0,0,1],s=!1,l=!1)=>{const u={...Na(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const f of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=f;if(l&&!m||g)continue;const v=p.width??f.width??f.initialWidth??null,b=p.height??f.height??f.initialHeight??null,w=ma(u,Gi(f)),k=(v??0)*(b??0),_=s&&w>0;(!f.internals.handleBounds||_||w>=k||f.dragging)&&c.push(f)}return c},WO=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function KO(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function YO({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},l){if(e.size===0)return Promise.resolve(!0);const u=KO(e,l),c=Ca(u),f=yv(c,t,n,l?.minZoom??i,l?.maxZoom??s,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function XN({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:c,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},p=l.origin??r;let m=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!u)s?.("005",Qn.error005());else{const v=u.measured.width,b=u.measured.height;v&&b&&(m=[[c,f],[c+v,f+b]])}else u&&Wi(l.extent)&&(m=[[l.extent[0][0]+c,l.extent[0][1]+f],[l.extent[1][0]+c,l.extent[1][1]+f]]);const g=Wi(m)?Vo(t,m,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",Qn.error015()),{position:{x:g.x-c+(l.measured.width??0)*p[0],y:g.y-f+(l.measured.height??0)*p[1]},positionAbsolute:g}}async function XO({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const v=s.has(g.id),b=!v&&g.parentId&&l.find(w=>w.id===g.parentId);(v||b)&&l.push(g)}const u=new Set(t.map(g=>g.id)),c=r.filter(g=>g.deletable!==!1),p=WO(l,c);for(const g of c)u.has(g.id)&&!p.find(b=>b.id===g.id)&&p.push(g);if(!i)return{edges:p,nodes:l};const m=await i({nodes:l,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:l}:{edges:[],nodes:[]}:m}const Ui=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Vo=(e={x:0,y:0},t,n)=>({x:Ui(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Ui(e.y,t[0][1],t[1][1]-(n?.height??0))});function QN(e,t,n){const{width:r,height:i}=xr(n),{x:s,y:l}=n.internals.positionAbsolute;return Vo(e,[[s,l],[s+r,l+i]],t)}const Xb=(e,t,n)=>e<t?Ui(Math.abs(e-t),1,t)/t:e>n?-Ui(Math.abs(e-n),1,t)/t:0,ZN=(e,t,n=15,r=40)=>{const i=Xb(e.x,r,t.width-r)*n,s=Xb(e.y,r,t.height-r)*n;return[i,s]},Mu=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Vy=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ou=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Gi=(e,t=[0,0])=>{const{x:n,y:r}=mv(e)?e.internals.positionAbsolute:Sa(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},xu=(e,t=[0,0])=>{const{x:n,y:r}=mv(e)?e.internals.positionAbsolute:Sa(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},JN=(e,t)=>Ou(Mu(Vy(e),Vy(t))),ma=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Qb=e=>Ln(e.width)&&Ln(e.height)&&Ln(e.x)&&Ln(e.y),Ln=e=>!isNaN(e)&&isFinite(e),QO=(e,t)=>{},Ea=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Na=({x:e,y:t},[n,r,i],s=!1,l=[1,1])=>{const u={x:(e-n)/i,y:(t-r)/i};return s?Ea(u,l):u},bu=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Ii(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function ZO(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ii(e,n),i=Ii(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Ii(e.top??e.y??0,n),i=Ii(e.bottom??e.y??0,n),s=Ii(e.left??e.x??0,t),l=Ii(e.right??e.x??0,t);return{top:r,right:l,bottom:i,left:s,x:s+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function JO(e,t,n,r,i,s){const{x:l,y:u}=bu(e,[t,n,r]),{x:c,y:f}=bu({x:e.x+e.width,y:e.y+e.height},[t,n,r]),p=i-c,m=s-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(p),bottom:Math.floor(m)}}const yv=(e,t,n,r,i,s)=>{const l=ZO(s,t,n),u=(t-l.x)/e.width,c=(n-l.y)/e.height,f=Math.min(u,c),p=Ui(f,r,i),m=e.x+e.width/2,g=e.y+e.height/2,v=t/2-m*p,b=n/2-g*p,w=JO(e,v,b,p,t,n),k={left:Math.min(w.left-l.left,0),top:Math.min(w.top-l.top,0),right:Math.min(w.right-l.right,0),bottom:Math.min(w.bottom-l.bottom,0)};return{x:v-k.left+k.right,y:b-k.top+k.bottom,zoom:p}},ga=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Wi(e){return e!=null&&e!=="parent"}function xr(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function ej(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function tj(e,t={width:0,height:0},n,r,i){const s={...e},l=r.get(n);if(l){const u=l.origin||i;s.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],s.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return s}function Zb(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function eL(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function tL(e){return{...GN,...e||{}}}function oa(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:l}=Dn(e),u=Na({x:s-(i?.left??0),y:l-(i?.top??0)},r),{x:c,y:f}=n?Ea(u,t):u;return{xSnapped:c,ySnapped:f,...u}}const vv=e=>({width:e.offsetWidth,height:e.offsetHeight}),nj=e=>e?.getRootNode?.()||window?.document,nL=["INPUT","SELECT","TEXTAREA"];function rj(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:nL.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const oj=e=>"clientX"in e,Dn=(e,t)=>{const n=oj(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},Jb=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:i,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...vv(l)}})};function ij({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:u}){const c=e*.125+i*.375+l*.375+n*.125,f=t*.125+s*.375+u*.375+r*.125,p=Math.abs(c-e),m=Math.abs(f-t);return[c,f,p,m]}function Ul(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ew({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Se.Left:return[t-Ul(t-r,s),n];case Se.Right:return[t+Ul(r-t,s),n];case Se.Top:return[t,n-Ul(n-i,s)];case Se.Bottom:return[t,n+Ul(i-n,s)]}}function xv({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:i,targetPosition:s=Se.Top,curvature:l=.25}){const[u,c]=ew({pos:n,x1:e,y1:t,x2:r,y2:i,c:l}),[f,p]=ew({pos:s,x1:r,y1:i,x2:e,y2:t,c:l}),[m,g,v,b]=ij({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:p});return[`M${e},${t} C${u},${c} ${f},${p} ${r},${i}`,m,g,v,b]}function sj({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,l=Math.abs(r-t)/2,u=r<t?r+l:r-l;return[s,u,i,l]}function rL({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const l=i&&n?r+1e3:r,u=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return l+u}function oL({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=Mu(xu(e),xu(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ma(l,Ou(s))>0}const iL=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,sL=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),aL=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||iL;let i;return YN(e)?i={...e}:i={...e,id:r(e)},sL(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function aj({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,l,u]=sj({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,l,u]}const tw={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},lL=({source:e,sourcePosition:t=Se.Bottom,target:n})=>t===Se.Left||t===Se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function uL({source:e,sourcePosition:t=Se.Bottom,target:n,targetPosition:r=Se.Top,center:i,offset:s,stepPosition:l}){const u=tw[t],c=tw[r],f={x:e.x+u.x*s,y:e.y+u.y*s},p={x:n.x+c.x*s,y:n.y+c.y*s},m=lL({source:f,sourcePosition:t,target:p}),g=m.x!==0?"x":"y",v=m[g];let b=[],w,k;const _={x:0,y:0},C={x:0,y:0},[,,S,j]=sj({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*c[g]===-1){g==="x"?(w=i.x??f.x+(p.x-f.x)*l,k=i.y??(f.y+p.y)/2):(w=i.x??(f.x+p.x)/2,k=i.y??f.y+(p.y-f.y)*l);const T=[{x:w,y:f.y},{x:w,y:p.y}],N=[{x:f.x,y:k},{x:p.x,y:k}];u[g]===v?b=g==="x"?T:N:b=g==="x"?N:T}else{const T=[{x:f.x,y:p.y}],N=[{x:p.x,y:f.y}];if(g==="x"?b=u.x===v?N:T:b=u.y===v?T:N,t===r){const B=Math.abs(e[g]-n[g]);if(B<=s){const G=Math.min(s-1,s-B);u[g]===v?_[g]=(f[g]>e[g]?-1:1)*G:C[g]=(p[g]>n[g]?-1:1)*G}}if(t!==r){const B=g==="x"?"y":"x",G=u[g]===c[B],R=f[B]>p[B],q=f[B]<p[B];(u[g]===1&&(!G&&R||G&&q)||u[g]!==1&&(!G&&q||G&&R))&&(b=g==="x"?T:N)}const D={x:f.x+_.x,y:f.y+_.y},z={x:p.x+C.x,y:p.y+C.y},$=Math.max(Math.abs(D.x-b[0].x),Math.abs(z.x-b[0].x)),O=Math.max(Math.abs(D.y-b[0].y),Math.abs(z.y-b[0].y));$>=O?(w=(D.x+z.x)/2,k=b[0].y):(w=b[0].x,k=(D.y+z.y)/2)}return[[e,{x:f.x+_.x,y:f.y+_.y},...b,{x:p.x+C.x,y:p.y+C.y},n],w,k,S,j]}function cL(e,t,n,r){const i=Math.min(nw(e,t)/2,nw(t,n)/2,r),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${s+i*f},${l}Q ${s},${l} ${s},${l+i*p}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${l+i*c}Q ${s},${l} ${s+i*u},${l}`}function wu({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:i,targetPosition:s=Se.Top,borderRadius:l=5,centerX:u,centerY:c,offset:f=20,stepPosition:p=.5}){const[m,g,v,b,w]=uL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:u,y:c},offset:f,stepPosition:p});return[m.reduce((_,C,S)=>{let j="";return S>0&&S<m.length-1?j=cL(m[S-1],C,m[S+1],l):j=`${S===0?"M":"L"}${C.x} ${C.y}`,_+=j,_},""),g,v,b,w]}function rw(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function dL(e){const{sourceNode:t,targetNode:n}=e;if(!rw(t)||!rw(n))return null;const r=t.internals.handleBounds||ow(t.handles),i=n.internals.handleBounds||ow(n.handles),s=iw(r?.source??[],e.sourceHandle),l=iw(e.connectionMode===Vi.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!s||!l)return e.onError?.("008",Qn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=s?.position||Se.Bottom,c=l?.position||Se.Top,f=Uo(t,s,u),p=Uo(n,l,c);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:u,targetPosition:c}}function ow(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Uo(e,t,n=Se.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??xr(e);if(r)return{x:i+l/2,y:s+u/2};switch(t?.position??n){case Se.Top:return{x:i+l/2,y:s};case Se.Right:return{x:i+l,y:s+u/2};case Se.Bottom:return{x:i+l/2,y:s+u};case Se.Left:return{x:i,y:s+u/2}}}function iw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Uy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function fL(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((l,u)=>([u.markerStart||r,u.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const f=Uy(c,t);s.has(f)||(l.push({id:f,color:c.color||n,...c}),s.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const lj=1e3,pL=10,bv={nodeOrigin:[0,0],nodeExtent:pa,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},hL={...bv,checkEquality:!0};function wv(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function mL(e,t,n){const r=wv(bv,n);for(const i of e.values())if(i.parentId)kv(i,e,t,r);else{const s=Sa(i,r.nodeOrigin),l=Wi(i.extent)?i.extent:r.nodeExtent,u=Vo(s,l,xr(i));i.internals.positionAbsolute=u}}function gL(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function _v(e){return e==="manual"}function Gy(e,t,n,r={}){const i=wv(hL,r),s={i:0},l=new Map(t),u=i?.elevateNodesOnSelect&&!_v(i.zIndexMode)?lj:0;let c=e.length>0;t.clear(),n.clear();for(const f of e){let p=l.get(f.id);if(i.checkEquality&&f===p?.internals.userNode)t.set(f.id,p);else{const m=Sa(f,i.nodeOrigin),g=Wi(f.extent)?f.extent:i.nodeExtent,v=Vo(m,g,xr(f));p={...i.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:v,handleBounds:gL(f,p),z:uj(f,u,i.zIndexMode),userNode:f}},t.set(f.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(c=!1),f.parentId&&kv(p,t,n,r,s)}return c}function yL(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function kv(e,t,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:u,zIndexMode:c}=wv(bv,r),f=e.parentId,p=t.get(f);if(!p){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}yL(e,n),i&&!p.parentId&&p.internals.rootParentIndex===void 0&&c==="auto"&&(p.internals.rootParentIndex=++i.i,p.internals.z=p.internals.z+i.i*pL),i&&p.internals.rootParentIndex!==void 0&&(i.i=p.internals.rootParentIndex);const m=s&&!_v(c)?lj:0,{x:g,y:v,z:b}=vL(e,p,l,u,m,c),{positionAbsolute:w}=e.internals,k=g!==w.x||v!==w.y;(k||b!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:k?{x:g,y:v}:w,z:b}})}function uj(e,t,n){const r=Ln(e.zIndex)?e.zIndex:0;return _v(n)?r:r+(e.selected?t:0)}function vL(e,t,n,r,i,s){const{x:l,y:u}=t.internals.positionAbsolute,c=xr(e),f=Sa(e,n),p=Wi(e.extent)?Vo(f,e.extent,c):f;let m=Vo({x:l+p.x,y:u+p.y},r,c);e.extent==="parent"&&(m=QN(m,c,t));const g=uj(e,i,s),v=t.internals.z??0;return{x:m.x,y:m.y,z:v>=g?v+1:g}}function Sv(e,t,n,r=[0,0]){const i=[],s=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const c=s.get(l.parentId)?.expandedRect??Gi(u),f=JN(c,l.rect);s.set(l.parentId,{expandedRect:f,parent:u})}return s.size>0&&s.forEach(({expandedRect:l,parent:u},c)=>{const f=u.internals.positionAbsolute,p=xr(u),m=u.origin??r,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,v=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,b=Math.max(p.width,Math.round(l.width)),w=Math.max(p.height,Math.round(l.height)),k=(b-p.width)*m[0],_=(w-p.height)*m[1];(g>0||v>0||k||_)&&(i.push({id:c,type:"position",position:{x:u.position.x-g+k,y:u.position.y-v+_}}),n.get(c)?.forEach(C=>{e.some(S=>S.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+g,y:C.position.y+v}})})),(p.width<l.width||p.height<l.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?m[0]*g-k:0),height:w+(v?m[1]*v-_:0)}})}),i}function xL(e,t,n,r,i,s,l){const u=r?.querySelector(".xyflow__viewport");let c=!1;if(!u)return{changes:[],updatedInternals:c};const f=[],p=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(p.transform),g=[];for(const v of e.values()){const b=t.get(v.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),c=!0;continue}const w=vv(v.nodeElement),k=b.measured.width!==w.width||b.measured.height!==w.height;if(!!(w.width&&w.height&&(k||!b.internals.handleBounds||v.force))){const C=v.nodeElement.getBoundingClientRect(),S=Wi(b.extent)?b.extent:s;let{positionAbsolute:j}=b.internals;b.parentId&&b.extent==="parent"?j=QN(j,w,t.get(b.parentId)):S&&(j=Vo(j,S,w));const A={...b,measured:w,internals:{...b.internals,positionAbsolute:j,handleBounds:{source:Jb("source",v.nodeElement,C,m,b.id),target:Jb("target",v.nodeElement,C,m,b.id)}}};t.set(b.id,A),b.parentId&&kv(A,t,n,{nodeOrigin:i,zIndexMode:l}),c=!0,k&&(f.push({id:b.id,type:"dimensions",dimensions:w}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:Gi(A,i)}))}}if(g.length>0){const v=Sv(g,t,n,i);f.push(...v)}return{changes:f,updatedInternals:c}}async function bL({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function sw(e,t,n,r,i,s){let l=i;const u=r.get(l)||new Map;r.set(l,u.set(n,t)),l=`${i}-${e}`;const c=r.get(l)||new Map;if(r.set(l,c.set(n,t)),s){l=`${i}-${e}-${s}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function cj(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:l=null,targetHandle:u=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:l,targetHandle:u},f=`${i}-${l}--${s}-${u}`,p=`${s}-${u}--${i}-${l}`;sw("source",c,p,e,i,l),sw("target",c,f,e,s,u),t.set(r.id,r)}}function dj(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:dj(n,t):!1}function aw(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function wL(e,t,n,r){const i=new Map;for(const[s,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!dj(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(s);u&&i.set(s,{id:s,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return i}function Wd({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,u]of t){const c=n.get(l)?.internals.userNode;c&&i.push({...c,position:u.position,dragging:r})}if(!e)return[i[0],i];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:i[0],i]}function _L({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},l=Ea(s,t);return{x:l.x-s.x,y:l.y-s.y}}function kL({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},l=0,u=new Map,c=!1,f={x:0,y:0},p=null,m=!1,g=null,v=!1,b=!1,w=null;function k({noDragClassName:C,handleSelector:S,domNode:j,isSelectable:A,nodeId:T,nodeClickDistance:N=0}){g=un(j);function D({x:B,y:G}){const{nodeLookup:R,nodeExtent:q,snapGrid:V,snapToGrid:Y,nodeOrigin:H,onNodeDrag:X,onSelectionDrag:I,onError:F,updateNodePositions:K}=t();s={x:B,y:G};let L=!1;const U=u.size>1,ee=U&&q?Vy(Ca(u)):null,J=U&&Y?_L({dragItems:u,snapGrid:V,x:B,y:G}):null;for(const[Q,ne]of u){if(!R.has(Q))continue;let ae={x:B-ne.distance.x,y:G-ne.distance.y};Y&&(ae=J?{x:Math.round(ae.x+J.x),y:Math.round(ae.y+J.y)}:Ea(ae,V));let fe=null;if(U&&q&&!ne.extent&&ee){const{positionAbsolute:xe}=ne.internals,Ae=xe.x-ee.x+q[0][0],we=xe.x+ne.measured.width-ee.x2+q[1][0],Le=xe.y-ee.y+q[0][1],Ne=xe.y+ne.measured.height-ee.y2+q[1][1];fe=[[Ae,Le],[we,Ne]]}const{position:ve,positionAbsolute:Ce}=XN({nodeId:Q,nextPosition:ae,nodeLookup:R,nodeExtent:fe||q,nodeOrigin:H,onError:F});L=L||ne.position.x!==ve.x||ne.position.y!==ve.y,ne.position=ve,ne.internals.positionAbsolute=Ce}if(b=b||L,!!L&&(K(u,!0),w&&(r||X||!T&&I))){const[Q,ne]=Wd({nodeId:T,dragItems:u,nodeLookup:R});r?.(w,u,Q,ne),X?.(w,Q,ne),T||I?.(w,ne)}}async function z(){if(!p)return;const{transform:B,panBy:G,autoPanSpeed:R,autoPanOnNodeDrag:q}=t();if(!q){c=!1,cancelAnimationFrame(l);return}const[V,Y]=ZN(f,p,R);(V!==0||Y!==0)&&(s.x=(s.x??0)-V/B[2],s.y=(s.y??0)-Y/B[2],await G({x:V,y:Y})&&D(s)),l=requestAnimationFrame(z)}function $(B){const{nodeLookup:G,multiSelectionActive:R,nodesDraggable:q,transform:V,snapGrid:Y,snapToGrid:H,selectNodesOnDrag:X,onNodeDragStart:I,onSelectionDragStart:F,unselectNodesAndEdges:K}=t();m=!0,(!X||!A)&&!R&&T&&(G.get(T)?.selected||K()),A&&X&&T&&e?.(T);const L=oa(B.sourceEvent,{transform:V,snapGrid:Y,snapToGrid:H,containerBounds:p});if(s=L,u=wL(G,q,L,T),u.size>0&&(n||I||!T&&F)){const[U,ee]=Wd({nodeId:T,dragItems:u,nodeLookup:G});n?.(B.sourceEvent,u,U,ee),I?.(B.sourceEvent,U,ee),T||F?.(B.sourceEvent,ee)}}const O=TN().clickDistance(N).on("start",B=>{const{domNode:G,nodeDragThreshold:R,transform:q,snapGrid:V,snapToGrid:Y}=t();p=G?.getBoundingClientRect()||null,v=!1,b=!1,w=B.sourceEvent,R===0&&$(B),s=oa(B.sourceEvent,{transform:q,snapGrid:V,snapToGrid:Y,containerBounds:p}),f=Dn(B.sourceEvent,p)}).on("drag",B=>{const{autoPanOnNodeDrag:G,transform:R,snapGrid:q,snapToGrid:V,nodeDragThreshold:Y,nodeLookup:H}=t(),X=oa(B.sourceEvent,{transform:R,snapGrid:q,snapToGrid:V,containerBounds:p});if(w=B.sourceEvent,(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||T&&!H.has(T))&&(v=!0),!v){if(!c&&G&&m&&(c=!0,z()),!m){const I=Dn(B.sourceEvent,p),F=I.x-f.x,K=I.y-f.y;Math.sqrt(F*F+K*K)>Y&&$(B)}(s.x!==X.xSnapped||s.y!==X.ySnapped)&&u&&m&&(f=Dn(B.sourceEvent,p),D(X))}}).on("end",B=>{if(!(!m||v)&&(c=!1,m=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:G,updateNodePositions:R,onNodeDragStop:q,onSelectionDragStop:V}=t();if(b&&(R(u,!1),b=!1),i||q||!T&&V){const[Y,H]=Wd({nodeId:T,dragItems:u,nodeLookup:G,dragging:!1});i?.(B.sourceEvent,u,Y,H),q?.(B.sourceEvent,Y,H),T||V?.(B.sourceEvent,H)}}}).filter(B=>{const G=B.target;return!B.button&&(!C||!aw(G,`.${C}`,j))&&(!S||aw(G,S,j))});g.call(O)}function _(){g?.on(".drag",null)}return{update:k,destroy:_}}function SL(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())ma(i,Gi(s))>0&&r.push(s);return r}const CL=250;function EL(e,t,n,r){let i=[],s=1/0;const l=SL(e,n,t+CL);for(const u of l){const c=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:m}=Uo(u,f,f.position,!0),g=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(m-e.y,2));g>t||(g<s?(i=[{...f,x:p,y:m}],s=g):g===s&&i.push({...f,x:p,y:m}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function fj(e,t,n,r,i,s=!1){const l=r.get(e);if(!l)return null;const u=i==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],c=(n?u?.find(f=>f.id===n):u?.[0])??null;return c&&s?{...c,...Uo(l,c,c.position,!0)}:c}function pj(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function NL(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const hj=()=>!0;function jL(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:l,domNode:u,nodeLookup:c,lib:f,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:v,onConnectStart:b,onConnect:w,onConnectEnd:k,isValidConnection:_=hj,onReconnectEnd:C,updateConnection:S,getTransform:j,getFromHandle:A,autoPanSpeed:T,dragThreshold:N=1,handleDomNode:D}){const z=nj(e.target);let $=0,O;const{x:B,y:G}=Dn(e),R=pj(s,D),q=u?.getBoundingClientRect();let V=!1;if(!q||!R)return;const Y=fj(i,R,r,c,t);if(!Y)return;let H=Dn(e,q),X=!1,I=null,F=!1,K=null;function L(){if(!p||!q)return;const[ve,Ce]=ZN(H,q,T);g({x:ve,y:Ce}),$=requestAnimationFrame(L)}const U={...Y,nodeId:i,type:R,position:Y.position},ee=c.get(i);let Q={inProgress:!0,isValid:null,from:Uo(ee,U,Se.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:ee,to:H,toHandle:null,toPosition:Yb[U.position],toNode:null,pointer:H};function ne(){V=!0,S(Q),b?.(e,{nodeId:i,handleId:r,handleType:R})}N===0&&ne();function ae(ve){if(!V){const{x:Ne,y:it}=Dn(ve),We=Ne-B,dt=it-G;if(!(We*We+dt*dt>N*N))return;ne()}if(!A()||!U){fe(ve);return}const Ce=j();H=Dn(ve,q),O=EL(Na(H,Ce,!1,[1,1]),n,c,U),X||(L(),X=!0);const xe=mj(ve,{handle:O,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:_,doc:z,lib:f,flowId:m,nodeLookup:c});K=xe.handleDomNode,I=xe.connection,F=NL(!!O,xe.isValid);const Ae=c.get(i),we=Ae?Uo(Ae,U,Se.Left,!0):Q.from,Le={...Q,from:we,isValid:F,to:xe.toHandle&&F?bu({x:xe.toHandle.x,y:xe.toHandle.y},Ce):H,toHandle:xe.toHandle,toPosition:F&&xe.toHandle?xe.toHandle.position:Yb[U.position],toNode:xe.toHandle?c.get(xe.toHandle.nodeId):null,pointer:H};S(Le),Q=Le}function fe(ve){if(!("touches"in ve&&ve.touches.length>0)){if(V){(O||K)&&I&&F&&w?.(I);const{inProgress:Ce,...xe}=Q,Ae={...xe,toPosition:Q.toHandle?Q.toPosition:null};k?.(ve,Ae),s&&C?.(ve,Ae)}v(),cancelAnimationFrame($),X=!1,F=!1,I=null,K=null,z.removeEventListener("mousemove",ae),z.removeEventListener("mouseup",fe),z.removeEventListener("touchmove",ae),z.removeEventListener("touchend",fe)}}z.addEventListener("mousemove",ae),z.addEventListener("mouseup",fe),z.addEventListener("touchmove",ae),z.addEventListener("touchend",fe)}function mj(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:l,lib:u,flowId:c,isValidConnection:f=hj,nodeLookup:p}){const m=s==="target",g=t?l.querySelector(`.${u}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:v,y:b}=Dn(e),w=l.elementFromPoint(v,b),k=w?.classList.contains(`${u}-flow__handle`)?w:g,_={handleDomNode:k,isValid:!1,connection:null,toHandle:null};if(k){const C=pj(void 0,k),S=k.getAttribute("data-nodeid"),j=k.getAttribute("data-handleid"),A=k.classList.contains("connectable"),T=k.classList.contains("connectableend");if(!S||!C)return _;const N={source:m?S:r,sourceHandle:m?j:i,target:m?r:S,targetHandle:m?i:j};_.connection=N;const z=A&&T&&(n===Vi.Strict?m&&C==="source"||!m&&C==="target":S!==r||j!==i);_.isValid=z&&f(N),_.toHandle=fj(S,C,j,p,n,!0)}return _}const Wy={onPointerDown:jL,isValid:mj};function TL({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=un(e);function s({translateExtent:u,width:c,height:f,zoomStep:p=1,pannable:m=!0,zoomable:g=!0,inversePan:v=!1}){const b=S=>{if(S.sourceEvent.type!=="wheel"||!t)return;const j=n(),A=S.sourceEvent.ctrlKey&&ga()?10:1,T=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*p,N=j[2]*Math.pow(2,T*A);t.scaleTo(N)};let w=[0,0];const k=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(w=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},_=S=>{const j=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!t)return;const A=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],T=[A[0]-w[0],A[1]-w[1]];w=A;const N=r()*Math.max(j[2],Math.log(j[2]))*(v?-1:1),D={x:j[0]-T[0]*N,y:j[1]-T[1]*N},z=[[0,0],[c,f]];t.setViewportConstrained({x:D.x,y:D.y,zoom:j[2]},z,u)},C=VN().on("start",k).on("zoom",m?_:null).on("zoom.wheel",g?b:null);i.call(C,{})}function l(){i.on("zoom",null)}return{update:s,destroy:l,pointer:Mn}}const Lu=e=>({x:e.x,y:e.y,zoom:e.k}),Kd=({x:e,y:t,zoom:n})=>Ru.translate(e,t).scale(n),Oi=(e,t)=>e.target.closest(`.${t}`),gj=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),AL=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Yd=(e,t=0,n=AL,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},yj=e=>{const t=e.ctrlKey&&ga()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function PL({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:f}){return p=>{if(Oi(p,t))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(p.ctrlKey&&l){const k=Mn(p),_=yj(p),C=m*Math.pow(2,_);r.scaleTo(n,C,k,p);return}const g=p.deltaMode===1?20:1;let v=i===Bo.Vertical?0:p.deltaX*g,b=i===Bo.Horizontal?0:p.deltaY*g;!ga()&&p.shiftKey&&i!==Bo.Vertical&&(v=p.deltaY*g,b=0),r.translateBy(n,-(v/m)*s,-(b/m)*s,{internal:!0});const w=Lu(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c?.(p,w),e.panScrollTimeout=setTimeout(()=>{f?.(p,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(p,w))}}function IL({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",l=!t&&s&&!r.ctrlKey,u=Oi(r,e);if(r.ctrlKey&&s&&u&&r.preventDefault(),l||u)return null;r.preventDefault(),n.call(this,r,i)}}function RL({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Lu(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function ML({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{e.usedRightMouseButton=!!(n&&gj(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Lu(s.transform))}}function OL({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&gj(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=Lu(l.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(l.sourceEvent,u)},n?150:0)}}}function LL({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:u,noPanClassName:c,lib:f,connectionInProgress:p}){return m=>{const g=e||t,v=n&&m.ctrlKey,b=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(Oi(m,`${f}-flow__node`)||Oi(m,`${f}-flow__edge`)))return!0;if(!r&&!g&&!i&&!s&&!n||l||p&&!b||Oi(m,u)&&b||Oi(m,c)&&(!b||i&&b&&!e)||!n&&m.ctrlKey&&b)return!1;if(!n&&m.type==="touchstart"&&m.touches?.length>1)return m.preventDefault(),!1;if(!g&&!i&&!v&&b||!r&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(r)&&!r.includes(m.button)&&m.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||b)&&w}}function DL({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:c}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),m=VN().scaleExtent([t,n]).translateExtent(r),g=un(e).call(m);C({x:i.x,y:i.y,zoom:Ui(i.zoom,t,n)},[[0,0],[p.width,p.height]],r);const v=g.on("wheel.zoom"),b=g.on("dblclick.zoom");m.wheelDelta(yj);function w(O,B){return g?new Promise(G=>{m?.interpolate(B?.interpolate==="linear"?ra:su).transform(Yd(g,B?.duration,B?.ease,()=>G(!0)),O)}):Promise.resolve(!1)}function k({noWheelClassName:O,noPanClassName:B,onPaneContextMenu:G,userSelectionActive:R,panOnScroll:q,panOnDrag:V,panOnScrollMode:Y,panOnScrollSpeed:H,preventScrolling:X,zoomOnPinch:I,zoomOnScroll:F,zoomOnDoubleClick:K,zoomActivationKeyPressed:L,lib:U,onTransformChange:ee,connectionInProgress:J,paneClickDistance:Q,selectionOnDrag:ne}){R&&!f.isZoomingOrPanning&&_();const ae=q&&!L&&!R;m.clickDistance(ne?1/0:!Ln(Q)||Q<0?0:Q);const fe=ae?PL({zoomPanValues:f,noWheelClassName:O,d3Selection:g,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:H,zoomOnPinch:I,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:u}):IL({noWheelClassName:O,preventScrolling:X,d3ZoomHandler:v});if(g.on("wheel.zoom",fe,{passive:!1}),!R){const Ce=RL({zoomPanValues:f,onDraggingChange:c,onPanZoomStart:l});m.on("start",Ce);const xe=ML({zoomPanValues:f,panOnDrag:V,onPaneContextMenu:!!G,onPanZoom:s,onTransformChange:ee});m.on("zoom",xe);const Ae=OL({zoomPanValues:f,panOnDrag:V,panOnScroll:q,onPaneContextMenu:G,onPanZoomEnd:u,onDraggingChange:c});m.on("end",Ae)}const ve=LL({zoomActivationKeyPressed:L,panOnDrag:V,zoomOnScroll:F,panOnScroll:q,zoomOnDoubleClick:K,zoomOnPinch:I,userSelectionActive:R,noPanClassName:B,noWheelClassName:O,lib:U,connectionInProgress:J});m.filter(ve),K?g.on("dblclick.zoom",b):g.on("dblclick.zoom",null)}function _(){m.on("zoom",null)}async function C(O,B,G){const R=Kd(O),q=m?.constrain()(R,B,G);return q&&await w(q),new Promise(V=>V(q))}async function S(O,B){const G=Kd(O);return await w(G,B),new Promise(R=>R(G))}function j(O){if(g){const B=Kd(O),G=g.property("__zoom");(G.k!==O.zoom||G.x!==O.x||G.y!==O.y)&&m?.transform(g,B,null,{sync:!0})}}function A(){const O=g?HN(g.node()):{x:0,y:0,k:1};return{x:O.x,y:O.y,zoom:O.k}}function T(O,B){return g?new Promise(G=>{m?.interpolate(B?.interpolate==="linear"?ra:su).scaleTo(Yd(g,B?.duration,B?.ease,()=>G(!0)),O)}):Promise.resolve(!1)}function N(O,B){return g?new Promise(G=>{m?.interpolate(B?.interpolate==="linear"?ra:su).scaleBy(Yd(g,B?.duration,B?.ease,()=>G(!0)),O)}):Promise.resolve(!1)}function D(O){m?.scaleExtent(O)}function z(O){m?.translateExtent(O)}function $(O){const B=!Ln(O)||O<0?0:O;m?.clickDistance(B)}return{update:k,destroy:_,setViewport:S,setViewportConstrained:C,getViewport:A,scaleTo:T,scaleBy:N,setScaleExtent:D,setTranslateExtent:z,syncViewport:j,setClickDistance:$}}var Ki;(function(e){e.Line="line",e.Handle="handle"})(Ki||(Ki={}));function qL({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:s}){const l=e-t,u=n-r,c=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&i&&(c[0]=c[0]*-1),u&&s&&(c[1]=c[1]*-1),c}function lw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Xr(e,t){return Math.max(0,t-e)}function Qr(e,t){return Math.max(0,e-t)}function Gl(e,t,n){return Math.max(0,t-e,e-n)}function uw(e,t){return e?!t:t}function zL(e,t,n,r,i,s,l,u){let{affectsX:c,affectsY:f}=t;const{isHorizontal:p,isVertical:m}=t,g=p&&m,{xSnapped:v,ySnapped:b}=n,{minWidth:w,maxWidth:k,minHeight:_,maxHeight:C}=r,{x:S,y:j,width:A,height:T,aspectRatio:N}=e;let D=Math.floor(p?v-e.pointerX:0),z=Math.floor(m?b-e.pointerY:0);const $=A+(c?-D:D),O=T+(f?-z:z),B=-s[0]*A,G=-s[1]*T;let R=Gl($,w,k),q=Gl(O,_,C);if(l){let H=0,X=0;c&&D<0?H=Xr(S+D+B,l[0][0]):!c&&D>0&&(H=Qr(S+$+B,l[1][0])),f&&z<0?X=Xr(j+z+G,l[0][1]):!f&&z>0&&(X=Qr(j+O+G,l[1][1])),R=Math.max(R,H),q=Math.max(q,X)}if(u){let H=0,X=0;c&&D>0?H=Qr(S+D,u[0][0]):!c&&D<0&&(H=Xr(S+$,u[1][0])),f&&z>0?X=Qr(j+z,u[0][1]):!f&&z<0&&(X=Xr(j+O,u[1][1])),R=Math.max(R,H),q=Math.max(q,X)}if(i){if(p){const H=Gl($/N,_,C)*N;if(R=Math.max(R,H),l){let X=0;!c&&!f||c&&!f&&g?X=Qr(j+G+$/N,l[1][1])*N:X=Xr(j+G+(c?D:-D)/N,l[0][1])*N,R=Math.max(R,X)}if(u){let X=0;!c&&!f||c&&!f&&g?X=Xr(j+$/N,u[1][1])*N:X=Qr(j+(c?D:-D)/N,u[0][1])*N,R=Math.max(R,X)}}if(m){const H=Gl(O*N,w,k)/N;if(q=Math.max(q,H),l){let X=0;!c&&!f||f&&!c&&g?X=Qr(S+O*N+B,l[1][0])/N:X=Xr(S+(f?z:-z)*N+B,l[0][0])/N,q=Math.max(q,X)}if(u){let X=0;!c&&!f||f&&!c&&g?X=Xr(S+O*N,u[1][0])/N:X=Qr(S+(f?z:-z)*N,u[0][0])/N,q=Math.max(q,X)}}}z=z+(z<0?q:-q),D=D+(D<0?R:-R),i&&(g?$>O*N?z=(uw(c,f)?-D:D)/N:D=(uw(c,f)?-z:z)*N:p?(z=D/N,f=c):(D=z*N,c=f));const V=c?S+D:S,Y=f?j+z:j;return{width:A+(c?-D:D),height:T+(f?-z:z),x:s[0]*D*(c?-1:1)+V,y:s[1]*z*(f?-1:1)+Y}}const vj={width:0,height:0,x:0,y:0},FL={...vj,pointerX:0,pointerY:0,aspectRatio:1};function BL(e){return[[0,0],[e.measured.width,e.measured.height]]}function $L(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,l=e.measured.height??0,u=n[0]*s,c=n[1]*l;return[[r-u,i-c],[r+s-u,i+l-c]]}function HL({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const s=un(e);let l={controlDirection:lw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:p,keepAspectRatio:m,resizeDirection:g,onResizeStart:v,onResize:b,onResizeEnd:w,shouldResize:k}){let _={...vj},C={...FL};l={boundaries:p,resizeDirection:g,keepAspectRatio:m,controlDirection:lw(f)};let S,j=null,A=[],T,N,D,z=!1;const $=TN().on("start",O=>{const{nodeLookup:B,transform:G,snapGrid:R,snapToGrid:q,nodeOrigin:V,paneDomNode:Y}=n();if(S=B.get(t),!S)return;j=Y?.getBoundingClientRect()??null;const{xSnapped:H,ySnapped:X}=oa(O.sourceEvent,{transform:G,snapGrid:R,snapToGrid:q,containerBounds:j});_={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},C={..._,pointerX:H,pointerY:X,aspectRatio:_.width/_.height},T=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(T=B.get(S.parentId),N=T&&S.extent==="parent"?BL(T):void 0),A=[],D=void 0;for(const[I,F]of B)if(F.parentId===t&&(A.push({id:I,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const K=$L(F,S,F.origin??V);D?D=[[Math.min(K[0][0],D[0][0]),Math.min(K[0][1],D[0][1])],[Math.max(K[1][0],D[1][0]),Math.max(K[1][1],D[1][1])]]:D=K}v?.(O,{..._})}).on("drag",O=>{const{transform:B,snapGrid:G,snapToGrid:R,nodeOrigin:q}=n(),V=oa(O.sourceEvent,{transform:B,snapGrid:G,snapToGrid:R,containerBounds:j}),Y=[];if(!S)return;const{x:H,y:X,width:I,height:F}=_,K={},L=S.origin??q,{width:U,height:ee,x:J,y:Q}=zL(C,l.controlDirection,V,l.boundaries,l.keepAspectRatio,L,N,D),ne=U!==I,ae=ee!==F,fe=J!==H&&ne,ve=Q!==X&&ae;if(!fe&&!ve&&!ne&&!ae)return;if((fe||ve||L[0]===1||L[1]===1)&&(K.x=fe?J:_.x,K.y=ve?Q:_.y,_.x=K.x,_.y=K.y,A.length>0)){const we=J-H,Le=Q-X;for(const Ne of A)Ne.position={x:Ne.position.x-we+L[0]*(U-I),y:Ne.position.y-Le+L[1]*(ee-F)},Y.push(Ne)}if((ne||ae)&&(K.width=ne&&(!l.resizeDirection||l.resizeDirection==="horizontal")?U:_.width,K.height=ae&&(!l.resizeDirection||l.resizeDirection==="vertical")?ee:_.height,_.width=K.width,_.height=K.height),T&&S.expandParent){const we=L[0]*(K.width??0);K.x&&K.x<we&&(_.x=we,C.x=C.x-(K.x-we));const Le=L[1]*(K.height??0);K.y&&K.y<Le&&(_.y=Le,C.y=C.y-(K.y-Le))}const Ce=qL({width:_.width,prevWidth:I,height:_.height,prevHeight:F,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),xe={..._,direction:Ce};k?.(O,xe)!==!1&&(z=!0,b?.(O,xe),r(K,Y))}).on("end",O=>{z&&(w?.(O,{..._}),i?.({..._}),z=!1)});s.call($)}function c(){s.on(".drag",null)}return{update:u,destroy:c}}var Xd={exports:{}},Qd={},Zd={exports:{}},Jd={};var cw;function VL(){if(cw)return Jd;cw=1;var e=wa();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),w=b[0].inst,k=b[1];return s(function(){w.value=v,w.getSnapshot=g,c(w)&&k({inst:w})},[m,v,g]),i(function(){return c(w)&&k({inst:w}),m(function(){c(w)&&k({inst:w})})},[m]),l(v),v}function c(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Jd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Jd}var dw;function UL(){return dw||(dw=1,Zd.exports=VL()),Zd.exports}var fw;function GL(){if(fw)return Qd;fw=1;var e=wa(),t=UL();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,c=e.useDebugValue;return Qd.useSyncExternalStoreWithSelector=function(f,p,m,g,v){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=u(function(){function _(T){if(!C){if(C=!0,S=T,T=g(T),v!==void 0&&w.hasValue){var N=w.value;if(v(N,T))return j=N}return j=T}if(N=j,r(S,T))return N;var D=g(T);return v!==void 0&&v(N,D)?(S=T,N):(S=T,j=D)}var C=!1,S,j,A=m===void 0?null:m;return[function(){return _(p())},A===null?void 0:function(){return _(A())}]},[p,m,g,v]);var k=i(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=k},[k]),c(k),k},Qd}var pw;function WL(){return pw||(pw=1,Xd.exports=GL()),Xd.exports}var KL=WL();const xj=Yi(KL),YL={},hw=e=>{let t;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const v=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,v))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(YL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,c);return c},bj=e=>e?hw(e):hw,{useDebugValue:XL}=At,{useSyncExternalStoreWithSelector:QL}=xj,ZL=e=>e;function wj(e,t=ZL,n){const r=QL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return XL(r),r}const mw=(e,t)=>{const n=bj(e),r=(i,s=t)=>wj(n,i,s);return Object.assign(r,n),r},JL=(e,t)=>e?mw(e,t):mw;function ot(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var eD=hN();const Du=P.createContext(null),tD=Du.Provider,_j=Qn.error001();function Be(e,t){const n=P.useContext(Du);if(n===null)throw new Error(_j);return wj(n,e,t)}function ut(){const e=P.useContext(Du);if(e===null)throw new Error(_j);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const gw={display:"none"},nD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},kj="react-flow__node-desc",Sj="react-flow__edge-desc",rD="react-flow__aria-live",oD=e=>e.ariaLiveMessage,iD=e=>e.ariaLabelConfig;function sD({rfId:e}){const t=Be(oD);return h.jsx("div",{id:`${rD}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:nD,children:t})}function aD({rfId:e,disableKeyboardA11y:t}){const n=Be(iD);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${kj}-${e}`,style:gw,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${Sj}-${e}`,style:gw,children:n["edge.a11yDescription.default"]}),!t&&h.jsx(sD,{rfId:e})]})}const qu=P.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{const l=`${e}`.split("-");return h.jsx("div",{className:_t(["react-flow__panel",n,...l]),style:r,ref:s,...i,children:t})});qu.displayName="Panel";function lD({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:h.jsx(qu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const uD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Wl=e=>e.id;function cD(e,t){return ot(e.selectedNodes.map(Wl),t.selectedNodes.map(Wl))&&ot(e.selectedEdges.map(Wl),t.selectedEdges.map(Wl))}function dD({onSelectionChange:e}){const t=ut(),{selectedNodes:n,selectedEdges:r}=Be(uD,cD);return P.useEffect(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,e]),null}const fD=e=>!!e.onSelectionChangeHandlers;function pD({onSelectionChange:e}){const t=Be(fD);return e||t?h.jsx(dD,{onSelectionChange:e}):null}const Cj=[0,0],hD={x:0,y:0,zoom:1},mD=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],yw=[...mD,"rfId"],gD=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),vw={translateExtent:pa,nodeOrigin:Cj,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function yD(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:c}=Be(gD,ot),f=ut();P.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{p.current=vw,u()}),[]);const p=P.useRef(vw);return P.useEffect(()=>{for(const m of yw){const g=e[m],v=p.current[m];g!==v&&(typeof e[m]>"u"||(m==="nodes"?t(g):m==="edges"?n(g):m==="minZoom"?r(g):m==="maxZoom"?i(g):m==="translateExtent"?s(g):m==="nodeExtent"?l(g):m==="ariaLabelConfig"?f.setState({ariaLabelConfig:tL(g)}):m==="fitView"?f.setState({fitViewQueued:g}):m==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[m]:g})))}p.current=e},yw.map(m=>e[m])),null}function xw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function vD(e){const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const r=xw(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[e]),t!==null?t:xw()?.matches?"dark":"light"}const bw=typeof document<"u"?document:null;function ya(e=null,t={target:bw,actInsideInputWithModifier:!0}){const[n,r]=P.useState(!1),i=P.useRef(!1),s=P.useRef(new Set([])),[l,u]=P.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=f.reduce((m,g)=>m.concat(...g),[]);return[f,p]}return[[],[]]},[e]);return P.useEffect(()=>{const c=t?.target??bw,f=t?.actInsideInputWithModifier??!0;if(e!==null){const p=v=>{if(i.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!i.current||i.current&&!f)&&rj(v))return!1;const w=_w(v.code,u);if(s.current.add(v[w]),ww(l,s.current,!1)){const k=v.composedPath?.()?.[0]||v.target,_=k?.nodeName==="BUTTON"||k?.nodeName==="A";t.preventDefault!==!1&&(i.current||!_)&&v.preventDefault(),r(!0)}},m=v=>{const b=_w(v.code,u);ww(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(v[b]),v.key==="Meta"&&s.current.clear(),i.current=!1},g=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",p),c?.addEventListener("keyup",m),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{c?.removeEventListener("keydown",p),c?.removeEventListener("keyup",m),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function ww(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function _w(e,t){return t.includes(e)?"code":"key"}const xD=()=>{const e=ut();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,s],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:s,maxZoom:l,panZoom:u}=e.getState(),c=yv(t,r,i,s,l,n?.padding??.1);return u?(await u.setViewport(c,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:l}=e.getState();if(!l)return t;const{x:u,y:c}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-c},p=n.snapGrid??i,m=n.snapToGrid??s;return Na(f,r,m,p)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:s}=r.getBoundingClientRect(),l=bu(t,n);return{x:l.x+i,y:l.y+s}}}),[])};function Ej(e,t){const n=[],r=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const l=r.get(s.id);l?l.push(s):r.set(s.id,[s])}for(const s of t){const l=r.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...s};for(const c of l)bD(c,u);n.push(u)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function bD(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Nj(e,t){return Ej(e,t)}function jj(e,t){return Ej(e,t)}function qo(e,t){return{id:e,type:"select",selected:t}}function Li(e,t=new Set,n=!1){const r=[];for(const[i,s]of e){const l=t.has(i);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),r.push(qo(s.id,l)))}return r}function kw({items:e=[],lookup:t}){const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),u=l?.internals?.userNode??l;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Sw(e){return{id:e.id,type:"remove"}}const Cw=e=>UO(e),wD=e=>YN(e);function Tj(e){return P.forwardRef(e)}const _D=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Ew(e){const[t,n]=P.useState(BigInt(0)),[r]=P.useState(()=>kD(()=>n(i=>i+BigInt(1))));return _D(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function kD(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Aj=P.createContext(null);function SD({children:e}){const t=ut(),n=P.useCallback(u=>{const{nodes:c=[],setNodes:f,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g,fitViewQueued:v,onNodesChangeMiddlewareMap:b}=t.getState();let w=c;for(const _ of u)w=typeof _=="function"?_(w):_;let k=kw({items:w,lookup:g});for(const _ of b.values())k=_(k);p&&f(w),k.length>0?m?.(k):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:C,setNodes:S}=t.getState();_&&S(C)})},[]),r=Ew(n),i=P.useCallback(u=>{const{edges:c=[],setEdges:f,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=t.getState();let v=c;for(const b of u)v=typeof b=="function"?b(v):b;p?f(v):m&&m(kw({items:v,lookup:g}))},[]),s=Ew(i),l=P.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return h.jsx(Aj.Provider,{value:l,children:e})}function CD(){const e=P.useContext(Aj);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const ED=e=>!!e.panZoom;function ja(){const e=xD(),t=ut(),n=CD(),r=Be(ED),i=P.useMemo(()=>{const s=m=>t.getState().nodeLookup.get(m),l=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},c=m=>{const{nodeLookup:g,nodeOrigin:v}=t.getState(),b=Cw(m)?m:g.get(m.id),w=b.parentId?tj(b.position,b.measured,b.parentId,g,v):b.position,k={...b,position:w,width:b.measured?.width??b.width,height:b.measured?.height??b.height};return Gi(k)},f=(m,g,v={replace:!1})=>{l(b=>b.map(w=>{if(w.id===m){const k=typeof g=="function"?g(w):g;return v.replace&&Cw(k)?k:{...w,...k}}return w}))},p=(m,g,v={replace:!1})=>{u(b=>b.map(w=>{if(w.id===m){const k=typeof g=="function"?g(w):g;return v.replace&&wD(k)?k:{...w,...k}}return w}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>s(m)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:l,setEdges:u,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(v=>[...v,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(v=>[...v,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:v}=t.getState(),[b,w,k]=v;return{nodes:m.map(_=>({..._})),edges:g.map(_=>({..._})),viewport:{x:b,y:w,zoom:k}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:v,edges:b,onNodesDelete:w,onEdgesDelete:k,triggerNodeChanges:_,triggerEdgeChanges:C,onDelete:S,onBeforeDelete:j}=t.getState(),{nodes:A,edges:T}=await XO({nodesToRemove:m,edgesToRemove:g,nodes:v,edges:b,onBeforeDelete:j}),N=T.length>0,D=A.length>0;if(N){const z=T.map(Sw);k?.(T),C(z)}if(D){const z=A.map(Sw);w?.(A),_(z)}return(D||N)&&S?.({nodes:A,edges:T}),{deletedNodes:A,deletedEdges:T}},getIntersectingNodes:(m,g=!0,v)=>{const b=Qb(m),w=b?m:c(m),k=v!==void 0;return w?(v||t.getState().nodes).filter(_=>{const C=t.getState().nodeLookup.get(_.id);if(C&&!b&&(_.id===m.id||!C.internals.positionAbsolute))return!1;const S=Gi(k?_:C),j=ma(S,w);return g&&j>0||j>=S.width*S.height||j>=w.width*w.height}):[]},isNodeIntersecting:(m,g,v=!0)=>{const w=Qb(m)?m:c(m);if(!w)return!1;const k=ma(w,g);return v&&k>0||k>=g.width*g.height||k>=w.width*w.height},updateNode:f,updateNodeData:(m,g,v={replace:!1})=>{f(m,b=>{const w=typeof g=="function"?g(b):g;return v.replace?{...b,data:w}:{...b,data:{...b.data,...w}}},v)},updateEdge:p,updateEdgeData:(m,g,v={replace:!1})=>{p(m,b=>{const w=typeof g=="function"?g(b):g;return v.replace?{...b,data:w}:{...b,data:{...b.data,...w}}},v)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:v}=t.getState();return GO(m,{nodeLookup:g,nodeOrigin:v})},getHandleConnections:({type:m,id:g,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}-${m}${g?`-${g}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:g,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}${m?g?`-${m}-${g}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const g=t.getState().fitViewResolver??eL();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(v=>[...v]),g.promise}}},[]);return P.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Nw=e=>e.selected,ND=typeof window<"u"?window:void 0;function jD({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ut(),{deleteElements:r}=ja(),i=ya(e,{actInsideInputWithModifier:!1}),s=ya(t,{target:ND});P.useEffect(()=>{if(i){const{edges:l,nodes:u}=n.getState();r({nodes:u.filter(Nw),edges:l.filter(Nw)}),n.setState({nodesSelectionActive:!1})}},[i]),P.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function TD(e){const t=ut();P.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=vv(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Qn.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const zu={position:"absolute",width:"100%",height:"100%",top:0,left:0},AD=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function PD({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Bo.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:c,translateExtent:f,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:v=!0,children:b,noWheelClassName:w,noPanClassName:k,onViewportChange:_,isControlledViewport:C,paneClickDistance:S,selectionOnDrag:j}){const A=ut(),T=P.useRef(null),{userSelectionActive:N,lib:D,connectionInProgress:z}=Be(AD,ot),$=ya(g),O=P.useRef();TD(T);const B=P.useCallback(G=>{_?.({x:G[0],y:G[1],zoom:G[2]}),C||A.setState({transform:G})},[_,C]);return P.useEffect(()=>{if(T.current){O.current=DL({domNode:T.current,minZoom:p,maxZoom:m,translateExtent:f,viewport:c,onDraggingChange:V=>A.setState({paneDragging:V}),onPanZoomStart:(V,Y)=>{const{onViewportChangeStart:H,onMoveStart:X}=A.getState();X?.(V,Y),H?.(Y)},onPanZoom:(V,Y)=>{const{onViewportChange:H,onMove:X}=A.getState();X?.(V,Y),H?.(Y)},onPanZoomEnd:(V,Y)=>{const{onViewportChangeEnd:H,onMoveEnd:X}=A.getState();X?.(V,Y),H?.(Y)}});const{x:G,y:R,zoom:q}=O.current.getViewport();return A.setState({panZoom:O.current,transform:[G,R,q],domNode:T.current.closest(".react-flow")}),()=>{O.current?.destroy()}}},[]),P.useEffect(()=>{O.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:$,preventScrolling:v,noPanClassName:k,userSelectionActive:N,noWheelClassName:w,lib:D,onTransformChange:B,connectionInProgress:z,selectionOnDrag:j,paneClickDistance:S})},[e,t,n,r,i,s,l,u,$,v,k,N,w,D,B,z,j,S]),h.jsx("div",{className:"react-flow__renderer",ref:T,style:zu,children:b})}const ID=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function RD(){const{userSelectionActive:e,userSelectionRect:t}=Be(ID,ot);return e&&t?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ef=(e,t)=>n=>{n.target===t.current&&e?.(n)},MD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function OD({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ha.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:u,onPaneClick:c,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:v,children:b}){const w=ut(),{userSelectionActive:k,elementsSelectable:_,dragging:C,connectionInProgress:S}=Be(MD,ot),j=_&&(e||k),A=P.useRef(null),T=P.useRef(),N=P.useRef(new Set),D=P.useRef(new Set),z=P.useRef(!1),$=H=>{if(z.current||S){z.current=!1;return}c?.(H),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},O=H=>{if(Array.isArray(r)&&r?.includes(2)){H.preventDefault();return}f?.(H)},B=p?H=>p(H):void 0,G=H=>{z.current&&(H.stopPropagation(),z.current=!1)},R=H=>{const{domNode:X}=w.getState();if(T.current=X?.getBoundingClientRect(),!T.current)return;const I=H.target===A.current;if(!I&&!!H.target.closest(".nokey")||!e||!(s&&I||t)||H.button!==0||!H.isPrimary)return;H.target?.setPointerCapture?.(H.pointerId),z.current=!1;const{x:L,y:U}=Dn(H.nativeEvent,T.current);w.setState({userSelectionRect:{width:0,height:0,startX:L,startY:U,x:L,y:U}}),I||(H.stopPropagation(),H.preventDefault())},q=H=>{const{userSelectionRect:X,transform:I,nodeLookup:F,edgeLookup:K,connectionLookup:L,triggerNodeChanges:U,triggerEdgeChanges:ee,defaultEdgeOptions:J,resetSelectedElements:Q}=w.getState();if(!T.current||!X)return;const{x:ne,y:ae}=Dn(H.nativeEvent,T.current),{startX:fe,startY:ve}=X;if(!z.current){const Le=t?0:i;if(Math.hypot(ne-fe,ae-ve)<=Le)return;Q(),l?.(H)}z.current=!0;const Ce={startX:fe,startY:ve,x:ne<fe?ne:fe,y:ae<ve?ae:ve,width:Math.abs(ne-fe),height:Math.abs(ae-ve)},xe=N.current,Ae=D.current;N.current=new Set(gv(F,Ce,I,n===ha.Partial,!0).map(Le=>Le.id)),D.current=new Set;const we=J?.selectable??!0;for(const Le of N.current){const Ne=L.get(Le);if(Ne)for(const{edgeId:it}of Ne.values()){const We=K.get(it);We&&(We.selectable??we)&&D.current.add(it)}}if(!Zb(xe,N.current)){const Le=Li(F,N.current,!0);U(Le)}if(!Zb(Ae,D.current)){const Le=Li(K,D.current);ee(Le)}w.setState({userSelectionRect:Ce,userSelectionActive:!0,nodesSelectionActive:!1})},V=H=>{H.button===0&&(H.target?.releasePointerCapture?.(H.pointerId),!k&&H.target===A.current&&w.getState().userSelectionRect&&$?.(H),w.setState({userSelectionActive:!1,userSelectionRect:null}),z.current&&(u?.(H),w.setState({nodesSelectionActive:N.current.size>0})))},Y=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:_t(["react-flow__pane",{draggable:Y,dragging:C,selection:e}]),onClick:j?void 0:ef($,A),onContextMenu:ef(O,A),onWheel:ef(B,A),onPointerEnter:j?void 0:m,onPointerMove:j?q:g,onPointerUp:j?V:void 0,onPointerDownCapture:j?R:void 0,onClickCapture:j?G:void 0,onPointerLeave:v,ref:A,style:zu,children:[b,h.jsx(RD,{})]})}function Ky({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:u,onError:c}=t.getState(),f=u.get(e);if(!f){c?.("012",Qn.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function Pj({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:l}){const u=ut(),[c,f]=P.useState(!1),p=P.useRef();return P.useEffect(()=>{p.current=kL({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{Ky({id:m,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),P.useEffect(()=>{if(t)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{p.current?.destroy()}},[n,r,t,s,e,i]),c}const LD=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Ij(){const e=ut();return P.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:l,onError:u,updateNodePositions:c,nodeLookup:f,nodeOrigin:p}=e.getState(),m=new Map,g=LD(l),v=i?s[0]:5,b=i?s[1]:5,w=n.direction.x*v*n.factor,k=n.direction.y*b*n.factor;for(const[,_]of f){if(!g(_))continue;let C={x:_.internals.positionAbsolute.x+w,y:_.internals.positionAbsolute.y+k};i&&(C=Ea(C,s));const{position:S,positionAbsolute:j}=XN({nodeId:_.id,nextPosition:C,nodeLookup:f,nodeExtent:r,nodeOrigin:p,onError:u});_.position=S,_.internals.positionAbsolute=j,m.set(_.id,_)}c(m)},[])}const Cv=P.createContext(null),DD=Cv.Provider;Cv.Consumer;const Rj=()=>P.useContext(Cv),qD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),zD=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:l}=r,{fromHandle:u,toHandle:c,isValid:f}=l,p=c?.nodeId===e&&c?.id===t&&c?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:p,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:s===Vi.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!i,valid:p&&f}};function FD({type:e="source",position:t=Se.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:u,children:c,className:f,onMouseDown:p,onTouchStart:m,...g},v){const b=l||null,w=e==="target",k=ut(),_=Rj(),{connectOnClick:C,noPanClassName:S,rfId:j}=Be(qD,ot),{connectingFrom:A,connectingTo:T,clickConnecting:N,isPossibleEndHandle:D,connectionInProcess:z,clickConnectionInProcess:$,valid:O}=Be(zD(_,b,e),ot);_||k.getState().onError?.("010",Qn.error010());const B=q=>{const{defaultEdgeOptions:V,onConnect:Y,hasDefaultEdges:H}=k.getState(),X={...V,...q};if(H){const{edges:I,setEdges:F}=k.getState();F(aL(X,I))}Y?.(X),u?.(X)},G=q=>{if(!_)return;const V=oj(q.nativeEvent);if(i&&(V&&q.button===0||!V)){const Y=k.getState();Wy.onPointerDown(q.nativeEvent,{handleDomNode:q.currentTarget,autoPanOnConnect:Y.autoPanOnConnect,connectionMode:Y.connectionMode,connectionRadius:Y.connectionRadius,domNode:Y.domNode,nodeLookup:Y.nodeLookup,lib:Y.lib,isTarget:w,handleId:b,nodeId:_,flowId:Y.rfId,panBy:Y.panBy,cancelConnection:Y.cancelConnection,onConnectStart:Y.onConnectStart,onConnectEnd:Y.onConnectEnd,updateConnection:Y.updateConnection,onConnect:B,isValidConnection:n||Y.isValidConnection,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,autoPanSpeed:Y.autoPanSpeed,dragThreshold:Y.connectionDragThreshold})}V?p?.(q):m?.(q)},R=q=>{const{onClickConnectStart:V,onClickConnectEnd:Y,connectionClickStartHandle:H,connectionMode:X,isValidConnection:I,lib:F,rfId:K,nodeLookup:L,connection:U}=k.getState();if(!_||!H&&!i)return;if(!H){V?.(q.nativeEvent,{nodeId:_,handleId:b,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:_,type:e,id:b}});return}const ee=nj(q.target),J=n||I,{connection:Q,isValid:ne}=Wy.isValid(q.nativeEvent,{handle:{nodeId:_,id:b,type:e},connectionMode:X,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:J,flowId:K,doc:ee,lib:F,nodeLookup:L});ne&&Q&&B(Q);const ae=structuredClone(U);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,Y?.(q,ae),k.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":b,"data-nodeid":_,"data-handlepos":t,"data-id":`${j}-${_}-${b}-${e}`,className:_t(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,f,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:s,clickconnecting:N,connectingfrom:A,connectingto:T,valid:O,connectionindicator:r&&(!z||D)&&(z||$?s:i)}]),onMouseDown:G,onTouchStart:G,onClick:C?R:void 0,ref:v,...g,children:c})}const Zt=P.memo(Tj(FD));function BD({data:e,isConnectable:t,sourcePosition:n=Se.Bottom}){return h.jsxs(h.Fragment,{children:[e?.label,h.jsx(Zt,{type:"source",position:n,isConnectable:t})]})}function $D({data:e,isConnectable:t,targetPosition:n=Se.Top,sourcePosition:r=Se.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(Zt,{type:"target",position:n,isConnectable:t}),e?.label,h.jsx(Zt,{type:"source",position:r,isConnectable:t})]})}function HD(){return null}function VD({data:e,isConnectable:t,targetPosition:n=Se.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(Zt,{type:"target",position:n,isConnectable:t}),e?.label]})}const _u={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},jw={input:BD,default:$D,output:VD,group:HD};function UD(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const GD=e=>{const{width:t,height:n,x:r,y:i}=Ca(e.nodeLookup,{filter:s=>!!s.selected});return{width:Ln(t)?t:null,height:Ln(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function WD({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ut(),{width:i,height:s,transformString:l,userSelectionActive:u}=Be(GD,ot),c=Ij(),f=P.useRef(null);if(P.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),Pj({nodeRef:f}),u||!i||!s)return null;const p=e?g=>{const v=r.getState().nodes.filter(b=>b.selected);e(g,v)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(_u,g.key)&&(g.preventDefault(),c({direction:_u[g.key],factor:g.shiftKey?4:1}))};return h.jsx("div",{className:_t(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:h.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:s}})})}const Tw=typeof window<"u"?window:void 0,KD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Mj({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:c,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:b,panActivationKeyCode:w,zoomActivationKeyCode:k,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:j,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:N,panOnDrag:D,defaultViewport:z,translateExtent:$,minZoom:O,maxZoom:B,preventScrolling:G,onSelectionContextMenu:R,noWheelClassName:q,noPanClassName:V,disableKeyboardA11y:Y,onViewportChange:H,isControlledViewport:X}){const{nodesSelectionActive:I,userSelectionActive:F}=Be(KD,ot),K=ya(f,{target:Tw}),L=ya(w,{target:Tw}),U=L||D,ee=L||j,J=p&&U!==!0,Q=K||F||J;return jD({deleteKeyCode:c,multiSelectionKeyCode:b}),h.jsx(PD,{onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:S,panOnScroll:ee,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:N,panOnDrag:!K&&U,defaultViewport:z,translateExtent:$,minZoom:O,maxZoom:B,zoomActivationKeyCode:k,preventScrolling:G,noWheelClassName:q,noPanClassName:V,onViewportChange:H,isControlledViewport:X,paneClickDistance:u,selectionOnDrag:J,children:h.jsxs(OD,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:U,isSelecting:!!Q,selectionMode:m,selectionKeyPressed:K,paneClickDistance:u,selectionOnDrag:J,children:[e,I&&h.jsx(WD,{onSelectionContextMenu:R,noPanClassName:V,disableKeyboardA11y:Y})]})})}Mj.displayName="FlowRenderer";const YD=P.memo(Mj),XD=e=>t=>e?gv(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function QD(e){return Be(P.useCallback(XD(e),[e]),ot)}const ZD=e=>e.updateNodeInternals;function JD(){const e=Be(ZD),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),e(r)}));return P.useEffect(()=>()=>{t?.disconnect()},[t]),t}function e3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=ut(),s=P.useRef(null),l=P.useRef(null),u=P.useRef(e.sourcePosition),c=P.useRef(e.targetPosition),f=P.useRef(t),p=n&&!!e.internals.handleBounds;return P.useEffect(()=>{s.current&&!e.hidden&&(!p||l.current!==s.current)&&(l.current&&r?.unobserve(l.current),r?.observe(s.current),l.current=s.current)},[p,e.hidden]),P.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),P.useEffect(()=>{if(s.current){const m=f.current!==t,g=u.current!==e.sourcePosition,v=c.current!==e.targetPosition;(m||g||v)&&(f.current=t,u.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function t3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:l,nodesDraggable:u,elementsSelectable:c,nodesConnectable:f,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:v,disableKeyboardA11y:b,rfId:w,nodeTypes:k,nodeClickDistance:_,onError:C}){const{node:S,internals:j,isParent:A}=Be(ne=>{const ae=ne.nodeLookup.get(e),fe=ne.parentLookup.has(e);return{node:ae,internals:ae.internals,isParent:fe}},ot);let T=S.type||"default",N=k?.[T]||jw[T];N===void 0&&(C?.("003",Qn.error003(T)),T="default",N=k?.default||jw.default);const D=!!(S.draggable||u&&typeof S.draggable>"u"),z=!!(S.selectable||c&&typeof S.selectable>"u"),$=!!(S.connectable||f&&typeof S.connectable>"u"),O=!!(S.focusable||p&&typeof S.focusable>"u"),B=ut(),G=ej(S),R=e3({node:S,nodeType:T,hasDimensions:G,resizeObserver:m}),q=Pj({nodeRef:R,disabled:S.hidden||!D,noDragClassName:g,handleSelector:S.dragHandle,nodeId:e,isSelectable:z,nodeClickDistance:_}),V=Ij();if(S.hidden)return null;const Y=xr(S),H=UD(S),X=z||D||t||n||r||i,I=n?ne=>n(ne,{...j.userNode}):void 0,F=r?ne=>r(ne,{...j.userNode}):void 0,K=i?ne=>i(ne,{...j.userNode}):void 0,L=s?ne=>s(ne,{...j.userNode}):void 0,U=l?ne=>l(ne,{...j.userNode}):void 0,ee=ne=>{const{selectNodesOnDrag:ae,nodeDragThreshold:fe}=B.getState();z&&(!ae||!D||fe>0)&&Ky({id:e,store:B,nodeRef:R}),t&&t(ne,{...j.userNode})},J=ne=>{if(!(rj(ne.nativeEvent)||b)){if(UN.includes(ne.key)&&z){const ae=ne.key==="Escape";Ky({id:e,store:B,unselect:ae,nodeRef:R})}else if(D&&S.selected&&Object.prototype.hasOwnProperty.call(_u,ne.key)){ne.preventDefault();const{ariaLabelConfig:ae}=B.getState();B.setState({ariaLiveMessage:ae["node.a11yDescription.ariaLiveMessage"]({direction:ne.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),V({direction:_u[ne.key],factor:ne.shiftKey?4:1})}}},Q=()=>{if(b||!R.current?.matches(":focus-visible"))return;const{transform:ne,width:ae,height:fe,autoPanOnNodeFocus:ve,setCenter:Ce}=B.getState();if(!ve)return;gv(new Map([[e,S]]),{x:0,y:0,width:ae,height:fe},ne,!0).length>0||Ce(S.position.x+Y.width/2,S.position.y+Y.height/2,{zoom:ne[2]})};return h.jsx("div",{className:_t(["react-flow__node",`react-flow__node-${T}`,{[v]:D},S.className,{selected:S.selected,selectable:z,parent:A,draggable:D,dragging:q}]),ref:R,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:G?"visible":"hidden",...S.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:I,onMouseMove:F,onMouseLeave:K,onContextMenu:L,onClick:ee,onDoubleClick:U,onKeyDown:O?J:void 0,tabIndex:O?0:void 0,onFocus:O?Q:void 0,role:S.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${kj}-${w}`,"aria-label":S.ariaLabel,...S.domAttributes,children:h.jsx(DD,{value:e,children:h.jsx(N,{id:e,data:S.data,type:T,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:S.selected??!1,selectable:z,draggable:D,deletable:S.deletable??!0,isConnectable:$,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:q,dragHandle:S.dragHandle,zIndex:j.z,parentId:S.parentId,...Y})})})}var n3=P.memo(t3);const r3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Oj(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Be(r3,ot),l=QD(e.onlyRenderVisibleElements),u=JD();return h.jsx("div",{className:"react-flow__nodes",style:zu,children:l.map(c=>h.jsx(n3,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}Oj.displayName="NodeRenderer";const o3=P.memo(Oj);function i3(e){return Be(P.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);s&&l&&oL({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),ot)}const s3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},a3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Aw={[vu.Arrow]:s3,[vu.ArrowClosed]:a3};function l3(e){const t=ut();return P.useMemo(()=>Object.prototype.hasOwnProperty.call(Aw,e)?Aw[e]:(t.getState().onError?.("009",Qn.error009(e)),null),[e])}const u3=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const c=l3(t);return c?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0",children:h.jsx(c,{color:n,strokeWidth:l})}):null},Lj=({defaultColor:e,rfId:t})=>{const n=Be(s=>s.edges),r=Be(s=>s.defaultEdgeOptions),i=P.useMemo(()=>fL(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return i.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:i.map(s=>h.jsx(u3,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Lj.displayName="MarkerDefinitions";var c3=P.memo(Lj);function Dj({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:c,className:f,...p}){const[m,g]=P.useState({x:1,y:0,width:0,height:0}),v=_t(["react-flow__edge-textwrapper",f]),b=P.useRef(null);return P.useEffect(()=>{if(b.current){const w=b.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?h.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...p,children:[i&&h.jsx("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),h.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:b,style:r,children:n}),c]}):null}Dj.displayName="EdgeText";const d3=P.memo(Dj);function Fu({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:c,interactionWidth:f=20,...p}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...p,d:e,fill:"none",className:_t(["react-flow__edge-path",p.className])}),f?h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Ln(t)&&Ln(n)?h.jsx(d3,{x:t,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:c}):null]})}function Pw({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Se.Left||e===Se.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function qj({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:i,targetPosition:s=Se.Top}){const[l,u]=Pw({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,f]=Pw({pos:s,x1:r,y1:i,x2:e,y2:t}),[p,m,g,v]=ij({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${e},${t} C${l},${u} ${c},${f} ${r},${i}`,p,m,g,v]}function zj(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:u,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:k,interactionWidth:_})=>{const[C,S,j]=qj({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:u}),A=e.isInternal?void 0:t;return h.jsx(Fu,{id:A,path:C,labelX:S,labelY:j,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:k,interactionWidth:_})})}const f3=zj({isInternal:!1}),Fj=zj({isInternal:!0});f3.displayName="SimpleBezierEdge";Fj.displayName="SimpleBezierEdgeInternal";function Bj(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:v=Se.Bottom,targetPosition:b=Se.Top,markerEnd:w,markerStart:k,pathOptions:_,interactionWidth:C})=>{const[S,j,A]=wu({sourceX:n,sourceY:r,sourcePosition:v,targetX:i,targetY:s,targetPosition:b,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),T=e.isInternal?void 0:t;return h.jsx(Fu,{id:T,path:S,labelX:j,labelY:A,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:w,markerStart:k,interactionWidth:C})})}const $j=Bj({isInternal:!1}),Hj=Bj({isInternal:!0});$j.displayName="SmoothStepEdge";Hj.displayName="SmoothStepEdgeInternal";function Vj(e){return P.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return h.jsx($j,{...n,id:r,pathOptions:P.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const p3=Vj({isInternal:!1}),Uj=Vj({isInternal:!0});p3.displayName="StepEdge";Uj.displayName="StepEdgeInternal";function Gj(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:b,interactionWidth:w})=>{const[k,_,C]=aj({sourceX:n,sourceY:r,targetX:i,targetY:s}),S=e.isInternal?void 0:t;return h.jsx(Fu,{id:S,path:k,labelX:_,labelY:C,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:b,interactionWidth:w})})}const h3=Gj({isInternal:!1}),Wj=Gj({isInternal:!0});h3.displayName="StraightEdge";Wj.displayName="StraightEdgeInternal";function Kj(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l=Se.Bottom,targetPosition:u=Se.Top,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:k,pathOptions:_,interactionWidth:C})=>{const[S,j,A]=xv({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:u,curvature:_?.curvature}),T=e.isInternal?void 0:t;return h.jsx(Fu,{id:T,path:S,labelX:j,labelY:A,label:c,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:k,interactionWidth:C})})}const m3=Kj({isInternal:!1}),Yj=Kj({isInternal:!0});m3.displayName="BezierEdge";Yj.displayName="BezierEdgeInternal";const Iw={default:Yj,straight:Wj,step:Uj,smoothstep:Hj,simplebezier:Fj},Rw={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},g3=(e,t,n)=>n===Se.Left?e-t:n===Se.Right?e+t:e,y3=(e,t,n)=>n===Se.Top?e-t:n===Se.Bottom?e+t:e,Mw="react-flow__edgeupdater";function Ow({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:u}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:_t([Mw,`${Mw}-${u}`]),cx:g3(t,r,e),cy:y3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function v3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:l,sourcePosition:u,targetPosition:c,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:v}){const b=ut(),w=(j,A)=>{if(j.button!==0)return;const{autoPanOnConnect:T,domNode:N,isValidConnection:D,connectionMode:z,connectionRadius:$,lib:O,onConnectStart:B,onConnectEnd:G,cancelConnection:R,nodeLookup:q,rfId:V,panBy:Y,updateConnection:H}=b.getState(),X=A.type==="target",I=(L,U)=>{g(!1),m?.(L,n,A.type,U)},F=L=>f?.(n,L),K=(L,U)=>{g(!0),p?.(j,n,A.type),B?.(L,U)};Wy.onPointerDown(j.nativeEvent,{autoPanOnConnect:T,connectionMode:z,connectionRadius:$,domNode:N,handleId:A.id,nodeId:A.nodeId,nodeLookup:q,isTarget:X,edgeUpdaterType:A.type,lib:O,flowId:V,cancelConnection:R,panBy:Y,isValidConnection:D,onConnect:F,onConnectStart:K,onConnectEnd:G,onReconnectEnd:I,updateConnection:H,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,dragThreshold:b.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},k=j=>w(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=j=>w(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>v(!0),S=()=>v(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(Ow,{position:u,centerX:r,centerY:i,radius:t,onMouseDown:k,onMouseEnter:C,onMouseOut:S,type:"source"}),(e===!0||e==="target")&&h.jsx(Ow,{position:c,centerX:s,centerY:l,radius:t,onMouseDown:_,onMouseEnter:C,onMouseOut:S,type:"target"})]})}function x3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:l,onMouseEnter:u,onMouseMove:c,onMouseLeave:f,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:b,edgeTypes:w,noPanClassName:k,onError:_,disableKeyboardA11y:C}){let S=Be(Ce=>Ce.edgeLookup.get(e));const j=Be(Ce=>Ce.defaultEdgeOptions);S=j?{...j,...S}:S;let A=S.type||"default",T=w?.[A]||Iw[A];T===void 0&&(_?.("011",Qn.error011(A)),A="default",T=w?.default||Iw.default);const N=!!(S.focusable||t&&typeof S.focusable>"u"),D=typeof m<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),z=!!(S.selectable||r&&typeof S.selectable>"u"),$=P.useRef(null),[O,B]=P.useState(!1),[G,R]=P.useState(!1),q=ut(),{zIndex:V,sourceX:Y,sourceY:H,targetX:X,targetY:I,sourcePosition:F,targetPosition:K}=Be(P.useCallback(Ce=>{const xe=Ce.nodeLookup.get(S.source),Ae=Ce.nodeLookup.get(S.target);if(!xe||!Ae)return{zIndex:S.zIndex,...Rw};const we=dL({id:e,sourceNode:xe,targetNode:Ae,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:Ce.connectionMode,onError:_});return{zIndex:rL({selected:S.selected,zIndex:S.zIndex,sourceNode:xe,targetNode:Ae,elevateOnSelect:Ce.elevateEdgesOnSelect,zIndexMode:Ce.zIndexMode}),...we||Rw}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),ot),L=P.useMemo(()=>S.markerStart?`url('#${Uy(S.markerStart,b)}')`:void 0,[S.markerStart,b]),U=P.useMemo(()=>S.markerEnd?`url('#${Uy(S.markerEnd,b)}')`:void 0,[S.markerEnd,b]);if(S.hidden||Y===null||H===null||X===null||I===null)return null;const ee=Ce=>{const{addSelectedEdges:xe,unselectNodesAndEdges:Ae,multiSelectionActive:we}=q.getState();z&&(q.setState({nodesSelectionActive:!1}),S.selected&&we?(Ae({nodes:[],edges:[S]}),$.current?.blur()):xe([e])),i&&i(Ce,S)},J=s?Ce=>{s(Ce,{...S})}:void 0,Q=l?Ce=>{l(Ce,{...S})}:void 0,ne=u?Ce=>{u(Ce,{...S})}:void 0,ae=c?Ce=>{c(Ce,{...S})}:void 0,fe=f?Ce=>{f(Ce,{...S})}:void 0,ve=Ce=>{if(!C&&UN.includes(Ce.key)&&z){const{unselectNodesAndEdges:xe,addSelectedEdges:Ae}=q.getState();Ce.key==="Escape"?($.current?.blur(),xe({edges:[S]})):Ae([e])}};return h.jsx("svg",{style:{zIndex:V},children:h.jsxs("g",{className:_t(["react-flow__edge",`react-flow__edge-${A}`,S.className,k,{selected:S.selected,animated:S.animated,inactive:!z&&!i,updating:O,selectable:z}]),onClick:ee,onDoubleClick:J,onContextMenu:Q,onMouseEnter:ne,onMouseMove:ae,onMouseLeave:fe,onKeyDown:N?ve:void 0,tabIndex:N?0:void 0,role:S.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":N?`${Sj}-${b}`:void 0,ref:$,...S.domAttributes,children:[!G&&h.jsx(T,{id:e,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:z,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:Y,sourceY:H,targetX:X,targetY:I,sourcePosition:F,targetPosition:K,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:L,markerEnd:U,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),D&&h.jsx(v3,{edge:S,isReconnectable:D,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:Y,sourceY:H,targetX:X,targetY:I,sourcePosition:F,targetPosition:K,setUpdateHover:B,setReconnecting:R})]})})}var b3=P.memo(x3);const w3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Xj({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:v,onReconnectEnd:b,disableKeyboardA11y:w}){const{edgesFocusable:k,edgesReconnectable:_,elementsSelectable:C,onError:S}=Be(w3,ot),j=i3(t);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(c3,{defaultColor:e,rfId:n}),j.map(A=>h.jsx(b3,{id:A,edgesFocusable:k,edgesReconnectable:_,elementsSelectable:C,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:u,onMouseMove:c,onMouseLeave:f,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:v,onReconnectEnd:b,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:w},A))]})}Xj.displayName="EdgeRenderer";const _3=P.memo(Xj),k3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function S3({children:e}){const t=Be(k3);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function C3(e){const t=ja(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const E3=e=>e.panZoom?.syncViewport;function N3(e){const t=Be(E3),n=ut();return P.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function j3(e){return e.connection.inProgress?{...e.connection,to:Na(e.connection.to,e.transform)}:{...e.connection}}function T3(e){return j3}function A3(e){const t=T3();return Be(t,ot)}const P3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function I3({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:s,height:l,isValid:u,inProgress:c}=Be(P3,ot);return!(s&&i&&c)?null:h.jsx("svg",{style:e,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:_t(["react-flow__connection",KN(u)]),children:h.jsx(Qj,{style:t,type:n,CustomComponent:r,isValid:u})})})}const Qj=({style:e,type:t=eo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:l,fromHandle:u,fromPosition:c,to:f,toNode:p,toHandle:m,toPosition:g,pointer:v}=A3();if(!i)return;if(n)return h.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:c,toPosition:g,connectionStatus:KN(r),toNode:p,toHandle:m,pointer:v});let b="";const w={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case eo.Bezier:[b]=xv(w);break;case eo.SimpleBezier:[b]=qj(w);break;case eo.Step:[b]=wu({...w,borderRadius:0});break;case eo.SmoothStep:[b]=wu(w);break;default:[b]=aj(w)}return h.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};Qj.displayName="ConnectionLine";const R3={};function Lw(e=R3){P.useRef(e),ut(),P.useEffect(()=>{},[e])}function M3(){ut(),P.useRef(!1),P.useEffect(()=>{},[])}function Zj({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:v,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:k,connectionLineContainerStyle:_,selectionKeyCode:C,selectionOnDrag:S,selectionMode:j,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:N,deleteKeyCode:D,onlyRenderVisibleElements:z,elementsSelectable:$,defaultViewport:O,translateExtent:B,minZoom:G,maxZoom:R,preventScrolling:q,defaultMarkerColor:V,zoomOnScroll:Y,zoomOnPinch:H,panOnScroll:X,panOnScrollSpeed:I,panOnScrollMode:F,zoomOnDoubleClick:K,panOnDrag:L,onPaneClick:U,onPaneMouseEnter:ee,onPaneMouseMove:J,onPaneMouseLeave:Q,onPaneScroll:ne,onPaneContextMenu:ae,paneClickDistance:fe,nodeClickDistance:ve,onEdgeContextMenu:Ce,onEdgeMouseEnter:xe,onEdgeMouseMove:Ae,onEdgeMouseLeave:we,reconnectRadius:Le,onReconnect:Ne,onReconnectStart:it,onReconnectEnd:We,noDragClassName:dt,noWheelClassName:Fe,noPanClassName:st,disableKeyboardA11y:He,nodeExtent:gt,rfId:ye,viewport:ie,onViewportChange:de}){return Lw(e),Lw(t),M3(),C3(n),N3(ie),h.jsx(YD,{onPaneClick:U,onPaneMouseEnter:ee,onPaneMouseMove:J,onPaneMouseLeave:Q,onPaneContextMenu:ae,onPaneScroll:ne,paneClickDistance:fe,deleteKeyCode:D,selectionKeyCode:C,selectionOnDrag:S,selectionMode:j,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:N,elementsSelectable:$,zoomOnScroll:Y,zoomOnPinch:H,zoomOnDoubleClick:K,panOnScroll:X,panOnScrollSpeed:I,panOnScrollMode:F,panOnDrag:L,defaultViewport:O,translateExtent:B,minZoom:G,maxZoom:R,onSelectionContextMenu:m,preventScrolling:q,noDragClassName:dt,noWheelClassName:Fe,noPanClassName:st,disableKeyboardA11y:He,onViewportChange:de,isControlledViewport:!!ie,children:h.jsxs(S3,{children:[h.jsx(_3,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:Ne,onReconnectStart:it,onReconnectEnd:We,onlyRenderVisibleElements:z,onEdgeContextMenu:Ce,onEdgeMouseEnter:xe,onEdgeMouseMove:Ae,onEdgeMouseLeave:we,reconnectRadius:Le,defaultMarkerColor:V,noPanClassName:st,disableKeyboardA11y:He,rfId:ye}),h.jsx(I3,{style:w,type:b,component:k,containerStyle:_}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(o3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:f,onNodeContextMenu:p,nodeClickDistance:ve,onlyRenderVisibleElements:z,noPanClassName:st,noDragClassName:dt,disableKeyboardA11y:He,nodeExtent:gt,rfId:ye}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}Zj.displayName="GraphView";const O3=P.memo(Zj),Dw=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:u,minZoom:c=.5,maxZoom:f=2,nodeOrigin:p,nodeExtent:m,zIndexMode:g="basic"}={})=>{const v=new Map,b=new Map,w=new Map,k=new Map,_=r??t??[],C=n??e??[],S=p??[0,0],j=m??pa;cj(w,k,_);const A=Gy(C,v,b,{nodeOrigin:S,nodeExtent:j,zIndexMode:g});let T=[0,0,1];if(l&&i&&s){const N=Ca(v,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:D,y:z,zoom:$}=yv(N,i,s,c,f,u?.padding??.1);T=[D,z,$]}return{rfId:"1",width:i??0,height:s??0,transform:T,nodes:C,nodesInitialized:A,nodeLookup:v,parentLookup:b,edges:_,edgeLookup:k,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:f,translateExtent:pa,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Vi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...WN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:QO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:GN,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},L3=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:u,minZoom:c,maxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g})=>JL((v,b)=>{async function w(){const{nodeLookup:k,panZoom:_,fitViewOptions:C,fitViewResolver:S,width:j,height:A,minZoom:T,maxZoom:N}=b();_&&(await YO({nodes:k,width:j,height:A,panZoom:_,minZoom:T,maxZoom:N},C),S?.resolve(!0),v({fitViewResolver:null}))}return{...Dw({nodes:e,edges:t,width:i,height:s,fitView:l,fitViewOptions:u,minZoom:c,maxZoom:f,nodeOrigin:p,nodeExtent:m,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:k=>{const{nodeLookup:_,parentLookup:C,nodeOrigin:S,elevateNodesOnSelect:j,fitViewQueued:A,zIndexMode:T}=b(),N=Gy(k,_,C,{nodeOrigin:S,nodeExtent:m,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:T});A&&N?(w(),v({nodes:k,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:k,nodesInitialized:N})},setEdges:k=>{const{connectionLookup:_,edgeLookup:C}=b();cj(_,C,k),v({edges:k})},setDefaultNodesAndEdges:(k,_)=>{if(k){const{setNodes:C}=b();C(k),v({hasDefaultNodes:!0})}if(_){const{setEdges:C}=b();C(_),v({hasDefaultEdges:!0})}},updateNodeInternals:k=>{const{triggerNodeChanges:_,nodeLookup:C,parentLookup:S,domNode:j,nodeOrigin:A,nodeExtent:T,debug:N,fitViewQueued:D,zIndexMode:z}=b(),{changes:$,updatedInternals:O}=xL(k,C,S,j,A,T,z);O&&(mL(C,S,{nodeOrigin:A,nodeExtent:T,zIndexMode:z}),D?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),$?.length>0&&(N&&console.log("React Flow: trigger node changes",$),_?.($)))},updateNodePositions:(k,_=!1)=>{const C=[];let S=[];const{nodeLookup:j,triggerNodeChanges:A,connection:T,updateConnection:N,onNodesChangeMiddlewareMap:D}=b();for(const[z,$]of k){const O=j.get(z),B=!!(O?.expandParent&&O?.parentId&&$?.position),G={id:z,type:"position",position:B?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:_};if(O&&T.inProgress&&T.fromNode.id===O.id){const R=Uo(O,T.fromHandle,Se.Left,!0);N({...T,from:R})}B&&O.parentId&&C.push({id:z,parentId:O.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),S.push(G)}if(C.length>0){const{parentLookup:z,nodeOrigin:$}=b(),O=Sv(C,j,z,$);S.push(...O)}for(const z of D.values())S=z(S);A(S)},triggerNodeChanges:k=>{const{onNodesChange:_,setNodes:C,nodes:S,hasDefaultNodes:j,debug:A}=b();if(k?.length){if(j){const T=Nj(k,S);C(T)}A&&console.log("React Flow: trigger node changes",k),_?.(k)}},triggerEdgeChanges:k=>{const{onEdgesChange:_,setEdges:C,edges:S,hasDefaultEdges:j,debug:A}=b();if(k?.length){if(j){const T=jj(k,S);C(T)}A&&console.log("React Flow: trigger edge changes",k),_?.(k)}},addSelectedNodes:k=>{const{multiSelectionActive:_,edgeLookup:C,nodeLookup:S,triggerNodeChanges:j,triggerEdgeChanges:A}=b();if(_){const T=k.map(N=>qo(N,!0));j(T);return}j(Li(S,new Set([...k]),!0)),A(Li(C))},addSelectedEdges:k=>{const{multiSelectionActive:_,edgeLookup:C,nodeLookup:S,triggerNodeChanges:j,triggerEdgeChanges:A}=b();if(_){const T=k.map(N=>qo(N,!0));A(T);return}A(Li(C,new Set([...k]))),j(Li(S,new Set,!0))},unselectNodesAndEdges:({nodes:k,edges:_}={})=>{const{edges:C,nodes:S,nodeLookup:j,triggerNodeChanges:A,triggerEdgeChanges:T}=b(),N=k||S,D=_||C,z=N.map(O=>{const B=j.get(O.id);return B&&(B.selected=!1),qo(O.id,!1)}),$=D.map(O=>qo(O.id,!1));A(z),T($)},setMinZoom:k=>{const{panZoom:_,maxZoom:C}=b();_?.setScaleExtent([k,C]),v({minZoom:k})},setMaxZoom:k=>{const{panZoom:_,minZoom:C}=b();_?.setScaleExtent([C,k]),v({maxZoom:k})},setTranslateExtent:k=>{b().panZoom?.setTranslateExtent(k),v({translateExtent:k})},resetSelectedElements:()=>{const{edges:k,nodes:_,triggerNodeChanges:C,triggerEdgeChanges:S,elementsSelectable:j}=b();if(!j)return;const A=_.reduce((N,D)=>D.selected?[...N,qo(D.id,!1)]:N,[]),T=k.reduce((N,D)=>D.selected?[...N,qo(D.id,!1)]:N,[]);C(A),S(T)},setNodeExtent:k=>{const{nodes:_,nodeLookup:C,parentLookup:S,nodeOrigin:j,elevateNodesOnSelect:A,nodeExtent:T,zIndexMode:N}=b();k[0][0]===T[0][0]&&k[0][1]===T[0][1]&&k[1][0]===T[1][0]&&k[1][1]===T[1][1]||(Gy(_,C,S,{nodeOrigin:j,nodeExtent:k,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:N}),v({nodeExtent:k}))},panBy:k=>{const{transform:_,width:C,height:S,panZoom:j,translateExtent:A}=b();return bL({delta:k,panZoom:j,transform:_,translateExtent:A,width:C,height:S})},setCenter:async(k,_,C)=>{const{width:S,height:j,maxZoom:A,panZoom:T}=b();if(!T)return Promise.resolve(!1);const N=typeof C?.zoom<"u"?C.zoom:A;return await T.setViewport({x:S/2-k*N,y:j/2-_*N,zoom:N},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...WN}})},updateConnection:k=>{v({connection:k})},reset:()=>v({...Dw()})}},Object.is);function Jj({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:c,fitView:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g,children:v}){const[b]=P.useState(()=>L3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:c,nodeOrigin:p,nodeExtent:m,zIndexMode:g}));return h.jsx(tD,{value:b,children:h.jsx(SD,{children:v})})}function D3({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:l,fitView:u,fitViewOptions:c,minZoom:f,maxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:v}){return P.useContext(Du)?h.jsx(h.Fragment,{children:e}):h.jsx(Jj,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:u,initialFitViewOptions:c,initialMinZoom:f,initialMaxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:v,children:e})}const q3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function z3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:l,onNodeClick:u,onEdgeClick:c,onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:v,onConnectStart:b,onConnectEnd:w,onClickConnectStart:k,onClickConnectEnd:_,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:N,onNodeDrag:D,onNodeDragStop:z,onNodesDelete:$,onEdgesDelete:O,onDelete:B,onSelectionChange:G,onSelectionDragStart:R,onSelectionDrag:q,onSelectionDragStop:V,onSelectionContextMenu:Y,onSelectionStart:H,onSelectionEnd:X,onBeforeDelete:I,connectionMode:F,connectionLineType:K=eo.Bezier,connectionLineStyle:L,connectionLineComponent:U,connectionLineContainerStyle:ee,deleteKeyCode:J="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:ne=!1,selectionMode:ae=ha.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ve=ga()?"Meta":"Control",zoomActivationKeyCode:Ce=ga()?"Meta":"Control",snapToGrid:xe,snapGrid:Ae,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:Le,nodesDraggable:Ne,autoPanOnNodeFocus:it,nodesConnectable:We,nodesFocusable:dt,nodeOrigin:Fe=Cj,edgesFocusable:st,edgesReconnectable:He,elementsSelectable:gt=!0,defaultViewport:ye=hD,minZoom:ie=.5,maxZoom:de=2,translateExtent:je=pa,preventScrolling:Re=!0,nodeExtent:De,defaultMarkerColor:ft="#b1b1b7",zoomOnScroll:Xe=!0,zoomOnPinch:et=!0,panOnScroll:Ke=!1,panOnScrollSpeed:kn=.5,panOnScrollMode:at=Bo.Free,zoomOnDoubleClick:$t=!0,panOnDrag:St=!0,onPaneClick:kr,onPaneMouseEnter:ao,onPaneMouseMove:Bn,onPaneMouseLeave:$n,onPaneScroll:Qo,onPaneContextMenu:Zo,paneClickDistance:Jo=1,nodeClickDistance:ei=0,children:ti,onReconnect:lo,onReconnectStart:ni,onReconnectEnd:nr,onEdgeContextMenu:uo,onEdgeDoubleClick:rr,onEdgeMouseEnter:os,onEdgeMouseMove:qt,onEdgeMouseLeave:or,reconnectRadius:Sr=10,onNodesChange:co,onEdgesChange:fo,noDragClassName:is="nodrag",noWheelClassName:ri="nowheel",noPanClassName:pn="nopan",fitView:po,fitViewOptions:ho,connectOnClick:ss,attributionPosition:oi,proOptions:Sn,defaultEdgeOptions:mo,elevateNodesOnSelect:Cr=!0,elevateEdgesOnSelect:ii=!1,disableKeyboardA11y:si=!1,autoPanOnConnect:Ye,autoPanOnNodeDrag:Er,autoPanSpeed:go,connectionRadius:yo,isValidConnection:Nr,onError:as,style:jr,id:ir,nodeDragThreshold:Ht,connectionDragThreshold:ls,viewport:zt,onViewportChange:us,width:cs,height:ds,colorMode:Tr="light",debug:Ar,onScroll:Cn,ariaLabelConfig:En,zIndexMode:ai="basic",...li},vo){const Nn=ir||"1",xo=vD(Tr),sr=P.useCallback(ui=>{ui.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Cn?.(ui)},[Cn]);return h.jsx("div",{"data-testid":"rf__wrapper",...li,onScroll:sr,style:{...jr,...q3},ref:vo,className:_t(["react-flow",i,xo]),id:ir,role:"application",children:h.jsxs(D3,{nodes:e,edges:t,width:cs,height:ds,fitView:po,fitViewOptions:ho,minZoom:ie,maxZoom:de,nodeOrigin:Fe,nodeExtent:De,zIndexMode:ai,children:[h.jsx(O3,{onInit:f,onNodeClick:u,onEdgeClick:c,onNodeMouseEnter:C,onNodeMouseMove:S,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:s,edgeTypes:l,connectionLineType:K,connectionLineStyle:L,connectionLineComponent:U,connectionLineContainerStyle:ee,selectionKeyCode:Q,selectionOnDrag:ne,selectionMode:ae,deleteKeyCode:J,multiSelectionKeyCode:ve,panActivationKeyCode:fe,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:we,defaultViewport:ye,translateExtent:je,minZoom:ie,maxZoom:de,preventScrolling:Re,zoomOnScroll:Xe,zoomOnPinch:et,zoomOnDoubleClick:$t,panOnScroll:Ke,panOnScrollSpeed:kn,panOnScrollMode:at,panOnDrag:St,onPaneClick:kr,onPaneMouseEnter:ao,onPaneMouseMove:Bn,onPaneMouseLeave:$n,onPaneScroll:Qo,onPaneContextMenu:Zo,paneClickDistance:Jo,nodeClickDistance:ei,onSelectionContextMenu:Y,onSelectionStart:H,onSelectionEnd:X,onReconnect:lo,onReconnectStart:ni,onReconnectEnd:nr,onEdgeContextMenu:uo,onEdgeDoubleClick:rr,onEdgeMouseEnter:os,onEdgeMouseMove:qt,onEdgeMouseLeave:or,reconnectRadius:Sr,defaultMarkerColor:ft,noDragClassName:is,noWheelClassName:ri,noPanClassName:pn,rfId:Nn,disableKeyboardA11y:si,nodeExtent:De,viewport:zt,onViewportChange:us}),h.jsx(yD,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:b,onConnectEnd:w,onClickConnectStart:k,onClickConnectEnd:_,nodesDraggable:Ne,autoPanOnNodeFocus:it,nodesConnectable:We,nodesFocusable:dt,edgesFocusable:st,edgesReconnectable:He,elementsSelectable:gt,elevateNodesOnSelect:Cr,elevateEdgesOnSelect:ii,minZoom:ie,maxZoom:de,nodeExtent:De,onNodesChange:co,onEdgesChange:fo,snapToGrid:xe,snapGrid:Ae,connectionMode:F,translateExtent:je,connectOnClick:ss,defaultEdgeOptions:mo,fitView:po,fitViewOptions:ho,onNodesDelete:$,onEdgesDelete:O,onDelete:B,onNodeDragStart:N,onNodeDrag:D,onNodeDragStop:z,onSelectionDrag:q,onSelectionDragStart:R,onSelectionDragStop:V,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:pn,nodeOrigin:Fe,rfId:Nn,autoPanOnConnect:Ye,autoPanOnNodeDrag:Er,autoPanSpeed:go,onError:as,connectionRadius:yo,isValidConnection:Nr,selectNodesOnDrag:Le,nodeDragThreshold:Ht,connectionDragThreshold:ls,onBeforeDelete:I,debug:Ar,ariaLabelConfig:En,zIndexMode:ai}),h.jsx(pD,{onSelectionChange:G}),ti,h.jsx(lD,{proOptions:Sn,position:oi}),h.jsx(aD,{rfId:Nn,disableKeyboardA11y:si})]})})}var F3=Tj(z3);const B3=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function $3({children:e}){const t=Be(B3);return t?eD.createPortal(e,t):null}const H3=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function V3(){return Be(H3,ot)}function U3(e){const[t,n]=P.useState(e),r=P.useCallback(i=>n(s=>Nj(i,s)),[]);return[t,n,r]}function G3(e){const[t,n]=P.useState(e),r=P.useCallback(i=>n(s=>jj(i,s)),[]);return[t,n,r]}function W3({dimensions:e,lineWidth:t,variant:n,className:r}){return h.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:_t(["react-flow__background-pattern",n,r])})}function K3({radius:e,className:t}){return h.jsx("circle",{cx:e,cy:e,r:e,className:_t(["react-flow__background-pattern","dots",t])})}var no;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(no||(no={}));const Y3={[no.Dots]:1,[no.Lines]:1,[no.Cross]:6},X3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function e2({id:e,variant:t=no.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:l,bgColor:u,style:c,className:f,patternClassName:p}){const m=P.useRef(null),{transform:g,patternId:v}=Be(X3,ot),b=r||Y3[t],w=t===no.Dots,k=t===no.Cross,_=Array.isArray(n)?n:[n,n],C=[_[0]*g[2]||1,_[1]*g[2]||1],S=b*g[2],j=Array.isArray(s)?s:[s,s],A=k?[S,S]:C,T=[j[0]*g[2]||1+A[0]/2,j[1]*g[2]||1+A[1]/2],N=`${v}${e||""}`;return h.jsxs("svg",{className:_t(["react-flow__background",f]),style:{...c,...zu,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:m,"data-testid":"rf__background",children:[h.jsx("pattern",{id:N,x:g[0]%C[0],y:g[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:w?h.jsx(K3,{radius:S/2,className:p}):h.jsx(W3,{dimensions:A,lineWidth:i,variant:t,className:p})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}e2.displayName="Background";const Q3=P.memo(e2);function Z3(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function J3(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function e4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function t4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function n4(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Kl({children:e,className:t,...n}){return h.jsx("button",{type:"button",className:_t(["react-flow__controls-button",t]),...n,children:e})}const r4=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function t2({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:u,onInteractiveChange:c,className:f,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":v}){const b=ut(),{isInteractive:w,minZoomReached:k,maxZoomReached:_,ariaLabelConfig:C}=Be(r4,ot),{zoomIn:S,zoomOut:j,fitView:A}=ja(),T=()=>{S(),s?.()},N=()=>{j(),l?.()},D=()=>{A(i),u?.()},z=()=>{b.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),c?.(!w)},$=g==="horizontal"?"horizontal":"vertical";return h.jsxs(qu,{className:_t(["react-flow__controls",$,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":v??C["controls.ariaLabel"],children:[t&&h.jsxs(h.Fragment,{children:[h.jsx(Kl,{onClick:T,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:_,children:h.jsx(Z3,{})}),h.jsx(Kl,{onClick:N,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:k,children:h.jsx(J3,{})})]}),n&&h.jsx(Kl,{className:"react-flow__controls-fitview",onClick:D,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:h.jsx(e4,{})}),r&&h.jsx(Kl,{className:"react-flow__controls-interactive",onClick:z,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:w?h.jsx(n4,{}):h.jsx(t4,{})}),p]})}t2.displayName="Controls";const o4=P.memo(t2);function i4({id:e,x:t,y:n,width:r,height:i,style:s,color:l,strokeColor:u,strokeWidth:c,className:f,borderRadius:p,shapeRendering:m,selected:g,onClick:v}){const{background:b,backgroundColor:w}=s||{},k=l||b||w;return h.jsx("rect",{className:_t(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:p,ry:p,width:r,height:i,style:{fill:k,stroke:u,strokeWidth:c},shapeRendering:m,onClick:v?_=>v(_,e):void 0})}const s4=P.memo(i4),a4=e=>e.nodes.map(t=>t.id),tf=e=>e instanceof Function?e:()=>e;function l4({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=s4,onClick:l}){const u=Be(a4,ot),c=tf(t),f=tf(e),p=tf(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:u.map(g=>h.jsx(c4,{id:g,nodeColorFunc:c,nodeStrokeColorFunc:f,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:l,shapeRendering:m},g))})}function u4({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:u,onClick:c}){const{node:f,x:p,y:m,width:g,height:v}=Be(b=>{const{internals:w}=b.nodeLookup.get(e),k=w.userNode,{x:_,y:C}=w.positionAbsolute,{width:S,height:j}=xr(k);return{node:k,x:_,y:C,width:S,height:j}},ot);return!f||f.hidden||!ej(f)?null:h.jsx(u,{x:p,y:m,width:g,height:v,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:i,strokeColor:n(f),strokeWidth:s,shapeRendering:l,onClick:c,id:f.id})}const c4=P.memo(u4);var d4=P.memo(l4);const f4=200,p4=150,h4=e=>!e.hidden,m4=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?JN(Ca(e.nodeLookup,{filter:h4}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},g4="react-flow__minimap-desc";function n2({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:c,maskColor:f,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:v,onNodeClick:b,pannable:w=!1,zoomable:k=!1,ariaLabel:_,inversePan:C,zoomStep:S=1,offsetScale:j=5}){const A=ut(),T=P.useRef(null),{boundingRect:N,viewBB:D,rfId:z,panZoom:$,translateExtent:O,flowWidth:B,flowHeight:G,ariaLabelConfig:R}=Be(m4,ot),q=e?.width??f4,V=e?.height??p4,Y=N.width/q,H=N.height/V,X=Math.max(Y,H),I=X*q,F=X*V,K=j*X,L=N.x-(I-N.width)/2-K,U=N.y-(F-N.height)/2-K,ee=I+K*2,J=F+K*2,Q=`${g4}-${z}`,ne=P.useRef(0),ae=P.useRef();ne.current=X,P.useEffect(()=>{if(T.current&&$)return ae.current=TL({domNode:T.current,panZoom:$,getTransform:()=>A.getState().transform,getViewScale:()=>ne.current}),()=>{ae.current?.destroy()}},[$]),P.useEffect(()=>{ae.current?.update({translateExtent:O,width:B,height:G,inversePan:C,pannable:w,zoomStep:S,zoomable:k})},[w,k,C,S,O,B,G]);const fe=v?xe=>{const[Ae,we]=ae.current?.pointer(xe)||[0,0];v(xe,{x:Ae,y:we})}:void 0,ve=b?P.useCallback((xe,Ae)=>{const we=A.getState().nodeLookup.get(Ae).internals.userNode;b(xe,we)},[]):void 0,Ce=_??R["minimap.ariaLabel"];return h.jsx(qu,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:_t(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:q,height:V,viewBox:`${L} ${U} ${ee} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:T,onClick:fe,children:[Ce&&h.jsx("title",{id:Q,children:Ce}),h.jsx(d4,{onClick:ve,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:u}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${L-K},${U-K}h${ee+K*2}v${J+K*2}h${-ee-K*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}n2.displayName="MiniMap";const y4=P.memo(n2),v4=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,x4={[Ki.Line]:"right",[Ki.Handle]:"bottom-right"};function b4({nodeId:e,position:t,variant:n=Ki.Handle,className:r,style:i=void 0,children:s,color:l,minWidth:u=10,minHeight:c=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:v=!0,shouldResize:b,onResizeStart:w,onResize:k,onResizeEnd:_}){const C=Rj(),S=typeof e=="string"?e:C,j=ut(),A=P.useRef(null),T=n===Ki.Handle,N=Be(P.useCallback(v4(T&&v),[T,v]),ot),D=P.useRef(null),z=t??x4[n];P.useEffect(()=>{if(!(!A.current||!S))return D.current||(D.current=HL({domNode:A.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:O,transform:B,snapGrid:G,snapToGrid:R,nodeOrigin:q,domNode:V}=j.getState();return{nodeLookup:O,transform:B,snapGrid:G,snapToGrid:R,nodeOrigin:q,paneDomNode:V}},onChange:(O,B)=>{const{triggerNodeChanges:G,nodeLookup:R,parentLookup:q,nodeOrigin:V}=j.getState(),Y=[],H={x:O.x,y:O.y},X=R.get(S);if(X&&X.expandParent&&X.parentId){const I=X.origin??V,F=O.width??X.measured.width??0,K=O.height??X.measured.height??0,L={id:X.id,parentId:X.parentId,rect:{width:F,height:K,...tj({x:O.x??X.position.x,y:O.y??X.position.y},{width:F,height:K},X.parentId,R,I)}},U=Sv([L],R,q,V);Y.push(...U),H.x=O.x?Math.max(I[0]*F,O.x):void 0,H.y=O.y?Math.max(I[1]*K,O.y):void 0}if(H.x!==void 0&&H.y!==void 0){const I={id:S,type:"position",position:{...H}};Y.push(I)}if(O.width!==void 0&&O.height!==void 0){const F={id:S,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};Y.push(F)}for(const I of B){const F={...I,type:"position"};Y.push(F)}G(Y)},onEnd:({width:O,height:B})=>{const G={id:S,type:"dimensions",resizing:!1,dimensions:{width:O,height:B}};j.getState().triggerNodeChanges([G])}})),D.current.update({controlPosition:z,boundaries:{minWidth:u,minHeight:c,maxWidth:f,maxHeight:p},keepAspectRatio:m,resizeDirection:g,onResizeStart:w,onResize:k,onResizeEnd:_,shouldResize:b}),()=>{D.current?.destroy()}},[z,u,c,f,p,m,w,k,_,b]);const $=z.split("-");return h.jsx("div",{className:_t(["react-flow__resize-control","nodrag",...$,n,r]),ref:A,style:{...i,scale:N,...l&&{[T?"backgroundColor":"borderColor"]:l}},children:s})}P.memo(b4);const r2={},{useDebugValue:w4}=At,{useSyncExternalStoreWithSelector:_4}=xj;let qw=!1;const k4=e=>e;function S4(e,t=k4,n){(r2?"production":void 0)!=="production"&&n&&!qw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qw=!0);const r=_4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return w4(r),r}const zw=e=>{(r2?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?bj(e):e,n=(r,i)=>S4(t,r,i);return Object.assign(n,t),n},Bu=e=>e?zw(e):zw,C4="/api";async function Ro(e,t){const n=await fetch(`${C4}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||"Request failed")}if(n.status!==204)return n.json()}const to={projects:{list:()=>Ro("/projects"),get:e=>Ro(`/projects/${e}`),create:(e,t="")=>Ro("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>Ro(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Ro(`/projects/${e}`,{method:"DELETE"}),compile:e=>Ro(`/projects/${e}/compile`),build:e=>Ro(`/projects/${e}/build`,{method:"POST"})}},Fw=Object.freeze(Object.defineProperty({__proto__:null,api:to},Symbol.toStringTag,{value:"Module"})),Yy={defaultProvider:"gemini",defaultModel:"gemini-2.5-flash",adkVersion:"0.2.2",rustEdition:"2024",theme:"dark",showMinimap:!0,showTimeline:!0,showDataFlowOverlay:!1,autobuildEnabled:!0,autobuildTriggers:{onAgentAdd:!0,onAgentDelete:!0,onAgentUpdate:!0,onToolAdd:!0,onToolUpdate:!0,onEdgeAdd:!0,onEdgeDelete:!0},layoutMode:"free",layoutDirection:"LR"},o2="adk-studio-global-settings";function Xi(){try{const e=localStorage.getItem(o2);if(e)return{...Yy,...JSON.parse(e)}}catch{}return Yy}function E4(e){try{localStorage.setItem(o2,JSON.stringify(e))}catch{}}const wt=Bu((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,selectedActionNodeId:null,layoutMode:"free",layoutDirection:"TB",snapToGrid:!0,gridSize:20,showDataFlowOverlay:!1,fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await to.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,r)=>{const i=await to.projects.create(n,r);return e(s=>({projects:[{id:i.id,name:n,description:r||"",updated_at:i.updated_at},...s.projects]})),i},openProject:async n=>{const r=await to.projects.get(n),i=Xi(),s=r.settings?.layoutMode||i.layoutMode,l=r.settings?.layoutDirection||i.layoutDirection,u=r.settings?.showDataFlowOverlay??i.showDataFlowOverlay;e({currentProject:r,selectedNodeId:null,layoutMode:s,layoutDirection:l,showDataFlowOverlay:u})},saveProject:async()=>{const{currentProject:n,layoutMode:r,layoutDirection:i,showDataFlowOverlay:s}=t();if(!n)return;const l={...n,settings:{...n.settings,layoutMode:r,layoutDirection:i,showDataFlowOverlay:s}};await to.projects.update(n.id,l)},closeProject:()=>e({currentProject:null,selectedNodeId:null,selectedActionNodeId:null}),deleteProject:async n=>{await to.projects.delete(n),e(r=>({projects:r.projects.filter(i=>i.id!==n)}))},updateProjectMeta:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,name:n,description:r},projects:i.projects.map(s=>s.id===i.currentProject?.id?{...s,name:n,description:r}:s)}:i),setTimeout(()=>t().saveProject(),0)},updateProjectSettings:n=>{e(r=>{if(!r.currentProject)return r;const i={...r.currentProject.settings,...n},s={currentProject:{...r.currentProject,settings:i}};return n.layoutMode!==void 0&&(s.layoutMode=n.layoutMode),n.layoutDirection!==void 0&&(s.layoutDirection=n.layoutDirection),n.showDataFlowOverlay!==void 0&&(s.showDataFlowOverlay=n.showDataFlowOverlay),s}),setTimeout(()=>t().saveProject(),0)},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,r)=>e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...i.currentProject.agents[n],...r}}}}:i),renameAgent:(n,r)=>{n!==r&&(e(i=>{if(!i.currentProject||!i.currentProject.agents[n])return i;const s={...i.currentProject.agents};s[r]=s[n],delete s[n],Object.keys(s).forEach(c=>{s[c].sub_agents?.includes(n)&&(s[c]={...s[c],sub_agents:s[c].sub_agents.map(f=>f===n?r:f)})});const l=i.currentProject.workflow.edges.map(c=>({...c,from:c.from===n?r:c.from,to:c.to===n?r:c.to})),u={...i.currentProject.tool_configs};return Object.keys(u).forEach(c=>{if(c.startsWith(`${n}_`)){const f=c.replace(`${n}_`,`${r}_`);u[f]=u[c],delete u[c]}}),{currentProject:{...i.currentProject,agents:s,tool_configs:u,workflow:{...i.currentProject.workflow,edges:l}},selectedNodeId:i.selectedNodeId===n?r:i.selectedNodeId}}),t().saveProject())},addAgent:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(r=>{if(!r.currentProject)return r;const i=r.currentProject.agents[n],s=[n];i?.sub_agents&&s.push(...i.sub_agents);const l={...r.currentProject.agents};s.forEach(m=>delete l[m]);const u={...r.currentProject.tool_configs};Object.keys(u).forEach(m=>{s.some(g=>m.startsWith(`${g}_`))&&delete u[m]});const c=r.currentProject.workflow.edges,f=[];for(const m of s){const g=c.filter(b=>b.to===m),v=c.filter(b=>b.from===m);for(const b of g)for(const w of v)b.from!==w.to&&(f.some(_=>_.from===b.from&&_.to===w.to)||c.some(_=>_.from===b.from&&_.to===w.to&&!s.includes(_.from)&&!s.includes(_.to))||f.push({from:b.from,to:w.to}))}const p=c.filter(m=>!s.includes(m.from)&&!s.includes(m.to));return{currentProject:{...r.currentProject,agents:l,tool_configs:u,workflow:{...r.currentProject.workflow,edges:[...p,...f]}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:[...i.currentProject.workflow.edges,{from:n,to:r}]}}}:i),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(s=>!(s.from===n&&s.to===r))}}}:i),setTimeout(()=>t().saveProject(),0)},setEdges:n=>{e(r=>r.currentProject?{currentProject:{...r.currentProject,workflow:{...r.currentProject.workflow,edges:n}}}:r),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const s=i.currentProject.agents[n];if(!s)return i;let l=r;if(r==="function"||r==="mcp"){const u=s.tools.filter(c=>c.startsWith(r));l=`${r}_${u.length+1}`}else if(s.tools.includes(r))return i;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...s,tools:[...s.tools,l]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const s=i.currentProject.agents[n];if(!s)return i;const l=`${n}_${r}`,{[l]:u,...c}=i.currentProject.tool_configs;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...s,tools:s.tools.filter(f=>f!==r)}},tool_configs:c},selectedToolId:i.selectedToolId===l?null:i.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:r,addAgent:i,updateAgent:s,saveProject:l}=t();if(!r)return;const u=r.agents[n];if(!u)return;const c=u.sub_agents.length+1,f=`${n}_agent_${c}`;i(f,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${c}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),s(n,{sub_agents:[...u.sub_agents,f]}),l()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,tool_configs:{...i.currentProject.tool_configs,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},selectActionNode:n=>e({selectedActionNodeId:n,selectedNodeId:null,selectedToolId:null}),addActionNode:(n,r)=>{e(i=>{if(!i.currentProject)return i;const s=i.currentProject.actionNodes||{};return{currentProject:{...i.currentProject,actionNodes:{...s,[n]:r}}}}),setTimeout(()=>t().saveProject(),0)},updateActionNode:(n,r)=>{e(i=>{if(!i.currentProject)return i;const s=i.currentProject.actionNodes||{};return s[n]?{currentProject:{...i.currentProject,actionNodes:{...s,[n]:{...s[n],...r}}}}:i}),setTimeout(()=>t().saveProject(),0)},removeActionNode:n=>{e(r=>{if(!r.currentProject)return r;const i={...r.currentProject.actionNodes||{}};delete i[n];const s=r.currentProject.workflow.edges.filter(l=>l.from!==n&&l.to!==n);return{currentProject:{...r.currentProject,actionNodes:i,workflow:{...r.currentProject.workflow,edges:s}},selectedActionNodeId:r.selectedActionNodeId===n?null:r.selectedActionNodeId}}),setTimeout(()=>t().saveProject(),0)},renameActionNode:(n,r)=>{n!==r&&(e(i=>{if(!i.currentProject)return i;const s=i.currentProject.actionNodes||{};if(!s[n])return i;const l={...s};l[r]={...l[n],id:r},delete l[n];const u=i.currentProject.workflow.edges.map(c=>({...c,from:c.from===n?r:c.from,to:c.to===n?r:c.to}));return{currentProject:{...i.currentProject,actionNodes:l,workflow:{...i.currentProject.workflow,edges:u}},selectedActionNodeId:i.selectedActionNodeId===n?r:i.selectedActionNodeId}}),setTimeout(()=>t().saveProject(),0))},setLayoutMode:n=>e({layoutMode:n}),setLayoutDirection:n=>e({layoutDirection:n}),setSnapToGrid:n=>e({snapToGrid:n}),setGridSize:n=>e({gridSize:n}),setShowDataFlowOverlay:n=>{e({showDataFlowOverlay:n}),setTimeout(()=>t().saveProject(),0)}})),N4="modulepreload",j4=function(e){return"/"+e},Bw={},$w=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var l=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");i=f(n.map(p=>{if(p=j4(p),p in Bw)return;Bw[p]=!0;const m=p.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":N4,m||(v.as="script"),v.crossOrigin="",v.href=p,c&&v.setAttribute("nonce",c),document.head.appendChild(v),m)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return i.then(u=>{for(const c of u||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})},cn=[{id:"gemini",name:"Google Gemini",icon:"",envVar:"GOOGLE_API_KEY",envVarAlt:"GEMINI_API_KEY",docsUrl:"https://ai.google.dev/gemini-api/docs/models",models:[{id:"gemini-3-pro",name:"Gemini 3 Pro",description:"Most intelligent model for complex agentic workflows and coding",contextWindow:2e6,capabilities:["text","vision","audio","code","reasoning","tools"],tier:"premium"},{id:"gemini-3-flash",name:"Gemini 3 Flash",description:"Fast and efficient for most tasks",contextWindow:1e6,capabilities:["text","vision","audio","code","tools"],tier:"standard"},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Advanced reasoning and multimodal understanding",contextWindow:1e6,capabilities:["text","vision","audio","code","reasoning","tools"],tier:"premium"},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"Balanced speed and capability",contextWindow:1e6,capabilities:["text","vision","audio","code","tools"],tier:"standard"},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash Lite",description:"Ultra-fast for high-volume tasks",contextWindow:1e6,capabilities:["text","vision","code","tools"],tier:"free"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Fast multimodal model (retiring March 2026)",contextWindow:1e6,capabilities:["text","vision","audio","code","tools"],tier:"standard"},{id:"gemini-live-2.5-flash-native-audio",name:"Gemini Live 2.5 Flash Native Audio",description:"Real-time voice conversations",contextWindow:32e3,capabilities:["text","audio","tools"],tier:"premium"}]},{id:"openai",name:"OpenAI",icon:"",envVar:"OPENAI_API_KEY",docsUrl:"https://platform.openai.com/docs/models",models:[{id:"gpt-5",name:"GPT-5",description:"State-of-the-art unified model with adaptive thinking",contextWindow:256e3,capabilities:["text","vision","audio","code","reasoning","tools"],tier:"premium"},{id:"gpt-5-mini",name:"GPT-5 Mini",description:"Efficient version for most tasks",contextWindow:128e3,capabilities:["text","vision","code","tools"],tier:"standard"},{id:"gpt-5.1",name:"GPT-5.1",description:"Latest iteration with improved performance",contextWindow:256e3,capabilities:["text","vision","audio","code","reasoning","tools"],tier:"premium"},{id:"gpt-4o",name:"GPT-4o",description:"Multimodal model (deprecated August 2025)",contextWindow:128e3,capabilities:["text","vision","audio","code","tools"],tier:"standard"},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Fast and affordable (deprecated August 2025)",contextWindow:128e3,capabilities:["text","vision","code","tools"],tier:"free"}]},{id:"anthropic",name:"Anthropic Claude",icon:"",envVar:"ANTHROPIC_API_KEY",docsUrl:"https://docs.anthropic.com/en/docs/about-claude/models",models:[{id:"claude-opus-4.5",name:"Claude Opus 4.5",description:"Most capable model for complex autonomous tasks",contextWindow:2e5,capabilities:["text","vision","code","reasoning","tools"],tier:"premium"},{id:"claude-sonnet-4.5",name:"Claude Sonnet 4.5",description:"Balanced intelligence and cost for production",contextWindow:2e5,capabilities:["text","vision","code","reasoning","tools"],tier:"standard"},{id:"claude-haiku-4.5",name:"Claude Haiku 4.5",description:"Ultra-efficient for high-volume workloads",contextWindow:2e5,capabilities:["text","vision","code","tools"],tier:"free"},{id:"claude-opus-4",name:"Claude Opus 4",description:"Hybrid model with extended thinking",contextWindow:2e5,capabilities:["text","vision","code","reasoning","tools"],tier:"premium"},{id:"claude-sonnet-4",name:"Claude Sonnet 4",description:"Balanced model with extended thinking",contextWindow:2e5,capabilities:["text","vision","code","reasoning","tools"],tier:"standard"}]},{id:"deepseek",name:"DeepSeek",icon:"",envVar:"DEEPSEEK_API_KEY",docsUrl:"https://platform.deepseek.com/docs",models:[{id:"deepseek-r1-0528",name:"DeepSeek R1 (0528)",description:"Latest reasoning model with enhanced thinking depth",contextWindow:128e3,capabilities:["text","code","reasoning","tools"],tier:"premium"},{id:"deepseek-r1",name:"DeepSeek R1",description:"Advanced reasoning comparable to o1",contextWindow:128e3,capabilities:["text","code","reasoning","tools"],tier:"standard"},{id:"deepseek-v3.1",name:"DeepSeek V3.1",description:"Latest 671B MoE model for general tasks",contextWindow:128e3,capabilities:["text","code","tools"],tier:"standard"},{id:"deepseek-chat",name:"DeepSeek Chat (V3)",description:"671B MoE model, excellent for code and Chinese",contextWindow:128e3,capabilities:["text","code","tools"],tier:"free"},{id:"deepseek-vl2",name:"DeepSeek VL2",description:"Vision-language model",contextWindow:32e3,capabilities:["text","vision","code"],tier:"standard"}]},{id:"groq",name:"Groq",icon:"",envVar:"GROQ_API_KEY",docsUrl:"https://console.groq.com/docs",models:[{id:"llama-4-scout",name:"Llama 4 Scout (17Bx16E)",description:"Fast Llama 4 inference via Groq LPU",contextWindow:128e3,capabilities:["text","vision","code","tools"],tier:"standard"},{id:"llama-3.2-90b-text-preview",name:"Llama 3.2 90B",description:"Large text model",contextWindow:128e3,capabilities:["text","code","tools"],tier:"standard"},{id:"llama-3.2-11b-text-preview",name:"Llama 3.2 11B",description:"Balanced text model",contextWindow:128e3,capabilities:["text","code","tools"],tier:"free"},{id:"llama-3.2-3b-preview",name:"Llama 3.2 3B",description:"Fast small model",contextWindow:128e3,capabilities:["text","code"],tier:"free"},{id:"llama-3.1-70b-versatile",name:"Llama 3.1 70B Versatile",description:"Versatile large model",contextWindow:128e3,capabilities:["text","code","tools"],tier:"standard"},{id:"llama-3.1-8b-instant",name:"Llama 3.1 8B Instant",description:"Ultra-fast instruction model",contextWindow:128e3,capabilities:["text","code","tools"],tier:"free"},{id:"mixtral-8x7b-32768",name:"Mixtral 8x7B",description:"MoE model with 32K context",contextWindow:32768,capabilities:["text","code","tools"],tier:"free"}]},{id:"ollama",name:"Ollama (Local)",icon:"",envVar:"OLLAMA_HOST",docsUrl:"https://ollama.ai/library",models:[{id:"llama3.3:70b",name:"Llama 3.3 70B",description:"Latest Llama for local deployment",contextWindow:128e3,capabilities:["text","code","tools"],tier:"premium"},{id:"llama3.2:3b",name:"Llama 3.2 3B",description:"Efficient small model",contextWindow:128e3,capabilities:["text","code"],tier:"free"},{id:"llama3.1:8b",name:"Llama 3.1 8B",description:"Popular balanced model",contextWindow:128e3,capabilities:["text","code","tools"],tier:"free"},{id:"deepseek-r1:14b",name:"DeepSeek R1 14B",description:"Distilled reasoning model",contextWindow:64e3,capabilities:["text","code","reasoning"],tier:"standard"},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B",description:"Larger distilled reasoning model",contextWindow:64e3,capabilities:["text","code","reasoning"],tier:"standard"},{id:"qwen3:14b",name:"Qwen 3 14B",description:"Strong multilingual and coding",contextWindow:32e3,capabilities:["text","code","tools"],tier:"standard"},{id:"qwen2.5:7b",name:"Qwen 2.5 7B",description:"Efficient multilingual model",contextWindow:32e3,capabilities:["text","code","tools"],tier:"free"},{id:"mistral:7b",name:"Mistral 7B",description:"Fast and capable",contextWindow:32e3,capabilities:["text","code","tools"],tier:"free"},{id:"mistral-nemo:12b",name:"Mistral Nemo 12B",description:"Enhanced Mistral variant",contextWindow:128e3,capabilities:["text","code","tools"],tier:"standard"},{id:"gemma3:9b",name:"Gemma 3 9B",description:"Google's efficient open model",contextWindow:8192,capabilities:["text","vision","code"],tier:"free"},{id:"devstral:24b",name:"Devstral 24B",description:"Optimized for coding tasks",contextWindow:64e3,capabilities:["text","code","tools"],tier:"standard"},{id:"codellama:13b",name:"Code Llama 13B",description:"Code-focused Llama variant",contextWindow:16e3,capabilities:["text","code"],tier:"free"}]}];function T4(e){if(!e)return"gemini";const t=e.toLowerCase();return t.includes("gemini")||t.includes("gemma")?"gemini":t.includes("gpt")||t.includes("o1")||t.includes("o3")?"openai":t.includes("claude")?"anthropic":t.includes("deepseek")?"deepseek":t.includes("llama")||t.includes("mixtral")?t.includes(":")?"ollama":"groq":t.includes("qwen")||t.includes("mistral")||t.includes("codellama")||t.includes("devstral")?"ollama":"gemini"}function i2(e){switch(e){case"text":return"";case"vision":return"";case"audio":return"";case"code":return"";case"reasoning":return"";case"tools":return"";default:return""}}function s2(e){switch(e){case"free":return"var(--accent-success)";case"standard":return"var(--accent-primary)";case"premium":return"var(--accent-warning)";default:return"var(--text-muted)"}}function a2(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:e.toString()}const A4=["0.2.2","0.2.1","0.2.0","0.1.9","0.1.0"],P4=["2024","2021"];function l2({settings:e,projectName:t,projectDescription:n,onSave:r,onClose:i}){const[s,l]=P.useState("general"),[u,c]=P.useState({...e}),[f,p]=P.useState(t),[m,g]=P.useState(n),[v,b]=P.useState(""),[w,k]=P.useState("");P.useEffect(()=>{c({...e,adkVersion:e.adkVersion||"0.2.2",rustEdition:e.rustEdition||"2024",defaultProvider:e.defaultProvider||"gemini",default_model:e.default_model||"gemini-2.5-flash",autobuildEnabled:e.autobuildEnabled??!0,showMinimap:e.showMinimap??!0,showTimeline:e.showTimeline??!0,consolePosition:e.consolePosition||"bottom"})},[e]);const _=()=>{r(u,f,m),i()},C=(N,D)=>{c(z=>({...z,[N]:D}))},S=()=>{v.trim()&&(c(N=>({...N,env_vars:{...N.env_vars,[v.trim()]:w}})),b(""),k(""))},j=N=>{c(D=>{const{[N]:z,...$}=D.env_vars;return{...D,env_vars:$}})},A=cn.find(N=>N.id===u.defaultProvider)||cn[0],T=[{id:"general",label:"General",icon:""},{id:"codegen",label:"Code Generation",icon:""},{id:"ui",label:"UI Preferences",icon:""},{id:"env",label:"Environment",icon:""}];return h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:h.jsxs("div",{className:"rounded-lg w-[600px] max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:" Project Settings"}),h.jsx("button",{onClick:i,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:T.map(N=>h.jsxs("button",{onClick:()=>l(N.id),className:"px-4 py-2 text-sm font-medium transition-colors",style:{color:s===N.id?"var(--accent-primary)":"var(--text-secondary)",borderBottom:s===N.id?"2px solid var(--accent-primary)":"2px solid transparent"},children:[N.icon," ",N.label]},N.id))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s==="general"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Zr,{label:"Project Name",children:h.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"}})}),h.jsx(Zr,{label:"Description",children:h.jsx("textarea",{value:m,onChange:N=>g(N.target.value),rows:3,className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"}})}),h.jsx(Zr,{label:"Default Provider",children:h.jsx("select",{value:u.defaultProvider||"gemini",onChange:N=>{const D=cn.find(z=>z.id===N.target.value);C("defaultProvider",N.target.value),D&&D.models.length>0&&C("default_model",D.models[0].id)},className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:cn.map(N=>h.jsxs("option",{value:N.id,children:[N.icon," ",N.name]},N.id))})}),h.jsx(Zr,{label:"Default Model",children:h.jsx("select",{value:u.default_model,onChange:N=>C("default_model",N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:A.models.map(N=>h.jsx("option",{value:N.id,children:N.name},N.id))})})]}),s==="codegen"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Zr,{label:"ADK-Rust Version",hint:"Version of ADK crates to use in generated code",children:h.jsx("select",{value:u.adkVersion||"0.2.2",onChange:N=>C("adkVersion",N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:A4.map(N=>h.jsxs("option",{value:N,children:[N,N==="0.2.2"?" (latest)":""]},N))})}),h.jsx(Zr,{label:"Rust Edition",hint:"Rust edition for generated Cargo.toml",children:h.jsx("select",{value:u.rustEdition||"2024",onChange:N=>C("rustEdition",N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:P4.map(N=>h.jsxs("option",{value:N,children:[N,N==="2024"?" (latest)":""]},N))})}),h.jsxs("div",{className:"p-3 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-muted)"},children:[h.jsx("div",{className:"font-medium mb-1",children:"Generated Code Preview:"}),h.jsxs("code",{className:"block font-mono",children:["[package]",h.jsx("br",{}),'edition = "',u.rustEdition||"2024",'"',h.jsx("br",{}),h.jsx("br",{}),"[dependencies]",h.jsx("br",{}),'adk-core = "',u.adkVersion||"0.2.2",'"',h.jsx("br",{}),'adk-agent = "',u.adkVersion||"0.2.2",'"',h.jsx("br",{}),"..."]})]})]}),s==="ui"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Yl,{label:"Autobuild",hint:"Automatically rebuild when project changes",checked:u.autobuildEnabled??!0,onChange:N=>C("autobuildEnabled",N)}),(u.autobuildEnabled??!0)&&h.jsxs("div",{className:"p-3 rounded space-y-2",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)"},children:[h.jsx("div",{className:"text-xs font-medium mb-2",style:{color:"var(--text-muted)"},children:"Autobuild Triggers:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Mo,{label:"Agent Add",checked:u.autobuildTriggers?.onAgentAdd??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onAgentAdd:N})}),h.jsx(Mo,{label:"Agent Delete",checked:u.autobuildTriggers?.onAgentDelete??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onAgentDelete:N})}),h.jsx(Mo,{label:"Agent Update",checked:u.autobuildTriggers?.onAgentUpdate??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onAgentUpdate:N})}),h.jsx(Mo,{label:"Tool Add",checked:u.autobuildTriggers?.onToolAdd??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onToolAdd:N})}),h.jsx(Mo,{label:"Tool Update",checked:u.autobuildTriggers?.onToolUpdate??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onToolUpdate:N})}),h.jsx(Mo,{label:"Edge Add",checked:u.autobuildTriggers?.onEdgeAdd??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onEdgeAdd:N})}),h.jsx(Mo,{label:"Edge Delete",checked:u.autobuildTriggers?.onEdgeDelete??!0,onChange:N=>C("autobuildTriggers",{...u.autobuildTriggers,onEdgeDelete:N})})]})]}),h.jsx(Yl,{label:"Show Minimap",hint:"Display minimap in canvas corner",checked:u.showMinimap??!0,onChange:N=>C("showMinimap",N)}),h.jsx(Yl,{label:"Show Timeline",hint:"Display execution timeline during runs",checked:u.showTimeline??!0,onChange:N=>C("showTimeline",N)}),h.jsx(Yl,{label:"Show Data Flow Overlay",hint:"Display state keys on edges",checked:u.showDataFlowOverlay??!1,onChange:N=>C("showDataFlowOverlay",N)}),h.jsx(Zr,{label:"Layout Mode",children:h.jsxs("select",{value:u.layoutMode||"free",onChange:N=>C("layoutMode",N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsx("option",{value:"free",children:"Free (drag anywhere)"}),h.jsx("option",{value:"fixed",children:"Fixed (auto-layout)"})]})}),h.jsx(Zr,{label:"Layout Direction",children:h.jsxs("select",{value:u.layoutDirection||"TB",onChange:N=>C("layoutDirection",N.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsx("option",{value:"TB",children:"Top to Bottom "}),h.jsx("option",{value:"LR",children:"Left to Right "}),h.jsx("option",{value:"BT",children:"Bottom to Top "}),h.jsx("option",{value:"RL",children:"Right to Left "})]})})]}),s==="env"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-3 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid var(--accent-primary)",color:"var(--text-secondary)"},children:[h.jsx("div",{className:"font-medium mb-1",style:{color:"var(--accent-primary)"},children:" Environment Variables"}),h.jsx("p",{children:"These are stored in the project and used when running the generated code. Sensitive values are stored locally only."})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",placeholder:"KEY",value:v,onChange:N=>b(N.target.value.toUpperCase()),className:"flex-1 px-3 py-2 rounded text-sm font-mono",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"}}),h.jsx("input",{type:"password",placeholder:"value",value:w,onChange:N=>k(N.target.value),className:"flex-1 px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"}}),h.jsx("button",{onClick:S,className:"px-3 py-2 rounded text-sm font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Add"})]}),h.jsxs("div",{className:"space-y-2",children:[Object.entries(u.env_vars||{}).map(([N,D])=>h.jsxs("div",{className:"flex items-center gap-2 p-2 rounded",style:{backgroundColor:"var(--bg-secondary)"},children:[h.jsx("code",{className:"flex-1 text-sm font-mono",style:{color:"var(--accent-primary)"},children:N}),h.jsx("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:D?"":"(empty)"}),h.jsx("button",{onClick:()=>j(N),className:"text-red-500 hover:text-red-400 text-sm",children:""})]},N)),Object.keys(u.env_vars||{}).length===0&&h.jsx("div",{className:"text-sm text-center py-4",style:{color:"var(--text-muted)"},children:"No environment variables configured"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-medium mb-2",style:{color:"var(--text-muted)"},children:"Quick Add:"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:["GOOGLE_API_KEY","OPENAI_API_KEY","ANTHROPIC_API_KEY","DEEPSEEK_API_KEY","GROQ_API_KEY"].map(N=>h.jsxs("button",{onClick:()=>{u.env_vars?.[N]||b(N)},disabled:!!u.env_vars?.[N],className:"px-2 py-1 rounded text-xs",style:{backgroundColor:u.env_vars?.[N]?"var(--accent-success)":"var(--bg-secondary)",color:u.env_vars?.[N]?"white":"var(--text-secondary)",border:"1px solid var(--border-default)",opacity:u.env_vars?.[N]?.7:1},children:[u.env_vars?.[N]?" ":"+ ",N]},N))})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",style:{borderColor:"var(--border-default)"},children:[h.jsx("button",{onClick:i,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),h.jsx("button",{onClick:_,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Save Settings"})]})]})})}function Zr({label:e,hint:t,children:n}){return h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:[e,t&&h.jsxs("span",{className:"font-normal ml-1",style:{color:"var(--text-muted)"},children:["(",t,")"]})]}),n]})}function Yl({label:e,hint:t,checked:n,onChange:r}){return h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:e}),t&&h.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:t})]}),h.jsx("button",{onClick:()=>r(!n),className:"w-12 h-6 rounded-full transition-colors relative",style:{backgroundColor:n?"var(--accent-primary)":"var(--bg-secondary)"},children:h.jsx("div",{className:"w-5 h-5 rounded-full bg-white absolute top-0.5 transition-transform",style:{transform:n?"translateX(26px)":"translateX(2px)"}})})]})}function Mo({label:e,checked:t,onChange:n}){return h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:t,onChange:r=>n(r.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"var(--accent-primary)"}}),h.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:e})]})}const I4={};function R4(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const l=c=>c===null?null:JSON.parse(c,void 0),u=(s=n.getItem(i))!=null?s:null;return u instanceof Promise?u.then(l):l(u)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const va=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return va(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return va(r)(n)}}}},M4=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,_)=>({..._,...k}),...t},l=!1;const u=new Set,c=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...k)},r,i);const p=va(s.serialize),m=()=>{const k=s.partialize({...r()});let _;const C=p({state:k,version:s.version}).then(S=>f.setItem(s.name,S)).catch(S=>{_=S});if(_)throw _;return C},g=i.setState;i.setState=(k,_)=>{g(k,_),m()};const v=e((...k)=>{n(...k),m()},r,i);let b;const w=()=>{var k;if(!f)return;l=!1,u.forEach(C=>C(r()));const _=((k=s.onRehydrateStorage)==null?void 0:k.call(s,r()))||void 0;return va(f.getItem.bind(f))(s.name).then(C=>{if(C)return s.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return s.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var S;return b=s.merge(C,(S=r())!=null?S:v),n(b,!0),m()}).then(()=>{_?.(b,void 0),l=!0,c.forEach(C=>C(b))}).catch(C=>{_?.(void 0,C)})};return i.persist={setOptions:k=>{s={...s,...k},k.getStorage&&(f=k.getStorage())},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},w(),b||v},O4=(e,t)=>(n,r,i)=>{let s={storage:R4(()=>localStorage),partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...t},l=!1;const u=new Set,c=new Set;let f=s.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const p=()=>{const w=s.partialize({...r()});return f.setItem(s.name,{state:w,version:s.version})},m=i.setState;i.setState=(w,k)=>{m(w,k),p()};const g=e((...w)=>{n(...w),p()},r,i);i.getInitialState=()=>g;let v;const b=()=>{var w,k;if(!f)return;l=!1,u.forEach(C=>{var S;return C((S=r())!=null?S:g)});const _=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(w=r())!=null?w:g))||void 0;return va(f.getItem.bind(f))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return[!0,s.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var S;const[j,A]=C;if(v=s.merge(A,(S=r())!=null?S:g),n(v,!0),j)return p()}).then(()=>{_?.(v,void 0),v=r(),l=!0,c.forEach(C=>C(v))}).catch(C=>{_?.(void 0,C)})};return i.persist={setOptions:w=>{s={...s,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:w=>(u.add(w),()=>{u.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},s.skipHydration||b(),v||g},L4=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((I4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),M4(e,t)):O4(e,t),u2=L4,D4={bgPrimary:"#F7F8FA",bgSecondary:"#FFFFFF",bgCanvas:"#F0F2F5",surfaceCard:"#FFFFFF",surfacePanel:"#FFFFFF",borderDefault:"#E3E6EA",borderFocus:"#0F8A8A",textPrimary:"#1C232B",textSecondary:"#4A5568",textMuted:"#A0AEC0",accentPrimary:"#0F8A8A",accentWarning:"#F59F00",accentSuccess:"#38A169",accentError:"#E53E3E",nodeAgent:"#3182CE",nodeSequential:"#805AD5",nodeLoop:"#D69E2E",nodeParallel:"#38A169",nodeRouter:"#DD6B20",gridColor:"#E3E6EA",handleColor:"#0F8A8A",minimapMask:"rgba(247, 248, 250, 0.8)",controlsBg:"#FFFFFF",controlsBorder:"#E3E6EA"},q4={bgPrimary:"#1a1a2e",bgSecondary:"#16213e",bgCanvas:"#0f0f1a",surfaceCard:"#1e2a4a",surfacePanel:"#16213e",borderDefault:"#2d3748",borderFocus:"#4fd1c5",textPrimary:"#F7FAFC",textSecondary:"#A0AEC0",textMuted:"#718096",accentPrimary:"#4fd1c5",accentWarning:"#F6AD55",accentSuccess:"#68D391",accentError:"#FC8181",nodeAgent:"#63B3ED",nodeSequential:"#B794F4",nodeLoop:"#F6E05E",nodeParallel:"#68D391",nodeRouter:"#F6AD55",gridColor:"#333333",handleColor:"#e94560",minimapMask:"rgba(0, 0, 0, 0.8)",controlsBg:"#16213e",controlsBorder:"#e94560"};function z4(e){return e==="light"?D4:q4}const F4="adk-studio-theme",oo=Bu()(u2((e,t)=>({mode:"light",setMode:n=>e({mode:n}),toggle:()=>e(n=>({mode:n.mode==="light"?"dark":"light"})),getTokens:()=>z4(t().mode)}),{name:F4,partialize:e=>({mode:e.mode})})),B4=["0.2.2","0.2.1","0.2.0","0.1.9","0.1.0"],$4=["2024","2021"];function c2({onClose:e,onThemeChange:t}){const[n,r]=P.useState("defaults"),[i,s]=P.useState(Yy),{mode:l,setMode:u}=oo();P.useEffect(()=>{s(Xi())},[]);const c=()=>{E4(i),t&&t(i.theme),i.theme!=="system"&&u(i.theme),e()},f=(g,v)=>{s(b=>({...b,[g]:v}))},p=cn.find(g=>g.id===i.defaultProvider)||cn[0],m=[{id:"defaults",label:"Defaults",icon:""},{id:"codegen",label:"Code Generation",icon:""},{id:"ui",label:"UI Preferences",icon:""},{id:"build",label:"Build Settings",icon:""}];return h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:e,children:h.jsxs("div",{className:"rounded-lg w-[600px] max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:g=>g.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:" Global Settings"}),h.jsx("button",{onClick:e,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsxs("div",{className:"mx-4 mt-4 p-3 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid var(--accent-primary)",color:"var(--text-secondary)"},children:[h.jsx("div",{className:"font-medium mb-1",style:{color:"var(--accent-primary)"},children:" Global Settings"}),h.jsx("p",{children:"These settings apply as defaults for all new projects. Individual projects can override these in their own settings."})]}),h.jsx("div",{className:"flex border-b mt-4",style:{borderColor:"var(--border-default)"},children:m.map(g=>h.jsxs("button",{onClick:()=>r(g.id),className:"px-4 py-2 text-sm font-medium transition-colors",style:{color:n===g.id?"var(--accent-primary)":"var(--text-secondary)",borderBottom:n===g.id?"2px solid var(--accent-primary)":"2px solid transparent"},children:[g.icon," ",g.label]},g.id))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n==="defaults"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Oo,{label:"Default Provider",hint:"Provider for new agents",children:h.jsx("select",{value:i.defaultProvider,onChange:g=>{const v=cn.find(b=>b.id===g.target.value);f("defaultProvider",g.target.value),v&&v.models.length>0&&f("defaultModel",v.models[0].id)},className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:cn.map(g=>h.jsxs("option",{value:g.id,children:[g.icon," ",g.name]},g.id))})}),h.jsx(Oo,{label:"Default Model",hint:"Model for new agents",children:h.jsx("select",{value:i.defaultModel,onChange:g=>f("defaultModel",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:p.models.map(g=>h.jsx("option",{value:g.id,children:g.name},g.id))})}),h.jsx(Oo,{label:"Default Layout Mode",children:h.jsxs("select",{value:i.layoutMode,onChange:g=>f("layoutMode",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsx("option",{value:"free",children:"Free (drag anywhere)"}),h.jsx("option",{value:"fixed",children:"Fixed (auto-layout)"})]})}),h.jsx(Oo,{label:"Default Layout Direction",children:h.jsxs("select",{value:i.layoutDirection,onChange:g=>f("layoutDirection",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsx("option",{value:"TB",children:"Top to Bottom "}),h.jsx("option",{value:"LR",children:"Left to Right "}),h.jsx("option",{value:"BT",children:"Bottom to Top "}),h.jsx("option",{value:"RL",children:"Right to Left "})]})})]}),n==="codegen"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Oo,{label:"ADK-Rust Version",hint:"Default version for generated code",children:h.jsx("select",{value:i.adkVersion,onChange:g=>f("adkVersion",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:B4.map(g=>h.jsxs("option",{value:g,children:[g,g==="0.2.2"?" (latest)":""]},g))})}),h.jsx(Oo,{label:"Rust Edition",hint:"Default edition for Cargo.toml",children:h.jsx("select",{value:i.rustEdition,onChange:g=>f("rustEdition",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:$4.map(g=>h.jsxs("option",{value:g,children:[g,g==="2024"?" (latest)":""]},g))})}),h.jsxs("div",{className:"p-3 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-muted)"},children:[h.jsx("div",{className:"font-medium mb-1",children:"Generated Code Preview:"}),h.jsxs("code",{className:"block font-mono",children:["[package]",h.jsx("br",{}),'edition = "',i.rustEdition,'"',h.jsx("br",{}),h.jsx("br",{}),"[dependencies]",h.jsx("br",{}),'adk-core = "',i.adkVersion,'"',h.jsx("br",{}),'adk-agent = "',i.adkVersion,'"',h.jsx("br",{}),"..."]})]})]}),n==="ui"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Oo,{label:"Theme",children:h.jsxs("select",{value:i.theme,onChange:g=>f("theme",g.target.value),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsx("option",{value:"dark",children:" Dark"}),h.jsx("option",{value:"light",children:" Light"}),h.jsx("option",{value:"system",children:" System"})]})}),h.jsx(Xl,{label:"Show Minimap",hint:"Display minimap in canvas corner by default",checked:i.showMinimap,onChange:g=>f("showMinimap",g)}),h.jsx(Xl,{label:"Show Timeline",hint:"Display execution timeline during runs by default",checked:i.showTimeline,onChange:g=>f("showTimeline",g)}),h.jsx(Xl,{label:"Show Data Flow Overlay",hint:"Display state keys on edges by default",checked:i.showDataFlowOverlay,onChange:g=>f("showDataFlowOverlay",g)})]}),n==="build"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(Xl,{label:"Autobuild Enabled",hint:"Automatically rebuild when project changes",checked:i.autobuildEnabled,onChange:g=>f("autobuildEnabled",g)}),i.autobuildEnabled&&h.jsxs("div",{className:"p-3 rounded space-y-2",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)"},children:[h.jsx("div",{className:"text-xs font-medium mb-2",style:{color:"var(--text-muted)"},children:"Default Autobuild Triggers:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Lo,{label:"Agent Add",checked:i.autobuildTriggers.onAgentAdd,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onAgentAdd:g})}),h.jsx(Lo,{label:"Agent Delete",checked:i.autobuildTriggers.onAgentDelete,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onAgentDelete:g})}),h.jsx(Lo,{label:"Agent Update",checked:i.autobuildTriggers.onAgentUpdate,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onAgentUpdate:g})}),h.jsx(Lo,{label:"Tool Add",checked:i.autobuildTriggers.onToolAdd,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onToolAdd:g})}),h.jsx(Lo,{label:"Tool Update",checked:i.autobuildTriggers.onToolUpdate,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onToolUpdate:g})}),h.jsx(Lo,{label:"Edge Add",checked:i.autobuildTriggers.onEdgeAdd,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onEdgeAdd:g})}),h.jsx(Lo,{label:"Edge Delete",checked:i.autobuildTriggers.onEdgeDelete,onChange:g=>f("autobuildTriggers",{...i.autobuildTriggers,onEdgeDelete:g})})]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",style:{borderColor:"var(--border-default)"},children:[h.jsx("button",{onClick:e,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),h.jsx("button",{onClick:c,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Save Settings"})]})]})})}function Oo({label:e,hint:t,children:n}){return h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:[e,t&&h.jsxs("span",{className:"font-normal ml-1",style:{color:"var(--text-muted)"},children:["(",t,")"]})]}),n]})}function Xl({label:e,hint:t,checked:n,onChange:r}){return h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:e}),t&&h.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:t})]}),h.jsx("button",{onClick:()=>r(!n),className:"w-12 h-6 rounded-full transition-colors relative",style:{backgroundColor:n?"var(--accent-primary)":"var(--bg-secondary)"},children:h.jsx("div",{className:"w-5 h-5 rounded-full bg-white absolute top-0.5 transition-transform",style:{transform:n?"translateX(26px)":"translateX(2px)"}})})]})}function Lo({label:e,checked:t,onChange:n}){return h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:t,onChange:r=>n(r.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"var(--accent-primary)"}}),h.jsx("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:e})]})}function H4(){const{projects:e,loadingProjects:t,createProject:n,openProject:r,deleteProject:i}=wt(),[s,l]=P.useState(!1),[u,c]=P.useState(""),[f,p]=P.useState(null),[m,g]=P.useState(null),[v,b]=P.useState(!1),w=async()=>{if(!u.trim())return;const C=await n(u.trim());c(""),l(!1),r(C.id)},k=async(C,S)=>{C.stopPropagation();const{api:j}=await $w(async()=>{const{api:T}=await Promise.resolve().then(()=>Fw);return{api:T}},void 0),A=await j.projects.get(S);p(S),g({name:A.name,description:A.description,settings:A.settings})},_=async(C,S,j)=>{if(!f)return;const{api:A}=await $w(async()=>{const{api:D}=await Promise.resolve().then(()=>Fw);return{api:D}},void 0),T=await A.projects.get(f);await A.projects.update(f,{...T,name:S,description:j,settings:C});const{fetchProjects:N}=wt.getState();await N(),p(null),g(null)};return h.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-theme-primary",children:"Projects"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-theme-secondary text-theme-primary border border-theme-default rounded hover:border-studio-accent font-medium",title:"Global Settings",children:" Settings"}),h.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-studio-highlight text-white rounded hover:opacity-90 font-medium",children:"+ New Project"})]})]}),s&&h.jsxs("div",{className:"mb-6 p-4 bg-theme-card rounded-lg border border-theme-default shadow-md",children:[h.jsx("input",{type:"text",placeholder:"Project name",value:u,onChange:C=>c(C.target.value),onKeyDown:C=>C.key==="Enter"&&w(),className:"w-full px-3 py-2 bg-theme-secondary border border-theme-default rounded mb-3 text-theme-primary placeholder-theme-muted focus:border-studio-accent focus:outline-none",autoFocus:!0}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:w,className:"px-4 py-2 bg-studio-highlight text-white rounded font-medium",children:"Create"}),h.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-theme-secondary text-theme-primary border border-theme-default rounded",children:"Cancel"})]})]}),t?h.jsx("div",{className:"text-theme-muted",children:"Loading..."}):e.length===0?h.jsx("div",{className:"text-theme-muted text-center py-12",children:"No projects yet. Create one to get started!"}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(C=>h.jsxs("div",{className:"p-4 bg-theme-card rounded-lg border border-theme-default hover:border-studio-accent cursor-pointer group shadow-sm hover:shadow-md transition-shadow",onClick:()=>r(C.id),children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("span",{className:"font-medium text-theme-primary",children:[" ",C.name]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:S=>k(S,C.id),className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-theme-primary transition-opacity",title:"Project Settings",children:""}),h.jsx("button",{onClick:S=>{S.stopPropagation(),confirm("Delete?")&&i(C.id)},className:"opacity-0 group-hover:opacity-100 text-theme-muted hover:text-red-500 transition-opacity",children:""})]})]}),C.description&&h.jsx("p",{className:"text-sm text-theme-secondary mt-2",children:C.description}),h.jsx("p",{className:"text-xs text-theme-muted mt-2",children:new Date(C.updated_at).toLocaleDateString()})]},C.id))}),m&&h.jsx(l2,{settings:m.settings,projectName:m.name,projectDescription:m.description,onSave:_,onClose:()=>{p(null),g(null)}}),v&&h.jsx(c2,{onClose:()=>b(!1)})]})}function V4(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const U4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,W4={};function Hw(e,t){return(W4.jsx?G4:U4).test(e)}const K4=/[ \t\n\f\r]/g;function Y4(e){return typeof e=="object"?e.type==="text"?Vw(e.value):!1:Vw(e)}function Vw(e){return e.replace(K4,"")===""}class Ta{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ta.prototype.normal={};Ta.prototype.property={};Ta.prototype.space=void 0;function d2(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ta(n,r,t)}function Xy(e){return e.toLowerCase()}class tn{constructor(t,n){this.attribute=n,this.property=t}}tn.prototype.attribute="";tn.prototype.booleanish=!1;tn.prototype.boolean=!1;tn.prototype.commaOrSpaceSeparated=!1;tn.prototype.commaSeparated=!1;tn.prototype.defined=!1;tn.prototype.mustUseProperty=!1;tn.prototype.number=!1;tn.prototype.overloadedBoolean=!1;tn.prototype.property="";tn.prototype.spaceSeparated=!1;tn.prototype.space=void 0;let X4=0;const qe=Go(),bt=Go(),Qy=Go(),he=Go(),Ze=Go(),Fi=Go(),an=Go();function Go(){return 2**++X4}const Zy=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:bt,commaOrSpaceSeparated:an,commaSeparated:Fi,number:he,overloadedBoolean:Qy,spaceSeparated:Ze},Symbol.toStringTag,{value:"Module"})),nf=Object.keys(Zy);class Ev extends tn{constructor(t,n,r,i){let s=-1;if(super(t,n),Uw(this,"space",i),typeof r=="number")for(;++s<nf.length;){const l=nf[s];Uw(this,nf[s],(r&Zy[l])===Zy[l])}}}Ev.prototype.defined=!0;function Uw(e,t,n){n&&(e[t]=n)}function Qi(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Ev(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Xy(r)]=r,n[Xy(s.attribute)]=r}return new Ta(t,n,e.space)}const f2=Qi({properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:Ze,ariaCurrent:null,ariaDescribedBy:Ze,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:Ze,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:Ze,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ze,ariaLevel:he,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:Ze,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:Ze,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:bt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function p2(e,t){return t in e?e[t]:t}function h2(e,t){return p2(e,t.toLowerCase())}const Q4=Qi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fi,acceptCharset:Ze,accessKey:Ze,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:Ze,autoFocus:qe,autoPlay:qe,blocking:Ze,capture:null,charSet:null,checked:qe,cite:null,className:Ze,cols:he,colSpan:null,content:null,contentEditable:bt,controls:qe,controlsList:Ze,coords:he|Fi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:Qy,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:Ze,height:he,hidden:Qy,high:he,href:null,hrefLang:null,htmlFor:Ze,httpEquiv:Ze,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:Ze,itemRef:Ze,itemScope:qe,itemType:Ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:he,pattern:null,ping:Ze,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:Ze,required:qe,reversed:qe,rows:he,rowSpan:he,sandbox:Ze,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:bt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ze,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:h2}),Z4=Qi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:an,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:Ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fi,g2:Fi,glyphName:Fi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:an,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:an,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:an,rev:an,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:an,requiredFeatures:an,requiredFonts:an,requiredFormats:an,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:an,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:an,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:an,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:p2}),m2=Qi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),g2=Qi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:h2}),y2=Qi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),J4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eq=/[A-Z]/g,Gw=/-[a-z]/g,tq=/^data[-\w.:]+$/i;function nq(e,t){const n=Xy(t);let r=t,i=tn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tq.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Gw,oq);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Gw.test(s)){let l=s.replace(eq,rq);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Ev}return new i(r,t)}function rq(e){return"-"+e.toLowerCase()}function oq(e){return e.charAt(1).toUpperCase()}const iq=d2([f2,Q4,m2,g2,y2],"html"),Nv=d2([f2,Z4,m2,g2,y2],"svg");function sq(e){return e.join(" ").trim()}var Ri={},rf,Ww;function aq(){if(Ww)return rf;Ww=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",p="*",m="",g="comment",v="declaration";function b(k,_){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];_=_||{};var C=1,S=1;function j(R){var q=R.match(t);q&&(C+=q.length);var V=R.lastIndexOf(c);S=~V?R.length-V:S+R.length}function A(){var R={line:C,column:S};return function(q){return q.position=new T(R),z(),q}}function T(R){this.start=R,this.end={line:C,column:S},this.source=_.source}T.prototype.content=k;function N(R){var q=new Error(_.source+":"+C+":"+S+": "+R);if(q.reason=R,q.filename=_.source,q.line=C,q.column=S,q.source=k,!_.silent)throw q}function D(R){var q=R.exec(k);if(q){var V=q[0];return j(V),k=k.slice(V.length),q}}function z(){D(n)}function $(R){var q;for(R=R||[];q=O();)q!==!1&&R.push(q);return R}function O(){var R=A();if(!(f!=k.charAt(0)||p!=k.charAt(1))){for(var q=2;m!=k.charAt(q)&&(p!=k.charAt(q)||f!=k.charAt(q+1));)++q;if(q+=2,m===k.charAt(q-1))return N("End of comment missing");var V=k.slice(2,q-2);return S+=2,j(V),k=k.slice(q),S+=2,R({type:g,comment:V})}}function B(){var R=A(),q=D(r);if(q){if(O(),!D(i))return N("property missing ':'");var V=D(s),Y=R({type:v,property:w(q[0].replace(e,m)),value:V?w(V[0].replace(e,m)):m});return D(l),Y}}function G(){var R=[];$(R);for(var q;q=B();)q!==!1&&(R.push(q),$(R));return R}return z(),G()}function w(k){return k?k.replace(u,m):m}return rf=b,rf}var Kw;function lq(){if(Kw)return Ri;Kw=1;var e=Ri&&Ri.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.default=n;const t=e(aq());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const l=(0,t.default)(r),u=typeof i=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:p}=c;u?i(f,p,c):p&&(s=s||{},s[f]=p)}),s}return Ri}var Ws={},Yw;function uq(){if(Yw)return Ws;Yw=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},c=function(f,p){return p===void 0&&(p={}),s(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return Ws.camelCase=c,Ws}var Ks,Xw;function cq(){if(Xw)return Ks;Xw=1;var e=Ks&&Ks.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(lq()),n=uq();function r(i,s){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,s)]=c)}),l}return r.default=r,Ks=r,Ks}var dq=cq();const fq=Yi(dq),v2=x2("end"),jv=x2("start");function x2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pq(e){const t=jv(e),n=v2(e);if(t&&n)return{start:t,end:n}}function ia(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qw(e.position):"start"in e||"end"in e?Qw(e):"line"in e||"column"in e?Jy(e):""}function Jy(e){return Zw(e&&e.line)+":"+Zw(e&&e.column)}function Qw(e){return Jy(e&&e.start)+"-"+Jy(e&&e.end)}function Zw(e){return e&&typeof e=="number"?e:1}class Dt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(l=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=ia(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Dt.prototype.file="";Dt.prototype.name="";Dt.prototype.reason="";Dt.prototype.message="";Dt.prototype.stack="";Dt.prototype.column=void 0;Dt.prototype.line=void 0;Dt.prototype.ancestors=void 0;Dt.prototype.cause=void 0;Dt.prototype.fatal=void 0;Dt.prototype.place=void 0;Dt.prototype.ruleId=void 0;Dt.prototype.source=void 0;const Tv={}.hasOwnProperty,hq=new Map,mq=/[A-Z]/g,gq=new Set(["table","tbody","thead","tfoot","tr"]),yq=new Set(["td","th"]),b2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Eq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Cq(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Nv:iq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=w2(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function w2(e,t,n){if(t.type==="element")return xq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return bq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return _q(e,t,n);if(t.type==="mdxjsEsm")return wq(e,t);if(t.type==="root")return kq(e,t,n);if(t.type==="text")return Sq(e,t)}function xq(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Nv,e.schema=i),e.ancestors.push(t);const s=k2(e,t.tagName,!1),l=Nq(e,t);let u=Pv(e,t);return gq.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!Y4(c):!0})),_2(e,l,s,t),Av(l,u),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function bq(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}xa(e,t.position)}function wq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xa(e,t.position)}function _q(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Nv,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:k2(e,t.name,!0),l=jq(e,t),u=Pv(e,t);return _2(e,l,s,t),Av(l,u),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function kq(e,t,n){const r={};return Av(r,Pv(e,t)),e.create(t,e.Fragment,r,n)}function Sq(e,t){return t.value}function _2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Av(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Cq(e,t,n){return r;function r(i,s,l,u){const f=Array.isArray(l.children)?n:t;return u?f(s,l,u):f(s,l)}}function Eq(e,t){return n;function n(r,i,s,l){const u=Array.isArray(s.children),c=jv(r);return t(i,s,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Nq(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Tv.call(t.properties,i)){const s=Tq(e,i,t.properties[i]);if(s){const[l,u]=s;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&yq.has(t.tagName)?r=u:n[l]=u}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const l=s.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else xa(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else xa(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Pv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:hq;for(;++r<t.children.length;){const s=t.children[r];let l;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const f=i.get(c)||0;l=c+"-"+f,i.set(c,f+1)}}const u=w2(e,s,l);u!==void 0&&n.push(u)}return n}function Tq(e,t,n){const r=nq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?V4(n):sq(n)),r.property==="style"){let i=typeof n=="object"?n:Aq(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Pq(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?J4[r.property]||r.property:r.attribute,n]}}function Aq(e,t){try{return fq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Dt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=b2+"#cannot-parse-style-attribute",i}}function k2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,l;for(;++s<i.length;){const u=Hw(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}r=l}else r=Hw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Tv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);xa(e)}function xa(e,t){const n=new Dt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=b2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Pq(e){const t={};let n;for(n in e)Tv.call(e,n)&&(t[Iq(n)]=e[n]);return t}function Iq(e){let t=e.replace(mq,Rq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Rq(e){return"-"+e.toLowerCase()}const of={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Mq={};function Oq(e,t){const n=Mq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return S2(e,r,i)}function S2(e,t,n){if(Lq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jw(e.children,t,n)}return Array.isArray(e)?Jw(e,t,n):""}function Jw(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=S2(e[i],t,n);return r.join("")}function Lq(e){return!!(e&&typeof e=="object")}const e1=document.createElement("i");function Iv(e){const t="&"+e+";";e1.innerHTML=t;const n=e1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Zn(e,t,n,r){const i=e.length;let s=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function bn(e,t){return e.length>0?(Zn(e,e.length,0,t),e):t}const t1={}.hasOwnProperty;function Dq(e){const t={};let n=-1;for(;++n<e.length;)qq(t,e[n]);return t}function qq(e,t){let n;for(n in t){const i=(t1.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){t1.call(i,l)||(i[l]=[]);const u=s[l];zq(i[l],Array.isArray(u)?u:u?[u]:[])}}}function zq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Zn(e,0,0,r)}function C2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Bi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yn=io(/[A-Za-z]/),dn=io(/[\dA-Za-z]/),Fq=io(/[#-'*+\--9=?A-Z^-~]/);function ev(e){return e!==null&&(e<32||e===127)}const tv=io(/\d/),Bq=io(/[\dA-Fa-f]/),$q=io(/[!-/:-@[-`{-~]/);function Oe(e){return e!==null&&e<-2}function Jt(e){return e!==null&&(e<0||e===32)}function Ge(e){return e===-2||e===-1||e===32}const Hq=io(new RegExp("\\p{P}|\\p{S}","u")),Vq=io(/\s/);function io(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Zi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&dn(e.charCodeAt(n+1))&&dn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(l=String.fromCharCode(s,u),i=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Je(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(c){return Ge(c)?(e.enter(n),u(c)):t(c)}function u(c){return Ge(c)&&s++<i?(e.consume(c),u):(e.exit(n),t(c))}}const Uq={tokenize:Gq};function Gq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Je(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),s(u)}function s(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Oe(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),l)}}const Wq={tokenize:Kq},n1={tokenize:Yq};function Kq(e){const t=this,n=[];let r=0,i,s,l;return u;function u(S){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,c,f)(S)}return f(S)}function c(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const j=t.events.length;let A=j,T;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){T=t.events[A][1].end;break}_(r);let N=j;for(;N<t.events.length;)t.events[N][1].end={...T},N++;return Zn(t.events,A+1,0,t.events.slice(j)),t.events.length=N,f(S)}return u(S)}function f(S){if(r===n.length){if(!i)return g(S);if(i.currentConstruct&&i.currentConstruct.concrete)return b(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(n1,p,m)(S)}function p(S){return i&&C(),_(r),g(S)}function m(S){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,b(S)}function g(S){return t.containerState={},e.attempt(n1,v,b)(S)}function v(S){return r++,n.push([t.currentConstruct,t.containerState]),g(S)}function b(S){if(S===null){i&&C(),_(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(S)}function w(S){if(S===null){k(e.exit("chunkFlow"),!0),_(0),e.consume(S);return}return Oe(S)?(e.consume(S),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(S),w)}function k(S,j){const A=t.sliceStream(S);if(j&&A.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(A),t.parser.lazy[S.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<l&&(!i.events[T][1].end||i.events[T][1].end.offset>l))return;const N=t.events.length;let D=N,z,$;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(z){$=t.events[D][1].end;break}z=!0}for(_(r),T=N;T<t.events.length;)t.events[T][1].end={...$},T++;Zn(t.events,D+1,0,t.events.slice(N)),t.events.length=T}}function _(S){let j=n.length;for(;j-- >S;){const A=n[j];t.containerState=A[1],A[0].exit.call(t,e)}n.length=S}function C(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Yq(e,t,n){return Je(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function r1(e){if(e===null||Jt(e)||Vq(e))return 1;if(Hq(e))return 2}function Rv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const nv={name:"attention",resolveAll:Xq,tokenize:Qq};function Xq(e,t){let n=-1,r,i,s,l,u,c,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},g={...e[n][1].start};o1(m,-c),o1(g,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=bn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=bn(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",s,t]]),f=bn(f,Rv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=bn(f,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=bn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Zn(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Qq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=r1(r);let s;return l;function l(c){return s=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===s)return e.consume(c),u;const f=e.exit("attentionSequence"),p=r1(c),m=!p||p===2&&i||n.includes(c),g=!i||i===2&&p||n.includes(r);return f._open=!!(s===42?m:m&&(i||!g)),f._close=!!(s===42?g:g&&(p||!m)),t(c)}}function o1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Zq={name:"autolink",tokenize:Jq};function Jq(e,t,n){let r=0;return i;function i(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(v){return Yn(v)?(e.consume(v),l):v===64?n(v):f(v)}function l(v){return v===43||v===45||v===46||dn(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(e.consume(v),r=0,c):(v===43||v===45||v===46||dn(v))&&r++<32?(e.consume(v),u):(r=0,f(v))}function c(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||ev(v)?n(v):(e.consume(v),c)}function f(v){return v===64?(e.consume(v),p):Fq(v)?(e.consume(v),f):n(v)}function p(v){return dn(v)?m(v):n(v)}function m(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):g(v)}function g(v){if((v===45||dn(v))&&r++<63){const b=v===45?g:m;return e.consume(v),b}return n(v)}}const $u={partial:!0,tokenize:ez};function ez(e,t,n){return r;function r(s){return Ge(s)?Je(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Oe(s)?t(s):n(s)}}const E2={continuation:{tokenize:nz},exit:rz,name:"blockQuote",tokenize:tz};function tz(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return Ge(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function nz(e,t,n){const r=this;return i;function i(l){return Ge(l)?Je(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(E2,t,n)(l)}}function rz(e){e.exit("blockQuote")}const N2={name:"characterEscape",tokenize:oz};function oz(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return $q(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const j2={name:"characterReference",tokenize:iz};function iz(e,t,n){const r=this;let i=0,s,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),c}function c(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),s=31,l=dn,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=Bq,p):(e.enter("characterReferenceValue"),s=7,l=tv,p(m))}function p(m){if(m===59&&i){const g=e.exit("characterReferenceValue");return l===dn&&!Iv(r.sliceSerialize(g))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&i++<s?(e.consume(m),p):n(m)}}const i1={partial:!0,tokenize:az},s1={concrete:!0,name:"codeFenced",tokenize:sz};function sz(e,t,n){const r=this,i={partial:!0,tokenize:A};let s=0,l=0,u;return c;function c(T){return f(T)}function f(T){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,u=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(T)}function p(T){return T===u?(l++,e.consume(T),p):l<3?n(T):(e.exit("codeFencedFenceSequence"),Ge(T)?Je(e,m,"whitespace")(T):m(T))}function m(T){return T===null||Oe(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(i1,w,j)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||Oe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(T)):Ge(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Je(e,v,"whitespace")(T)):T===96&&T===u?n(T):(e.consume(T),g)}function v(T){return T===null||Oe(T)?m(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===null||Oe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(T)):T===96&&T===u?n(T):(e.consume(T),b)}function w(T){return e.attempt(i,j,k)(T)}function k(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),_}function _(T){return s>0&&Ge(T)?Je(e,C,"linePrefix",s+1)(T):C(T)}function C(T){return T===null||Oe(T)?e.check(i1,w,j)(T):(e.enter("codeFlowValue"),S(T))}function S(T){return T===null||Oe(T)?(e.exit("codeFlowValue"),C(T)):(e.consume(T),S)}function j(T){return e.exit("codeFenced"),t(T)}function A(T,N,D){let z=0;return $;function $(q){return T.enter("lineEnding"),T.consume(q),T.exit("lineEnding"),O}function O(q){return T.enter("codeFencedFence"),Ge(q)?Je(T,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):B(q)}function B(q){return q===u?(T.enter("codeFencedFenceSequence"),G(q)):D(q)}function G(q){return q===u?(z++,T.consume(q),G):z>=l?(T.exit("codeFencedFenceSequence"),Ge(q)?Je(T,R,"whitespace")(q):R(q)):D(q)}function R(q){return q===null||Oe(q)?(T.exit("codeFencedFence"),N(q)):D(q)}}}function az(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const sf={name:"codeIndented",tokenize:uz},lz={partial:!0,tokenize:cz};function uz(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Je(e,s,"linePrefix",5)(f)}function s(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?c(f):Oe(f)?e.attempt(lz,l,c)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Oe(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function c(f){return e.exit("codeIndented"),t(f)}}function cz(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Je(e,s,"linePrefix",5)(l)}function s(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Oe(l)?i(l):n(l)}}const dz={name:"codeText",previous:pz,resolve:fz,tokenize:hz};function fz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function pz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hz(e,t,n){let r=0,i,s;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),c):m===96?(s=e.enter("codeTextSequence"),i=0,p(m)):Oe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Oe(m)?(e.exit("codeTextData"),c(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",f(m))}}class mz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ys(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ys(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ys(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ys(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ys(this.left,n.reverse())}}}function Ys(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function T2(e){const t={};let n=-1,r,i,s,l,u,c,f;const p=new mz(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,gz(p,n)),n=t[n],f=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(l=p.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return Zn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function gz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],f={};let p,m,g=-1,v=n,b=0,w=0;const k=[w];for(;v;){for(;e.get(++i)[1]!==v;);s.push(i),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),m&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(w=g+1,k.push(w),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):k.pop(),g=k.length;g--;){const _=u.slice(k[g],k[g+1]),C=s.pop();c.push([C,C+_.length-1]),e.splice(C,2,_)}for(c.reverse(),g=-1;++g<c.length;)f[b+c[g][0]]=b+c[g][1],b+=c[g][1]-c[g][0]-1;return f}const yz={resolve:xz,tokenize:bz},vz={partial:!0,tokenize:wz};function xz(e){return T2(e),e}function bz(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):Oe(u)?e.check(vz,l,s)(u):(e.consume(u),i)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wz(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Je(e,s,"linePrefix")}function s(l){if(l===null||Oe(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function A2(e,t,n,r,i,s,l,u,c){const f=c||Number.POSITIVE_INFINITY;let p=0;return m;function m(_){return _===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(_),e.exit(s),g):_===null||_===32||_===41||ev(_)?n(_):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),w(_))}function g(_){return _===62?(e.enter(s),e.consume(_),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===62?(e.exit("chunkString"),e.exit(u),g(_)):_===null||_===60||Oe(_)?n(_):(e.consume(_),_===92?b:v)}function b(_){return _===60||_===62||_===92?(e.consume(_),v):v(_)}function w(_){return!p&&(_===null||_===41||Jt(_))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(_)):p<f&&_===40?(e.consume(_),p++,w):_===41?(e.consume(_),p--,w):_===null||_===32||_===40||ev(_)?n(_):(e.consume(_),_===92?k:w)}function k(_){return _===40||_===41||_===92?(e.consume(_),w):w(_)}}function P2(e,t,n,r,i,s){const l=this;let u=0,c;return f;function f(v){return e.enter(r),e.enter(i),e.consume(v),e.exit(i),e.enter(s),p}function p(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(s),e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):Oe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||Oe(v)||u++>999?(e.exit("chunkString"),p(v)):(e.consume(v),c||(c=!Ge(v)),v===92?g:m)}function g(v){return v===91||v===92||v===93?(e.consume(v),u++,m):m(v)}}function I2(e,t,n,r,i,s){let l;return u;function u(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),l=g===40?41:g,c):n(g)}function c(g){return g===l?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),f(g))}function f(g){return g===l?(e.exit(s),c(l)):g===null?n(g):Oe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Je(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===l||g===null||Oe(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?m:p)}function m(g){return g===l||g===92?(e.consume(g),p):p(g)}}function sa(e,t){let n;return r;function r(i){return Oe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ge(i)?Je(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const _z={name:"definition",tokenize:Sz},kz={partial:!0,tokenize:Cz};function Sz(e,t,n){const r=this;let i;return s;function s(v){return e.enter("definition"),l(v)}function l(v){return P2.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=Bi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),c):n(v)}function c(v){return Jt(v)?sa(e,f)(v):f(v)}function f(v){return A2(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(kz,m,m)(v)}function m(v){return Ge(v)?Je(e,g,"whitespace")(v):g(v)}function g(v){return v===null||Oe(v)?(e.exit("definition"),r.parser.defined.push(i),t(v)):n(v)}}function Cz(e,t,n){return r;function r(u){return Jt(u)?sa(e,i)(u):n(u)}function i(u){return I2(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return Ge(u)?Je(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Oe(u)?t(u):n(u)}}const Ez={name:"hardBreakEscape",tokenize:Nz};function Nz(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Oe(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const jz={name:"headingAtx",resolve:Tz,tokenize:Az};function Tz(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Zn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Az(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),s(p)}function s(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||Jt(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),c(p)):p===null||Oe(p)?(e.exit("atxHeading"),t(p)):Ge(p)?Je(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function c(p){return p===35?(e.consume(p),c):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||Jt(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const Pz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],a1=["pre","script","style","textarea"],Iz={concrete:!0,name:"htmlFlow",resolveTo:Oz,tokenize:Lz},Rz={partial:!0,tokenize:qz},Mz={partial:!0,tokenize:Dz};function Oz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Lz(e,t,n){const r=this;let i,s,l,u,c;return f;function f(L){return p(L)}function p(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),m}function m(L){return L===33?(e.consume(L),g):L===47?(e.consume(L),s=!0,w):L===63?(e.consume(L),i=3,r.interrupt?t:I):Yn(L)?(e.consume(L),l=String.fromCharCode(L),k):n(L)}function g(L){return L===45?(e.consume(L),i=2,v):L===91?(e.consume(L),i=5,u=0,b):Yn(L)?(e.consume(L),i=4,r.interrupt?t:I):n(L)}function v(L){return L===45?(e.consume(L),r.interrupt?t:I):n(L)}function b(L){const U="CDATA[";return L===U.charCodeAt(u++)?(e.consume(L),u===U.length?r.interrupt?t:B:b):n(L)}function w(L){return Yn(L)?(e.consume(L),l=String.fromCharCode(L),k):n(L)}function k(L){if(L===null||L===47||L===62||Jt(L)){const U=L===47,ee=l.toLowerCase();return!U&&!s&&a1.includes(ee)?(i=1,r.interrupt?t(L):B(L)):Pz.includes(l.toLowerCase())?(i=6,U?(e.consume(L),_):r.interrupt?t(L):B(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):s?C(L):S(L))}return L===45||dn(L)?(e.consume(L),l+=String.fromCharCode(L),k):n(L)}function _(L){return L===62?(e.consume(L),r.interrupt?t:B):n(L)}function C(L){return Ge(L)?(e.consume(L),C):$(L)}function S(L){return L===47?(e.consume(L),$):L===58||L===95||Yn(L)?(e.consume(L),j):Ge(L)?(e.consume(L),S):$(L)}function j(L){return L===45||L===46||L===58||L===95||dn(L)?(e.consume(L),j):A(L)}function A(L){return L===61?(e.consume(L),T):Ge(L)?(e.consume(L),A):S(L)}function T(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),c=L,N):Ge(L)?(e.consume(L),T):D(L)}function N(L){return L===c?(e.consume(L),c=null,z):L===null||Oe(L)?n(L):(e.consume(L),N)}function D(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Jt(L)?A(L):(e.consume(L),D)}function z(L){return L===47||L===62||Ge(L)?S(L):n(L)}function $(L){return L===62?(e.consume(L),O):n(L)}function O(L){return L===null||Oe(L)?B(L):Ge(L)?(e.consume(L),O):n(L)}function B(L){return L===45&&i===2?(e.consume(L),V):L===60&&i===1?(e.consume(L),Y):L===62&&i===4?(e.consume(L),F):L===63&&i===3?(e.consume(L),I):L===93&&i===5?(e.consume(L),X):Oe(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Rz,K,G)(L)):L===null||Oe(L)?(e.exit("htmlFlowData"),G(L)):(e.consume(L),B)}function G(L){return e.check(Mz,R,K)(L)}function R(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),q}function q(L){return L===null||Oe(L)?G(L):(e.enter("htmlFlowData"),B(L))}function V(L){return L===45?(e.consume(L),I):B(L)}function Y(L){return L===47?(e.consume(L),l="",H):B(L)}function H(L){if(L===62){const U=l.toLowerCase();return a1.includes(U)?(e.consume(L),F):B(L)}return Yn(L)&&l.length<8?(e.consume(L),l+=String.fromCharCode(L),H):B(L)}function X(L){return L===93?(e.consume(L),I):B(L)}function I(L){return L===62?(e.consume(L),F):L===45&&i===2?(e.consume(L),I):B(L)}function F(L){return L===null||Oe(L)?(e.exit("htmlFlowData"),K(L)):(e.consume(L),F)}function K(L){return e.exit("htmlFlow"),t(L)}}function Dz(e,t,n){const r=this;return i;function i(l){return Oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function qz(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt($u,t,n)}}const zz={name:"htmlText",tokenize:Fz};function Fz(e,t,n){const r=this;let i,s,l;return u;function u(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),c}function c(I){return I===33?(e.consume(I),f):I===47?(e.consume(I),A):I===63?(e.consume(I),S):Yn(I)?(e.consume(I),D):n(I)}function f(I){return I===45?(e.consume(I),p):I===91?(e.consume(I),s=0,b):Yn(I)?(e.consume(I),C):n(I)}function p(I){return I===45?(e.consume(I),v):n(I)}function m(I){return I===null?n(I):I===45?(e.consume(I),g):Oe(I)?(l=m,Y(I)):(e.consume(I),m)}function g(I){return I===45?(e.consume(I),v):m(I)}function v(I){return I===62?V(I):I===45?g(I):m(I)}function b(I){const F="CDATA[";return I===F.charCodeAt(s++)?(e.consume(I),s===F.length?w:b):n(I)}function w(I){return I===null?n(I):I===93?(e.consume(I),k):Oe(I)?(l=w,Y(I)):(e.consume(I),w)}function k(I){return I===93?(e.consume(I),_):w(I)}function _(I){return I===62?V(I):I===93?(e.consume(I),_):w(I)}function C(I){return I===null||I===62?V(I):Oe(I)?(l=C,Y(I)):(e.consume(I),C)}function S(I){return I===null?n(I):I===63?(e.consume(I),j):Oe(I)?(l=S,Y(I)):(e.consume(I),S)}function j(I){return I===62?V(I):S(I)}function A(I){return Yn(I)?(e.consume(I),T):n(I)}function T(I){return I===45||dn(I)?(e.consume(I),T):N(I)}function N(I){return Oe(I)?(l=N,Y(I)):Ge(I)?(e.consume(I),N):V(I)}function D(I){return I===45||dn(I)?(e.consume(I),D):I===47||I===62||Jt(I)?z(I):n(I)}function z(I){return I===47?(e.consume(I),V):I===58||I===95||Yn(I)?(e.consume(I),$):Oe(I)?(l=z,Y(I)):Ge(I)?(e.consume(I),z):V(I)}function $(I){return I===45||I===46||I===58||I===95||dn(I)?(e.consume(I),$):O(I)}function O(I){return I===61?(e.consume(I),B):Oe(I)?(l=O,Y(I)):Ge(I)?(e.consume(I),O):z(I)}function B(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,G):Oe(I)?(l=B,Y(I)):Ge(I)?(e.consume(I),B):(e.consume(I),R)}function G(I){return I===i?(e.consume(I),i=void 0,q):I===null?n(I):Oe(I)?(l=G,Y(I)):(e.consume(I),G)}function R(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Jt(I)?z(I):(e.consume(I),R)}function q(I){return I===47||I===62||Jt(I)?z(I):n(I)}function V(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function Y(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),H}function H(I){return Ge(I)?Je(e,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):X(I)}function X(I){return e.enter("htmlTextData"),l(I)}}const Mv={name:"labelEnd",resolveAll:Vz,resolveTo:Uz,tokenize:Gz},Bz={tokenize:Wz},$z={tokenize:Kz},Hz={tokenize:Yz};function Vz(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Zn(e,0,e.length,n),e}function Uz(e,t){let n=e.length,r=0,i,s,l,u;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",f,t]],u=bn(u,e.slice(s+1,s+r+3)),u=bn(u,[["enter",p,t]]),u=bn(u,Rv(t.parser.constructs.insideSpan.null,e.slice(s+r+4,l-3),t)),u=bn(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=bn(u,e.slice(l+1)),u=bn(u,[["exit",c,t]]),Zn(e,s,e.length,u),e}function Gz(e,t,n){const r=this;let i=r.events.length,s,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(g){return s?s._inactive?m(g):(l=r.parser.defined.includes(Bi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),c):n(g)}function c(g){return g===40?e.attempt(Bz,p,l?p:m)(g):g===91?e.attempt($z,p,l?f:m)(g):l?p(g):m(g)}function f(g){return e.attempt(Hz,p,m)(g)}function p(g){return t(g)}function m(g){return s._balanced=!0,n(g)}}function Wz(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return Jt(m)?sa(e,s)(m):s(m)}function s(m){return m===41?p(m):A2(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Jt(m)?sa(e,c)(m):p(m)}function u(m){return n(m)}function c(m){return m===34||m===39||m===40?I2(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Jt(m)?sa(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function Kz(e,t,n){const r=this;return i;function i(u){return P2.call(r,e,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Bi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Yz(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Xz={name:"labelStartImage",resolveAll:Mv.resolveAll,tokenize:Qz};function Qz(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const Zz={name:"labelStartLink",resolveAll:Mv.resolveAll,tokenize:Jz};function Jz(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const af={name:"lineEnding",tokenize:eF};function eF(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Je(e,t,"linePrefix")}}const cu={name:"thematicBreak",tokenize:tF};function tF(e,t,n){let r=0,i;return s;function s(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||Oe(f))?(e.exit("thematicBreak"),t(f)):n(f)}function c(f){return f===i?(e.consume(f),r++,c):(e.exit("thematicBreakSequence"),Ge(f)?Je(e,u,"whitespace")(f):u(f))}}const Xt={continuation:{tokenize:iF},exit:aF,name:"list",tokenize:oF},nF={partial:!0,tokenize:lF},rF={partial:!0,tokenize:sF};function oF(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(v){const b=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:tv(v)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(cu,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(v)}return n(v)}function c(v){return tv(v)&&++l<10?(e.consume(v),c):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check($u,r.interrupt?n:p,e.attempt(nF,g,m))}function p(v){return r.containerState.initialBlankLine=!0,s++,g(v)}function m(v){return Ge(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function iF(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($u,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Je(e,t,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!Ge(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(rF,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Je(e,e.attempt(Xt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function sF(e,t,n){const r=this;return Je(e,i,"listItemIndent",r.containerState.size+1);function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(s):n(s)}}function aF(e){e.exit(this.containerState.type)}function lF(e,t,n){const r=this;return Je(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const l=r.events[r.events.length-1];return!Ge(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const l1={name:"setextUnderline",resolveTo:uF,tokenize:cF};function uF(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",l,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function cF(e,t,n){const r=this;let i;return s;function s(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Ge(f)?Je(e,c,"lineSuffix")(f):c(f))}function c(f){return f===null||Oe(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const dF={tokenize:fF};function fF(e){const t=this,n=e.attempt($u,r,e.attempt(this.parser.constructs.flowInitial,i,Je(e,e.attempt(this.parser.constructs.flow,i,e.attempt(yz,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const pF={resolveAll:M2()},hF=R2("string"),mF=R2("text");function R2(e){return{resolveAll:M2(e==="text"?gF:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,l,u);return l;function l(p){return f(p)?s(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),c}function c(p){return f(p)?(n.exit("data"),s(p)):(n.consume(p),c)}function f(p){if(p===null)return!0;const m=i[p];let g=-1;if(m)for(;++g<m.length;){const v=m[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function M2(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function gF(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,l=-1,u=0,c;for(;s--;){const f=i[s];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)c=!0,u++;else if(f!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const yF={42:Xt,43:Xt,45:Xt,48:Xt,49:Xt,50:Xt,51:Xt,52:Xt,53:Xt,54:Xt,55:Xt,56:Xt,57:Xt,62:E2},vF={91:_z},xF={[-2]:sf,[-1]:sf,32:sf},bF={35:jz,42:cu,45:[l1,cu],60:Iz,61:l1,95:cu,96:s1,126:s1},wF={38:j2,92:N2},_F={[-5]:af,[-4]:af,[-3]:af,33:Xz,38:j2,42:nv,60:[Zq,zz],91:Zz,92:[Ez,N2],93:Mv,95:nv,96:dz},kF={null:[nv,pF]},SF={null:[42,95]},CF={null:[]},EF=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SF,contentInitial:vF,disable:CF,document:yF,flow:bF,flowInitial:xF,insideSpan:kF,string:wF,text:_F},Symbol.toStringTag,{value:"Module"}));function NF(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let l=[],u=[];const c={attempt:N(A),check:N(T),consume:C,enter:S,exit:j,interrupt:N(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:v,write:m};let p=t.tokenize.call(f,c);return t.resolveAll&&s.push(t),f;function m(O){return l=bn(l,O),k(),l[l.length-1]!==null?[]:(D(t,0),f.events=Rv(s,f.events,f),f.events)}function g(O,B){return TF(v(O),B)}function v(O){return jF(l,O)}function b(){const{_bufferIndex:O,_index:B,line:G,column:R,offset:q}=r;return{_bufferIndex:O,_index:B,line:G,column:R,offset:q}}function w(O){i[O.line]=O.column,$()}function k(){let O;for(;r._index<l.length;){const B=l[r._index];if(typeof B=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<B.length;)_(B.charCodeAt(r._bufferIndex));else _(B)}}function _(O){p=p(O)}function C(O){Oe(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,$()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=O}function S(O,B){const G=B||{};return G.type=O,G.start=b(),f.events.push(["enter",G,f]),u.push(G),G}function j(O){const B=u.pop();return B.end=b(),f.events.push(["exit",B,f]),B}function A(O,B){D(O,B.from)}function T(O,B){B.restore()}function N(O,B){return G;function G(R,q,V){let Y,H,X,I;return Array.isArray(R)?K(R):"tokenize"in R?K([R]):F(R);function F(J){return Q;function Q(ne){const ae=ne!==null&&J[ne],fe=ne!==null&&J.null,ve=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return K(ve)(ne)}}function K(J){return Y=J,H=0,J.length===0?V:L(J[H])}function L(J){return Q;function Q(ne){return I=z(),X=J,J.partial||(f.currentConstruct=J),J.name&&f.parser.constructs.disable.null.includes(J.name)?ee():J.tokenize.call(B?Object.assign(Object.create(f),B):f,c,U,ee)(ne)}}function U(J){return O(X,I),q}function ee(J){return I.restore(),++H<Y.length?L(Y[H]):V}}}function D(O,B){O.resolveAll&&!s.includes(O)&&s.push(O),O.resolve&&Zn(f.events,B,f.events.length-B,O.resolve(f.events.slice(B),f)),O.resolveTo&&(f.events=O.resolveTo(f.events,f))}function z(){const O=b(),B=f.previous,G=f.currentConstruct,R=f.events.length,q=Array.from(u);return{from:R,restore:V};function V(){r=O,f.previous=B,f.currentConstruct=G,f.events.length=R,u=q,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function jF(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,s)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}s>0&&l.push(e[i].slice(0,s))}return l}function TF(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(s)}i=s===-2,r.push(l)}return r.join("")}function AF(e){const r={constructs:Dq([EF,...(e||{}).extensions||[]]),content:i(Uq),defined:[],document:i(Wq),flow:i(dF),lazy:{},string:i(hF),text:i(mF)};return r;function i(s){return l;function l(u){return NF(r,s,u)}}}function PF(e){for(;!T2(e););return e}const u1=/[\0\t\n\r]/g;function IF(){let e=1,t="",n=!0,r;return i;function i(s,l,u){const c=[];let f,p,m,g,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(u1.lastIndex=m,f=u1.exec(s),g=f&&f.index!==void 0?f.index:s.length,v=s.charCodeAt(g),!f){t=s.slice(m);break}if(v===10&&m===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<g&&(c.push(s.slice(m,g)),e+=g-m),v){case 0:{c.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,c.push(-2);e++<p;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}m=g+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const RF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MF(e){return e.replace(RF,OF)}function OF(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return C2(n.slice(s?2:1),s?16:10)}return Iv(n)||e}const O2={}.hasOwnProperty;function LF(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DF(n)(PF(AF(n).document().write(IF()(e,t,!0))))}function DF(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(We),autolinkProtocol:z,autolinkEmail:z,atxHeading:s(we),blockQuote:s(fe),characterEscape:z,characterReference:z,codeFenced:s(ve),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(ve,l),codeText:s(Ce,l),codeTextData:z,data:z,codeFlowValue:z,definition:s(xe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(Ae),hardBreakEscape:s(Le),hardBreakTrailing:s(Le),htmlFlow:s(Ne,l),htmlFlowData:z,htmlText:s(Ne,l),htmlTextData:z,image:s(it),label:l,link:s(We),listItem:s(Fe),listItemValue:g,listOrdered:s(dt,m),listUnordered:s(dt),paragraph:s(st),reference:L,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(we),strong:s(He),thematicBreak:s(ye)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:ae,autolinkProtocol:ne,blockQuote:c(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:J,characterReference:Q,codeFenced:c(k),codeFencedFence:w,codeFencedFenceInfo:v,codeFencedFenceMeta:b,codeFlowValue:$,codeIndented:c(_),codeText:c(q),codeTextData:$,data:$,definition:c(),definitionDestinationString:j,definitionLabelString:C,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(G),htmlFlowData:$,htmlText:c(R),htmlTextData:$,image:c(Y),label:X,labelText:H,lineEnding:O,link:c(V),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:U,resourceDestinationString:I,resourceTitleString:F,resource:K,setextHeading:c(D),setextHeadingLineSequence:N,setextHeadingText:T,strong:c(),thematicBreak:c()}};L2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let de={type:"root",children:[]};const je={stack:[de],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},Re=[];let De=-1;for(;++De<ie.length;)if(ie[De][1].type==="listOrdered"||ie[De][1].type==="listUnordered")if(ie[De][0]==="enter")Re.push(De);else{const ft=Re.pop();De=i(ie,ft,De)}for(De=-1;++De<ie.length;){const ft=t[ie[De][0]];O2.call(ft,ie[De][1].type)&&ft[ie[De][1].type].call(Object.assign({sliceSerialize:ie[De][2].sliceSerialize},je),ie[De][1])}if(je.tokenStack.length>0){const ft=je.tokenStack[je.tokenStack.length-1];(ft[1]||c1).call(je,void 0,ft[0])}for(de.position={start:Jr(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:Jr(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<t.transforms.length;)de=t.transforms[De](de)||de;return de}function i(ie,de,je){let Re=de-1,De=-1,ft=!1,Xe,et,Ke,kn;for(;++Re<=je;){const at=ie[Re];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?De++:De--,kn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(Xe&&!kn&&!De&&!Ke&&(Ke=Re),kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kn=void 0}if(!De&&at[0]==="enter"&&at[1].type==="listItemPrefix"||De===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(Xe){let $t=Re;for(et=void 0;$t--;){const St=ie[$t];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;et&&(ie[et][1].type="lineEndingBlank",ft=!0),St[1].type="lineEnding",et=$t}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}Ke&&(!et||Ke<et)&&(Xe._spread=!0),Xe.end=Object.assign({},et?ie[et][1].start:at[1].end),ie.splice(et||Re,0,["exit",Xe,at[2]]),Re++,je++}if(at[1].type==="listItemPrefix"){const $t={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};Xe=$t,ie.splice(Re,0,["enter",$t,at[2]]),Re++,je++,Ke=void 0,kn=!0}}}return ie[de][1]._spread=ft,je}function s(ie,de){return je;function je(Re){u.call(this,ie(Re),Re),de&&de.call(this,Re)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(ie,de,je){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([de,je||void 0]),ie.position={start:Jr(de.start),end:void 0}}function c(ie){return de;function de(je){ie&&ie.call(this,je),f.call(this,je)}}function f(ie,de){const je=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==ie.type&&(de?de.call(this,ie,Re[0]):(Re[1]||c1).call(this,ie,Re[0]));else throw new Error("Cannot close `"+ie.type+"` ("+ia({start:ie.start,end:ie.end})+"): its not open");je.position.end=Jr(ie.end)}function p(){return Oq(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(ie){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.lang=ie}function b(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.meta=ie}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie.replace(/(\r?\n|\r)$/g,"")}function C(ie){const de=this.resume(),je=this.stack[this.stack.length-1];je.label=de,je.identifier=Bi(this.sliceSerialize(ie)).toLowerCase()}function S(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.title=ie}function j(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.url=ie}function A(ie){const de=this.stack[this.stack.length-1];if(!de.depth){const je=this.sliceSerialize(ie).length;de.depth=je}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function N(ie){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function z(ie){const je=this.stack[this.stack.length-1].children;let Re=je[je.length-1];(!Re||Re.type!=="text")&&(Re=gt(),Re.position={start:Jr(ie.start),end:void 0},je.push(Re)),this.stack.push(Re)}function $(ie){const de=this.stack.pop();de.value+=this.sliceSerialize(ie),de.position.end=Jr(ie.end)}function O(ie){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const je=de.children[de.children.length-1];je.position.end=Jr(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(de.type)&&(z.call(this,ie),$.call(this,ie))}function B(){this.data.atHardBreak=!0}function G(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function R(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function q(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.value=ie}function V(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=de,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function Y(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=de,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function H(ie){const de=this.sliceSerialize(ie),je=this.stack[this.stack.length-2];je.label=MF(de),je.identifier=Bi(de).toLowerCase()}function X(){const ie=this.stack[this.stack.length-1],de=this.resume(),je=this.stack[this.stack.length-1];if(this.data.inReference=!0,je.type==="link"){const Re=ie.children;je.children=Re}else je.alt=de}function I(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.url=ie}function F(){const ie=this.resume(),de=this.stack[this.stack.length-1];de.title=ie}function K(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function U(ie){const de=this.resume(),je=this.stack[this.stack.length-1];je.label=de,je.identifier=Bi(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function ee(ie){this.data.characterReferenceType=ie.type}function J(ie){const de=this.sliceSerialize(ie),je=this.data.characterReferenceType;let Re;je?(Re=C2(de,je==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=Iv(de);const De=this.stack[this.stack.length-1];De.value+=Re}function Q(ie){const de=this.stack.pop();de.position.end=Jr(ie.end)}function ne(ie){$.call(this,ie);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ie)}function ae(ie){$.call(this,ie);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ie)}function fe(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:0,children:[]}}function Le(){return{type:"break"}}function Ne(){return{type:"html",value:""}}function it(){return{type:"image",title:null,url:"",alt:null}}function We(){return{type:"link",title:null,url:"",children:[]}}function dt(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function Fe(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function He(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}function Jr(e){return{line:e.line,column:e.column,offset:e.offset}}function L2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?L2(e,r):qF(e,r)}}function qF(e,t){let n;for(n in t)if(O2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function c1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ia({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ia({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ia({start:t.start,end:t.end})+") is still open")}function zF(e){const t=this;t.parser=n;function n(r){return LF(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function FF(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BF(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $F(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function HF(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VF(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UF(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Zi(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=s+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,f),e.applyData(t,f)}function GF(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WF(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function D2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function KF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return D2(e,t);const i={src:Zi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function YF(e,t){const n={src:Zi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function XF(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function QF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return D2(e,t);const i={href:Zi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function ZF(e,t){const n={href:Zi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function JF(e,t,n){const r=e.all(t),i=n?e5(n):q2(t),s={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?l.push(...p.children):l.push(p)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,f),e.applyData(t,f)}function e5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=q2(n[r])}return t}function q2(e){const t=e.spread;return t??e.children.length>1}function t5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function n5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function r5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function o5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function i5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=jv(t.children[1]),c=v2(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function s5(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const f=[];for(;++c<u;){const m=t.children[c],g={},v=l?l[c]:void 0;v&&(g.align=v);let b={type:"element",tagName:s,properties:g,children:[]};m&&(b.children=e.all(m),e.patch(m,b),b=e.applyData(m,b)),f.push(b)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function a5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const d1=9,f1=32;function l5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(p1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(p1(t.slice(i),i>0,!1)),s.join("")}function p1(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===d1||s===f1;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===d1||s===f1;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function u5(e,t){const n={type:"text",value:l5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function c5(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const d5={blockquote:FF,break:BF,code:$F,delete:HF,emphasis:VF,footnoteReference:UF,heading:GF,html:WF,imageReference:KF,image:YF,inlineCode:XF,linkReference:QF,link:ZF,listItem:JF,list:t5,paragraph:n5,root:r5,strong:o5,table:i5,tableCell:a5,tableRow:s5,text:u5,thematicBreak:c5,toml:Ql,yaml:Ql,definition:Ql,footnoteDefinition:Ql};function Ql(){}const z2=-1,Hu=0,aa=1,ku=2,Ov=3,Lv=4,Dv=5,qv=6,F2=7,B2=8,h1=typeof self=="object"?self:globalThis,f5=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,l]=t[i];switch(s){case Hu:case z2:return n(l,i);case aa:{const u=n([],i);for(const c of l)u.push(r(c));return u}case ku:{const u=n({},i);for(const[c,f]of l)u[r(c)]=r(f);return u}case Ov:return n(new Date(l),i);case Lv:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case Dv:{const u=n(new Map,i);for(const[c,f]of l)u.set(r(c),r(f));return u}case qv:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case F2:{const{name:u,message:c}=l;return n(new h1[u](c),i)}case B2:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new h1[s](l),i)};return r},m1=e=>f5(new Map,e)(0),Mi="",{toString:p5}={},{keys:h5}=Object,Xs=e=>{const t=typeof e;if(t!=="object"||!e)return[Hu,t];const n=p5.call(e).slice(8,-1);switch(n){case"Array":return[aa,Mi];case"Object":return[ku,Mi];case"Date":return[Ov,Mi];case"RegExp":return[Lv,Mi];case"Map":return[Dv,Mi];case"Set":return[qv,Mi];case"DataView":return[aa,n]}return n.includes("Array")?[aa,n]:n.includes("Error")?[F2,n]:[ku,n]},Zl=([e,t])=>e===Hu&&(t==="function"||t==="symbol"),m5=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},s=l=>{if(n.has(l))return n.get(l);let[u,c]=Xs(l);switch(u){case Hu:{let p=l;switch(c){case"bigint":u=B2,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return i([z2],l)}return i([u,p],l)}case aa:{if(c){let g=l;return c==="DataView"?g=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(l)),i([c,[...g]],l)}const p=[],m=i([u,p],l);for(const g of l)p.push(s(g));return m}case ku:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const p=[],m=i([u,p],l);for(const g of h5(l))(e||!Zl(Xs(l[g])))&&p.push([s(g),s(l[g])]);return m}case Ov:return i([u,l.toISOString()],l);case Lv:{const{source:p,flags:m}=l;return i([u,{source:p,flags:m}],l)}case Dv:{const p=[],m=i([u,p],l);for(const[g,v]of l)(e||!(Zl(Xs(g))||Zl(Xs(v))))&&p.push([s(g),s(v)]);return m}case qv:{const p=[],m=i([u,p],l);for(const g of l)(e||!Zl(Xs(g)))&&p.push(s(g));return m}}const{message:f}=l;return i([u,{name:c,message:f}],l)};return s},g1=(e,{json:t,lossy:n}={})=>{const r=[];return m5(!(t||n),!!t,new Map,r)(e),r},Su=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?m1(g1(e,t)):structuredClone(e):(e,t)=>m1(g1(e,t));function g5(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function y5(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function v5(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||g5,r=e.options.footnoteBackLabel||y5,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[c]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),g=Zi(m.toLowerCase());let v=0;const b=[],w=e.footnoteCounts.get(m);for(;w!==void 0&&++v<=w;){b.length>0&&b.push({type:"text",value:" "});let C=typeof n=="string"?n:n(c,v);typeof C=="string"&&(C={type:"text",value:C}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const k=p[p.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const C=k.children[k.children.length-1];C&&C.type==="text"?C.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...b)}else p.push(...b);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(f,_),u.push(_)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Su(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const $2=(function(e){if(e==null)return _5;if(typeof e=="function")return Vu(e);if(typeof e=="object")return Array.isArray(e)?x5(e):b5(e);if(typeof e=="string")return w5(e);throw new Error("Expected function, string, or object as test")});function x5(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$2(e[n]);return Vu(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function b5(e){const t=e;return Vu(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function w5(e){return Vu(t);function t(n){return n&&n.type===e}}function Vu(e){return t;function t(n,r,i){return!!(k5(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _5(){return!0}function k5(e){return e!==null&&typeof e=="object"&&"type"in e}const H2=[],S5=!0,y1=!1,C5="skip";function E5(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=$2(i),l=r?-1:1;u(e,void 0,[])();function u(c,f,p){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=H2,b,w,k;if((!t||s(c,f,p[p.length-1]||void 0))&&(v=N5(n(c,p)),v[0]===y1))return v;if("children"in c&&c.children){const _=c;if(_.children&&v[0]!==C5)for(w=(r?_.children.length:-1)+l,k=p.concat(_);w>-1&&w<_.children.length;){const C=_.children[w];if(b=u(C,w,k)(),b[0]===y1)return b;w=typeof b[1]=="number"?b[1]:w+l}}return v}}}function N5(e){return Array.isArray(e)?e:typeof e=="number"?[S5,e]:e==null?H2:[e]}function V2(e,t,n,r){let i,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,i=n):(s=t,l=n,i=r),E5(e,s,u,i);function u(c,f){const p=f[f.length-1],m=p?p.children.indexOf(c):void 0;return l(c,m,p)}}const rv={}.hasOwnProperty,j5={};function T5(e,t){const n=t||j5,r=new Map,i=new Map,s=new Map,l={...d5,...n.handlers},u={all:f,applyData:P5,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:l,one:c,options:n,patch:A5,wrap:R5};return V2(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:i,g=String(p.identifier).toUpperCase();m.has(g)||m.set(g,p)}}),u;function c(p,m){const g=p.type,v=u.handlers[g];if(rv.call(u.handlers,g)&&v)return v(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in p){const{children:w,...k}=p,_=Su(k);return _.children=u.all(p),_}return Su(p)}return(u.options.unknownHandler||I5)(u,p,m)}function f(p){const m=[];if("children"in p){const g=p.children;let v=-1;for(;++v<g.length;){const b=u.one(g[v],p);if(b){if(v&&g[v-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=v1(b.value)),!Array.isArray(b)&&b.type==="element")){const w=b.children[0];w&&w.type==="text"&&(w.value=v1(w.value))}Array.isArray(b)?m.push(...b):m.push(b)}}}return m}}function A5(e,t){e.position&&(t.position=pq(e))}function P5(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,Su(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function I5(e,t){const n=t.data||{},r="value"in t&&!(rv.call(n,"hProperties")||rv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function R5(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function v1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function x1(e,t){const n=T5(e,t),r=n.one(e,void 0),i=v5(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function M5(e,t){return e&&"run"in e?async function(n,r){const i=x1(n,{file:r,...t});await e.run(i,r)}:function(n,r){return x1(n,{file:r,...e||t})}}function b1(e){if(e)throw e}var lf,w1;function O5(){if(w1)return lf;w1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},s=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return lf=function c(){var f,p,m,g,v,b,w=arguments[0],k=1,_=arguments.length,C=!1;for(typeof w=="boolean"&&(C=w,w=arguments[1]||{},k=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});k<_;++k)if(f=arguments[k],f!=null)for(p in f)m=u(w,p),g=u(f,p),w!==g&&(C&&g&&(s(g)||(v=i(g)))?(v?(v=!1,b=m&&i(m)?m:[]):b=m&&s(m)?m:{},l(w,{name:p,newValue:c(C,b,g)})):typeof g<"u"&&l(w,{name:p,newValue:g}));return w},lf}var L5=O5();const uf=Yi(L5);function ov(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D5(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...f){const p=e[++s];let m=-1;if(c){l(c);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?q5(p,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function q5(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(l,...u){n||(n=!0,t(l,...u))}function s(l){i(null,l)}}const Wn={basename:z5,dirname:F5,extname:B5,join:$5,sep:"/"};function z5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Aa(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else l<0&&(s=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function F5(e){if(Aa(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function B5(e){Aa(e);let t=e.length,n=-1,r=0,i=-1,s=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function $5(...e){let t=-1,n;for(;++t<e.length;)Aa(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":H5(n)}function H5(e){Aa(e);const t=e.codePointAt(0)===47;let n=V5(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function V5(e,t){let n="",r=0,i=-1,s=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length>0){n="",r=0,i=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,s=0}else u===46&&s>-1?s++:s=-1}return n}function Aa(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const U5={cwd:G5};function G5(){return"/"}function iv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function W5(e){if(typeof e=="string")e=new URL(e);else if(!iv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return K5(e)}function K5(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const cf=["history","path","basename","stem","extname","dirname"];class U2{constructor(t){let n;t?iv(t)?n={path:t}:typeof t=="string"||Y5(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":U5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cf.length;){const s=cf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)cf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Wn.basename(this.path):void 0}set basename(t){ff(t,"basename"),df(t,"basename"),this.path=Wn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Wn.dirname(this.path):void 0}set dirname(t){_1(this.basename,"dirname"),this.path=Wn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Wn.extname(this.path):void 0}set extname(t){if(df(t,"extname"),_1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Wn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){iv(t)&&(t=W5(t)),ff(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Wn.basename(this.path,this.extname):void 0}set stem(t){ff(t,"stem"),df(t,"stem"),this.path=Wn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Dt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function df(e,t){if(e&&e.includes(Wn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Wn.sep+"`")}function ff(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Y5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const X5=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Q5={}.hasOwnProperty;class zv extends X5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=D5()}copy(){const t=new zv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(uf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(mf("data",this.frozen),this.namespace[t]=n,this):Q5.call(this.namespace,t)&&this.namespace[t]||void 0:t?(mf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Jl(t),r=this.parser||this.Parser;return pf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),pf("process",this.parser||this.Parser),hf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,l){const u=Jl(t),c=r.parse(u);r.run(c,u,function(p,m,g){if(p||!m||!g)return f(p);const v=m,b=r.stringify(v,g);eB(b)?g.value=b:g.result=b,f(p,g)});function f(p,m){p||!m?l(p):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),pf("processSync",this.parser||this.Parser),hf("processSync",this.compiler||this.Compiler),this.process(t,i),S1("processSync","process",n),r;function i(s,l){n=!0,b1(s),r=l}}run(t,n,r){k1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,u){const c=Jl(n);i.run(t,c,f);function f(p,m,g){const v=m||t;p?u(p):l?l(v):r(void 0,v,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),S1("runSync","run",r),i;function s(l,u){b1(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Jl(n),i=this.compiler||this.Compiler;return hf("stringify",i),k1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(mf("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;c(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=uf(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,p){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===f){g=m;break}if(g===-1)r.push([f,...p]);else if(p.length>0){let[v,...b]=p;const w=r[g][1];ov(w)&&ov(v)&&(v=uf(!0,w,v)),r[g]=[f,v,...b]}}}}const Z5=new zv().freeze();function pf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function hf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function mf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function k1(e){if(!ov(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function S1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Jl(e){return J5(e)?e:new U2(e)}function J5(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function eB(e){return typeof e=="string"||tB(e)}function tB(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nB="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C1=[],E1={allowDangerousHtml:!0},rB=/^(https?|ircs?|mailto|xmpp)$/i,oB=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N1(e){const t=iB(e),n=sB(e);return aB(t.runSync(t.parse(n),n),e)}function iB(e){const t=e.rehypePlugins||C1,n=e.remarkPlugins||C1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...E1}:E1;return Z5().use(zF).use(n).use(M5,r).use(t)}function sB(e){const t=e.children||"",n=new U2;return typeof t=="string"&&(n.value=t),n}function aB(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||lB;for(const p of oB)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+nB+p.id,void 0);return V2(e,f),vq(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function f(p,m,g){if(p.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in of)if(Object.hasOwn(of,v)&&Object.hasOwn(p.properties,v)){const b=p.properties[v],w=of[v];(w===null||w.includes(p.tagName))&&(p.properties[v]=c(String(b||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!v&&r&&typeof m=="number"&&(v=!r(p,m,g)),v&&g&&typeof m=="number")return u&&p.children?g.children.splice(m,1,...p.children):g.children.splice(m,1),m}}}function lB(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||rB.test(e.slice(0,t))?e:""}function uB(e){try{return JSON.parse(e)}catch{return null}}function cB(e,t,n){return e.state_snapshot?{nodeId:t,timestamp:Date.now(),inputState:e.state_snapshot.input||{},outputState:e.state_snapshot.output||{},duration:e.duration_ms||0,status:n}:null}function dB(e,t){const[n,r]=P.useState(!1),[i,s]=P.useState(""),[l,u]=P.useState(""),[c,f]=P.useState([]),[p,m]=P.useState([]),[g,v]=P.useState(null),[b,w]=P.useState(0),[k,_]=P.useState([]),[C,S]=P.useState(-1),[j,A]=P.useState(new Map),T=P.useRef(null),N=P.useRef(""),D=P.useRef(""),z=P.useRef(null),$=P.useRef(0),O=P.useRef(new Set),B=(I,F,K,L)=>{m(U=>[...U,{type:I,timestamp:Date.now(),data:F,agent:K||D.current,screenshot:L}])},G=P.useCallback(I=>{_(F=>{const K=[...F,I];return K.length>100&&K.shift(),K}),S(F=>F+1)},[]),R=P.useCallback((I,F)=>{A(K=>{const L=new Map(K);return L.set(I,F),L})},[]),q=P.useCallback(I=>{S(Math.max(0,Math.min(I,k.length-1)))},[k.length]),V=P.useCallback((I,F,K)=>{if(!e)return;N.current="",D.current="",$.current=0,O.current=new Set,s(""),u(""),f([]),w(0),_([]),S(-1),A(new Map),m(J=>[...J,{type:"user",timestamp:Date.now(),data:I}]),r(!0);const L=new URLSearchParams({input:I});t&&L.set("binary_path",t),z.current&&L.set("session_id",z.current);const U=new EventSource(`/api/projects/${e}/stream?${L}`);T.current=U;let ee=!1;U.addEventListener("session",J=>{z.current=J.data,v(J.data)}),U.addEventListener("agent",J=>{N.current&&(N.current+=`

`,s(N.current)),D.current=J.data,u(J.data),B("agent_start","runtime",J.data)}),U.addEventListener("chunk",J=>{N.current=J.data,s(N.current)}),U.addEventListener("trace",J=>{const Q=uB(J.data);if(Q){if(Q.type==="node_start"){const ne=Q.node||"";O.current.has(ne)&&($.current++,w($.current),O.current.clear()),O.current.add(ne),D.current=ne,u(ne),B("agent_start",`Iter ${$.current+1}, Step ${Q.step}`,ne),Q.state_keys&&Q.state_keys.length>0&&R(ne,Q.state_keys)}else if(Q.type==="node_end"){const ne=Q.node||"";B("agent_end",`${Q.duration_ms}ms`,ne);const ae=cB(Q,ne,"success");ae&&(ae.step=Q.step,G(ae)),Q.state_keys&&Q.state_keys.length>0&&R(ne,Q.state_keys)}else if(Q.type==="state"){const ne=Q.state||Q.state_snapshot?.output||{};if(ne.response){const ae=typeof ne.response=="string"?ne.response:JSON.stringify(ne.response);B("model",ae.slice(0,100)+(ae.length>100?"...":""),D.current)}}else if(Q.type==="done"){const ne=Q.state||Q.state_snapshot?.output||{};if(ne.response){const ae=typeof ne.response=="string"?ne.response:JSON.stringify(ne.response);B("model",ae.slice(0,150)+(ae.length>150?"...":""))}B("done",`${Q.total_steps} steps`),Q.state_snapshot&&_(ae=>{if(ae.length===0)return ae;const fe=[...ae],ve=fe.length-1;return fe[ve]&&fe[ve].nodeId!=="__done__"&&(fe[ve]={...fe[ve],outputState:Q.state_snapshot?.output||fe[ve].outputState}),fe})}}}),U.addEventListener("log",J=>{try{const Q=JSON.parse(J.data);Q.agent&&(D.current=Q.agent,u(Q.agent)),Q.message&&B("model",Q.message,Q.agent)}catch{}}),U.addEventListener("tool_call",J=>{try{const Q=JSON.parse(J.data);f(ne=>[...ne,{name:Q.name,args:Q.args}]),N.current+=`
 Calling ${Q.name}...
`,s(N.current),B("tool_call",`${Q.name}(${JSON.stringify(Q.args)})`)}catch{}}),U.addEventListener("tool_result",J=>{try{const Q=JSON.parse(J.data),ne=typeof Q.result=="string"?JSON.parse(Q.result):Q.result;let ae;ne?.base64_image&&(ae=ne.base64_image);const fe=ae?" Screenshot captured":typeof Q.result=="string"?Q.result:JSON.stringify(Q.result).slice(0,200);N.current+=` ${Q.name}: ${fe}
`,s(N.current),B("tool_result",`${Q.name}  ${fe}`,void 0,ae)}catch{}}),U.addEventListener("end",()=>{ee=!0;const J=N.current;s(""),u(""),r(!1),U.close(),F(J)}),U.addEventListener("error",J=>{if(!ee){const Q=J.data||"Connection error";s(""),u(""),r(!1),U.close(),B("error",Q),K?.(Q)}})},[e,t,G,R]),Y=P.useCallback(()=>{T.current?.close(),s(""),u(""),r(!1)},[]),H=P.useCallback(()=>m([]),[]),X=P.useCallback(async()=>{z.current&&await fetch(`/api/sessions/${z.current}`,{method:"DELETE"}).catch(()=>{}),z.current=null,v(null),m([]),_([]),S(-1),A(new Map)},[]);return{send:V,cancel:Y,isStreaming:n,streamingText:i,currentAgent:l,toolCalls:c,events:p,clearEvents:H,sessionId:g,newSession:X,iteration:b,snapshots:k,currentSnapshotIndex:C,scrubTo:q,stateKeys:j}}const fB=[{id:"all",label:"All",icon:"",title:"Show all events"},{id:"model",label:"Model",icon:"",title:"Show model and agent events"},{id:"tool",label:"Tool",icon:"",title:"Show tool calls and results"},{id:"session",label:"Session",icon:"",title:"Show session events (user input, done, errors)"}];function pB({currentFilter:e,onFilterChange:t,autoScroll:n=!0,onAutoScrollChange:r}){return h.jsxs("div",{className:"flex items-center justify-between px-2 py-1 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("div",{className:"flex gap-1",children:fB.map(i=>h.jsxs("button",{onClick:()=>t(i.id),className:"px-2 py-0.5 rounded text-xs flex items-center gap-1 transition-colors",style:{backgroundColor:e===i.id?"var(--accent-primary)":"transparent",color:e===i.id?"white":"var(--text-secondary)"},title:i.title,children:[h.jsx("span",{children:i.icon}),h.jsx("span",{children:i.label})]},i.id))}),r&&h.jsxs("button",{onClick:()=>r(!n),className:"px-2 py-0.5 rounded text-xs flex items-center gap-1",style:{backgroundColor:n?"var(--accent-primary)":"transparent",color:n?"white":"var(--text-secondary)"},title:n?"Auto-scroll enabled":"Auto-scroll disabled",children:[h.jsx("span",{children:n?"":""}),h.jsx("span",{children:"Auto-scroll"})]})]})}function hB({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:r,binaryPath:i,onSnapshotsChange:s,buildStatus:l="none",isCollapsed:u,onCollapseChange:c}){const{currentProject:f}=wt(),[p,m]=P.useState([]),[g,v]=P.useState(""),[b,w]=P.useState("chat"),{send:k,cancel:_,isStreaming:C,streamingText:S,currentAgent:j,toolCalls:A,events:T,clearEvents:N,sessionId:D,newSession:z,iteration:$,snapshots:O,currentSnapshotIndex:B,scrubTo:G,stateKeys:R}=dB(f?.id??null,i),q=P.useRef(null),V=P.useRef(null),Y=P.useRef(!1),H=P.useRef(null),[X,I]=P.useState(!1),F=u!==void 0?u:X,K=P.useCallback(ye=>{c?c(ye):I(ye)},[c]),[L,U]=P.useState("all"),[ee,J]=P.useState(!0),[Q,ne]=P.useState("idle"),[ae,fe]=P.useState(null);P.useEffect(()=>{s?.(O,B,G,R)},[O,B,G,R,s]),P.useEffect(()=>{n?.($)},[$,n]),P.useEffect(()=>{j&&(H.current=j,t?.(j))},[j,t]),P.useEffect(()=>{ee&&q.current?.scrollIntoView({behavior:"smooth"})},[p,S,ee]),P.useEffect(()=>{ee&&V.current?.scrollIntoView({behavior:"smooth"})},[T,ee]),P.useEffect(()=>{const ye=j||H.current;S&&ye?(console.log("[TestConsole] Emitting thought:",ye,S.slice(-50)),r?.(ye,S.slice(-150))):!C&&H.current&&r?.(H.current,null)},[S,j,C,r]),P.useEffect(()=>{S?e?.("output"):C||(e?.("idle"),t?.(null))},[S,C,e,t]),P.useEffect(()=>{C&&ne("running")},[C]);const ve=()=>{if(!g.trim()||!f||C||Y.current)return;Y.current=!0;const ye=g.trim();v(""),m(ie=>[...ie,{role:"user",content:ye}]),e?.("input"),H.current=null,ne("running"),fe(null),k(ye,ie=>{ie&&m(de=>[...de,{role:"assistant",content:ie,agent:H.current||void 0}]),e?.("idle"),Y.current=!1,ne("success")},ie=>{m(de=>[...de,{role:"assistant",content:`Error: ${ie}`}]),e?.("idle"),Y.current=!1,ne("error"),fe(ie)})},Ce=()=>{m([]),z(),ne("idle"),fe(null)},xe=()=>{_(),e?.("idle"),ne("idle")},Ae=()=>{m([]),N(),ne("idle"),fe(null)},we=C&&!S,Le=ye=>{const ie=new Date(ye);return`${ie.toLocaleTimeString("en-US",{hour12:!1})}:${String(ie.getMilliseconds()).padStart(3,"0")}`},Ne=ye=>{switch(ye){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},it=ye=>{switch(ye){case"user":return"var(--accent-primary)";case"agent_start":return"var(--accent-success)";case"agent_end":return"var(--accent-success)";case"model":return"var(--text-secondary)";case"done":return"var(--node-sequential)";case"error":return"var(--accent-error)";default:return"var(--text-muted)"}},We=ye=>it(ye),dt=T.filter(ye=>{switch(L){case"model":return ye.type==="model"||ye.type==="agent_start"||ye.type==="agent_end";case"tool":return ye.type==="tool_call"||ye.type==="tool_result";case"session":return ye.type==="user"||ye.type==="done"||ye.type==="error";default:return!0}}),Fe=()=>{switch(l){case"building":return{icon:"",text:"Building...",color:"var(--accent-warning)"};case"success":return{icon:"",text:"Built",color:"var(--accent-success)"};case"error":return{icon:"",text:"Build failed",color:"var(--accent-error)"};default:return{icon:"",text:"Not built",color:"var(--text-muted)"}}},st=()=>{switch(Q){case"running":return{icon:"",text:"Running...",color:"var(--accent-warning)"};case"success":return{icon:"",text:"Success",color:"var(--accent-success)"};case"error":return{icon:"",text:"Error",color:"var(--accent-error)"};default:return{icon:"",text:"Idle",color:"var(--text-muted)"}}},He=Fe(),gt=st();return F?h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-t cursor-pointer hover:bg-opacity-50",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},onClick:()=>K(!1),children:[h.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[h.jsx("span",{className:"font-medium",children:"Console"}),h.jsxs("span",{style:{color:He.color},children:[He.icon," ",He.text]}),h.jsxs("span",{style:{color:gt.color},children:[gt.icon," ",gt.text]}),ae&&h.jsxs("span",{style:{color:"var(--accent-error)"},title:ae,children:["Last error: ",ae.slice(0,30),ae.length>30?"...":""]})]}),h.jsx("button",{className:"text-xs px-2 py-1 rounded",style:{color:"var(--text-secondary)"},onClick:ye=>{ye.stopPropagation(),K(!1)},children:" Expand"})]}):h.jsxs("div",{className:"flex flex-col h-full border-t",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"p-2 border-b text-sm flex justify-between items-center",style:{borderColor:"var(--border-default)"},children:[h.jsxs("div",{className:"flex gap-1 items-center",children:[h.jsx("button",{onClick:()=>w("chat"),className:"px-3 py-1 rounded text-xs",style:{backgroundColor:b==="chat"?"var(--accent-primary)":"transparent",color:b==="chat"?"white":"var(--text-primary)"},children:" Chat"}),h.jsxs("button",{onClick:()=>w("events"),className:"px-3 py-1 rounded text-xs",style:{backgroundColor:b==="events"?"var(--accent-primary)":"transparent",color:b==="events"?"white":"var(--text-primary)"},children:[" Events ",T.length>0&&`(${T.length})`]}),D&&h.jsxs("span",{className:"ml-2 text-xs",style:{color:"var(--text-muted)"},title:D,children:["Session: ",D.slice(0,8),"..."]}),h.jsx("span",{className:"ml-2 text-xs",style:{color:He.color},children:He.icon}),h.jsx("span",{className:"text-xs",style:{color:gt.color},children:gt.icon})]}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("button",{onClick:Ae,className:"text-xs flex items-center gap-1",style:{color:"var(--text-muted)"},title:"Clear history",children:" Clear"}),h.jsx("button",{onClick:Ce,className:"text-xs flex items-center gap-1",style:{color:"var(--accent-success)"},title:"Start new conversation",children:" New"}),C&&h.jsx("button",{onClick:xe,className:"text-xs",style:{color:"var(--accent-error)"},children:"Stop"}),h.jsx("button",{onClick:()=>K(!0),className:"text-xs px-2 py-1 rounded",style:{color:"var(--text-secondary)"},title:"Collapse console",children:""})]})]}),b==="chat"&&h.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[p.length===0&&!S&&!we&&h.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Send a message to test your agent..."}),p.map((ye,ie)=>h.jsxs("div",{className:"text-sm",style:{color:ye.role==="user"?"var(--accent-primary)":"var(--text-primary)"},children:[h.jsx("span",{className:"font-semibold",children:ye.role==="user"?"You: ":`${ye.agent||"Agent"}: `}),ye.role==="user"?h.jsx("span",{children:ye.content}):h.jsx("div",{className:"prose prose-sm max-w-none inline",style:{color:"var(--text-primary)"},children:h.jsx(N1,{children:ye.content})})]},ie)),we&&h.jsxs("div",{className:"text-sm flex items-center gap-2",style:{color:"var(--text-muted)"},children:[h.jsx("span",{className:"animate-spin",children:""}),h.jsx("span",{children:j?`${j} is thinking...`:"Thinking..."})]}),S&&h.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[h.jsxs("span",{className:"font-semibold",children:[j||"Agent",": "]}),h.jsx("div",{className:"prose prose-sm max-w-none inline",style:{color:"var(--text-primary)"},children:h.jsx(N1,{children:S})}),h.jsx("span",{className:"animate-pulse",children:""})]}),A.length>0&&C&&h.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--accent-warning)"},children:["Tools used: ",A.map(ye=>ye.name).join(", ")]}),h.jsx("div",{ref:q})]}),b==="events"&&h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(pB,{currentFilter:L,onFilterChange:U,autoScroll:ee,onAutoScrollChange:J}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[dt.length===0&&h.jsx("div",{style:{color:"var(--text-muted)"},children:T.length===0?"No events yet. Send a message to see the trace.":"No events match the current filter."}),dt.map((ye,ie)=>h.jsxs("div",{className:"py-1 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("span",{className:"w-24 flex-shrink-0",style:{color:"var(--text-muted)"},children:Le(ye.timestamp)}),h.jsx("span",{children:Ne(ye.type)}),h.jsxs("span",{className:"flex-1",style:{color:We(ye.type)},children:[ye.agent&&h.jsxs("span",{style:{color:"var(--accent-warning)"},className:"mr-2",children:["[",ye.agent,"]"]}),ye.type==="user"?`Input: ${ye.data}`:ye.type==="agent_start"?`Started ${ye.data}`:ye.type==="agent_end"?`Completed in ${ye.data}`:ye.type==="model"?`Response: ${ye.data}`:ye.type==="done"?`Done (${ye.data})`:ye.data]})]}),ye.screenshot&&h.jsx("div",{className:"ml-28 mt-2 mb-2",children:h.jsx("img",{src:`data:image/png;base64,${ye.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border",style:{borderColor:"var(--border-default)"}})})]},ie)),h.jsx("div",{ref:V})]})]}),h.jsxs("div",{className:"p-2 border-t flex gap-2",style:{borderColor:"var(--border-default)"},children:[h.jsx("input",{type:"text",value:g,onChange:ye=>v(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&!ye.repeat&&(ye.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},disabled:C}),h.jsx("button",{onClick:ve,disabled:C||!g.trim(),className:"px-4 py-2 rounded text-sm disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"Send"})]})]})}const G2=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}],mB="adk-studio-walkthrough",W2=Bu()(u2((e,t)=>({completed:!1,skipped:!1,isVisible:!1,complete:()=>e({completed:!0,skipped:!1,isVisible:!1}),skip:()=>e({completed:!1,skipped:!0,isVisible:!1}),show:()=>e({isVisible:!0}),hide:()=>e({isVisible:!1}),reset:()=>e({completed:!1,skipped:!1,isVisible:!0}),shouldShowOnFirstRun:()=>{const{completed:n,skipped:r}=t();return!n&&!r}}),{name:mB,partialize:e=>({completed:e.completed,skipped:e.skipped})})),gB=[{key:"Delete / Backspace",description:"Delete selected node or tool",category:"Edit"},{key:"Ctrl/Cmd + D",description:"Duplicate selected node",category:"Edit"},{key:"Escape",description:"Deselect all",category:"Edit"},{key:"Ctrl/Cmd + Z",description:"Undo",category:"Edit"},{key:"Ctrl/Cmd + Shift + Z",description:"Redo",category:"Edit"},{key:"Ctrl/Cmd + L",description:"Apply auto-layout",category:"Canvas"},{key:"Ctrl/Cmd + 0",description:"Fit all nodes in view",category:"Canvas"},{key:"Ctrl/Cmd + Plus",description:"Zoom in",category:"Canvas"},{key:"Ctrl/Cmd + Minus",description:"Zoom out",category:"Canvas"}];function yB({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:r,onDuplicateNode:i,onSelectNode:s,onSelectTool:l,onAutoLayout:u,onFitView:c,onZoomIn:f,onZoomOut:p,onUndo:m,onRedo:g}){P.useEffect(()=>{const v=b=>{const w=document.activeElement;if(w?.tagName==="INPUT"||w?.tagName==="TEXTAREA"||w?.isContentEditable)return;const k=b.metaKey||b.ctrlKey,_=b.shiftKey;if(b.key==="Delete"||b.key==="Backspace"){if(t&&e){const C=t.split("_");r(e,C.slice(-2).join("_")),l(null)}else e&&e!=="START"&&e!=="END"&&(n(e),s(null));b.preventDefault();return}if(k&&b.key==="d"&&e&&i){b.preventDefault();const C=i(e);C&&s(C);return}if(k&&b.key==="l"&&u){b.preventDefault(),u();return}if(k&&b.key==="0"&&c){b.preventDefault(),c();return}if(k&&!_&&b.key==="z"&&m){b.preventDefault(),m();return}if(k&&_&&(b.key==="z"||b.key==="Z")&&g){b.preventDefault(),g();return}if(b.key==="Escape"){s(null),l(null);return}if(k&&(b.key==="+"||b.key==="="||b.key==="NumpadAdd")&&f){b.preventDefault(),f();return}if(k&&(b.key==="-"||b.key==="NumpadSubtract")&&p){b.preventDefault(),p();return}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[e,t,n,r,i,s,l,u,c,f,p,m,g])}const vB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K2=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bB=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},c)=>P.createElement("svg",{ref:c,...xB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:K2("lucide",i),...u},[...l.map(([f,p])=>P.createElement(f,p)),...Array.isArray(s)?s:[s]]));const br=(e,t)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(bB,{ref:s,iconNode:t,className:K2(`lucide-${vB(e)}`,r),...i}));return n.displayName=`${e}`,n};const wB=br("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const _B=br("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const kB=br("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const SB=br("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const CB=br("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const EB=br("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const NB=br("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const jB=br("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Y2=br("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),TB=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent for general Q&A",category:"basic",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential workflow: Researcher  Summarizer",category:"basic",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:250,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content quality",category:"advanced",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:250,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently for speed",category:"advanced",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:250,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized support agents",category:"advanced",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:250,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:100,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:250,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:400,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent with browser capabilities for web research",category:"tools",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]},{id:"code_assistant",name:"Code Assistant",icon:"",description:"Programming assistant with code execution tools",category:"tools",agents:{code_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert programming assistant. Help users with: 1) Writing clean, efficient code, 2) Debugging issues, 3) Explaining concepts, 4) Code reviews. Use the code execution tool to test and validate code when helpful. Support multiple languages including Python, JavaScript, Rust, and more.",tools:["code_execution"],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"code_agent"},{from:"code_agent",to:"END"}]},{id:"data_analyst",name:"Data Analyst",icon:"",description:"Analyze data with search and computation tools",category:"tools",agents:{analyst:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a data analyst. Help users understand and analyze data by: 1) Searching for relevant datasets and statistics, 2) Performing calculations and analysis, 3) Creating clear visualizations and summaries, 4) Providing actionable insights. Use available tools to gather and process data.",tools:["google_search","code_execution"],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"analyst"},{from:"analyst",to:"END"}]},{id:"writing_team",name:"Writing Team",icon:"",description:"Collaborative team: Writer  Editor  Fact-Checker",category:"teams",agents:{writer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a creative writer. Given a topic, write engaging, well-structured content. Focus on clarity, flow, and reader engagement. Include relevant examples and explanations.",tools:[],sub_agents:[],position:{x:0,y:0}},editor:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a professional editor. Review the content for: grammar, style, clarity, and structure. Make improvements while preserving the author's voice. Suggest changes and explain your reasoning.",tools:[],sub_agents:[],position:{x:0,y:0}},fact_checker:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a fact-checker. Verify all claims, statistics, and facts in the content. Use search to confirm accuracy. Flag any questionable statements and provide corrections with sources.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},writing_team:{type:"sequential",instruction:"",tools:[],sub_agents:["writer","editor","fact_checker"],position:{x:250,y:150}}},edges:[{from:"START",to:"writing_team"},{from:"writing_team",to:"END"}]},{id:"eval_loop",name:"Evaluation Loop",icon:"",description:"Generate and evaluate responses iteratively",category:"teams",agents:{generator:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a response generator. Create high-quality, comprehensive responses to user queries. Consider multiple perspectives and provide thorough explanations.",tools:[],sub_agents:[],position:{x:0,y:0}},evaluator:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a response evaluator. Score the response on: accuracy (1-10), completeness (1-10), clarity (1-10). If average score >= 8, call exit_loop. Otherwise, provide specific feedback for improvement.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},eval_loop:{type:"loop",instruction:"",tools:[],sub_agents:["generator","evaluator"],position:{x:250,y:150},max_iterations:3}},edges:[{from:"START",to:"eval_loop"},{from:"eval_loop",to:"END"}]},{id:"voice_assistant",name:"Voice Assistant",icon:"",description:"Real-time voice-enabled conversational agent",category:"realtime",agents:{voice_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a voice assistant. Respond naturally and conversationally. Keep responses concise (1-2 sentences when possible) for smooth voice interaction. Be helpful, friendly, and responsive.",tools:[],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"voice_agent"},{from:"voice_agent",to:"END"}]},{id:"realtime_translator",name:"Realtime Translator",icon:"",description:"Live translation agent for multilingual conversations",category:"realtime",agents:{translator:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a real-time translator. Detect the input language and translate to the target language (default: English). Preserve tone, context, and nuance. For voice input, respond quickly with natural translations.",tools:[],sub_agents:[],position:{x:250,y:150}}},edges:[{from:"START",to:"translator"},{from:"translator",to:"END"}]}];function AB(){return["basic","advanced","tools","teams","realtime"]}const sv={all:"All Templates",basic:"Basic",advanced:"Advanced",tools:"Tool-Heavy",teams:"Agent Teams",realtime:"Realtime"};function PB({template:e,onSelect:t,onRun:n}){const r=Object.keys(e.agents).length,i=e.edges.length;return h.jsxs("div",{className:"template-card group cursor-pointer rounded-lg border p-4 transition-all hover:shadow-md",style:{backgroundColor:"var(--surface-card)",borderColor:"var(--border-default)"},onClick:t,children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("span",{className:"text-3xl",children:e.icon}),h.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:sv[e.category]})]}),h.jsx("h3",{className:"font-semibold mb-1",style:{color:"var(--text-primary)"},children:e.name}),h.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--text-secondary)"},children:e.description}),h.jsxs("div",{className:"flex items-center gap-3 text-xs mb-3",style:{color:"var(--text-muted)"},children:[h.jsxs("span",{children:[r," agent",r!==1?"s":""]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[i," connection",i!==1?"s":""]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"flex-1 px-3 py-2 rounded text-sm font-medium transition-colors",style:{backgroundColor:"var(--accent-primary)",color:"white"},onClick:s=>{s.stopPropagation(),t()},children:"Use Template"}),n&&h.jsx("button",{className:"p-2 rounded transition-colors",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},onClick:s=>{s.stopPropagation(),n()},title:"Run immediately",children:h.jsx(CB,{size:16})})]})]})}function IB({onSelect:e,onRun:t,onClose:n,isModal:r=!1}){const[i,s]=P.useState("all"),[l,u]=P.useState(""),c=TB.filter(m=>{const g=i==="all"||m.category===i,v=l===""||m.name.toLowerCase().includes(l.toLowerCase())||m.description.toLowerCase().includes(l.toLowerCase());return g&&v}),f=AB(),p=h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Template Gallery"}),n&&h.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-opacity-10",style:{color:"var(--text-secondary)"},children:h.jsx(Y2,{size:20})})]}),h.jsxs("div",{className:"p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)"},children:[h.jsx(EB,{size:16,style:{color:"var(--text-muted)"}}),h.jsx("input",{type:"text",placeholder:"Search templates...",value:l,onChange:m=>u(m.target.value),className:"flex-1 bg-transparent outline-none text-sm",style:{color:"var(--text-primary)"}})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>s("all"),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors",style:{backgroundColor:i==="all"?"var(--accent-primary)":"var(--bg-secondary)",color:i==="all"?"white":"var(--text-secondary)"},children:sv.all}),f.map(m=>h.jsx("button",{onClick:()=>s(m),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors",style:{backgroundColor:i===m?"var(--accent-primary)":"var(--bg-secondary)",color:i===m?"white":"var(--text-secondary)"},children:sv[m]},m))]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.length===0?h.jsx("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:h.jsx("p",{children:"No templates found matching your criteria."})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>h.jsx(PB,{template:m,onSelect:()=>e(m),onRun:t?()=>t(m):void 0},m.id))})}),h.jsxs("div",{className:"p-3 border-t text-center text-sm",style:{borderColor:"var(--border-default)",color:"var(--text-muted)"},children:[c.length," template",c.length!==1?"s":""," available"]})]});return r?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:n,children:h.jsx("div",{className:"w-full max-w-4xl max-h-[80vh] rounded-lg shadow-xl overflow-hidden",style:{backgroundColor:"var(--surface-panel)"},onClick:m=>m.stopPropagation(),children:p})}):h.jsx("div",{className:"h-full",style:{backgroundColor:"var(--surface-panel)"},children:p})}function RB({onExportCode:e,onNewProject:t,onTemplateApplied:n,onRunTemplate:r,buildStatus:i="none",onBuildStatusClick:s}){const[l,u]=P.useState(null),[c,f]=P.useState(!1),p=P.useRef(null),{currentProject:m,addAgent:g,removeAgent:v,addEdge:b,removeEdge:w}=wt(),{mode:k}=oo(),{completed:_,show:C,reset:S}=W2(),j=k==="light";P.useEffect(()=>{const G=R=>{p.current&&!p.current.contains(R.target)&&u(null)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const A=G=>{m&&((m.workflow?.edges||[]).forEach(R=>w(R.from,R.to)),Object.keys(m.agents).forEach(R=>v(R)),Object.entries(G.agents).forEach(([R,q])=>{g(R,q)}),G.edges.forEach(R=>b(R.from,R.to)),n&&n(),u(null))},T=G=>{m&&((m.workflow?.edges||[]).forEach(R=>w(R.from,R.to)),Object.keys(m.agents).forEach(R=>v(R)),Object.entries(G.agents).forEach(([R,q])=>{g(R,q)}),G.edges.forEach(R=>b(R.from,R.to)),f(!1),n&&n())},N=G=>{T(G),r&&setTimeout(()=>r(),200)},D=j?"hover:bg-gray-200":"hover:bg-gray-700",z=j?"bg-gray-200":"bg-gray-700",$=({name:G,children:R})=>h.jsxs("div",{className:"relative",children:[h.jsx("button",{className:`px-3 py-1 text-sm rounded ${D} ${l===G?z:""}`,style:{color:"var(--text-primary)"},onClick:()=>u(l===G?null:G),children:G}),l===G&&h.jsx("div",{className:"absolute top-full left-0 mt-1 rounded shadow-lg min-w-[200px] z-50",style:{backgroundColor:"var(--surface-panel)",border:"1px solid var(--border-default)"},children:R})]}),O=({onClick:G,children:R,disabled:q})=>h.jsx("button",{className:`w-full text-left px-3 py-2 text-sm ${D} ${q?"opacity-50 cursor-not-allowed":""}`,style:{color:"var(--text-primary)"},onClick:()=>{q||(G(),u(null))},disabled:q,children:R}),B=()=>h.jsx("div",{className:"my-1",style:{borderTop:"1px solid var(--border-default)"}});return h.jsxs("div",{ref:p,className:"flex items-center gap-1 px-2 py-1",style:{backgroundColor:"var(--surface-panel)",borderBottom:"1px solid var(--border-default)"},children:[h.jsxs("span",{className:"text-sm font-semibold mr-4 flex items-center gap-1.5",style:{color:"var(--accent-primary)"},children:[h.jsx("img",{src:"https://adk-rust.com/icon.svg",alt:"ADK",className:"w-5 h-5"}),"ADK Studio"]}),h.jsxs($,{name:"File",children:[h.jsx(O,{onClick:t,children:" New Project"}),h.jsx(B,{}),h.jsx(O,{onClick:e,disabled:!m,children:" Export Code"})]}),h.jsxs($,{name:"Templates",children:[h.jsx(O,{onClick:()=>{f(!0),u(null)},disabled:!m,children:" Browse Gallery..."}),h.jsx(B,{}),h.jsx("div",{className:"px-3 py-1 text-xs",style:{color:"var(--text-muted)",borderBottom:"1px solid var(--border-default)"},children:"Quick templates"}),G2.slice(0,5).map(G=>h.jsxs(O,{onClick:()=>A(G),disabled:!m,children:[G.icon," ",G.name]},G.id))]}),h.jsxs($,{name:"Help",children:[h.jsx(O,{onClick:()=>window.open("https://github.com/zavora-ai/adk-rust","_blank"),children:" Documentation"}),h.jsx(B,{}),h.jsxs(O,{onClick:()=>{C(),u(null)},children:[" ",_?"Restart Tutorial":"Start Tutorial"]}),_&&h.jsx(O,{onClick:()=>{S(),u(null)},children:" Reset Tutorial Progress"}),h.jsx(B,{}),h.jsxs("div",{className:"px-3 py-2 text-xs",style:{color:"var(--text-secondary)"},children:[h.jsx("div",{className:"font-semibold mb-2",children:" Keyboard Shortcuts"}),["Edit","Canvas"].map(G=>h.jsxs("div",{className:"mb-2",children:[h.jsx("div",{className:"font-medium mb-1",style:{color:"var(--text-muted)"},children:G}),gB.filter(R=>R.category===G).map(R=>h.jsxs("div",{className:"flex justify-between gap-4 py-0.5",children:[h.jsx("span",{style:{color:"var(--text-muted)"},children:R.description}),h.jsx("span",{className:"font-mono text-xs px-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:R.key})]},R.key))]},G))]}),h.jsx(B,{}),h.jsx("div",{className:"px-3 py-2 text-xs",style:{color:"var(--text-muted)"},children:"ADK Studio v2.0.0"})]}),h.jsx("div",{className:"flex-1"}),m&&h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Project: ",h.jsx("span",{style:{color:"var(--text-primary)"},children:m.name})]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-1.5 px-2 py-0.5 rounded text-xs font-medium transition-colors",style:{backgroundColor:i==="building"?"var(--accent-primary)":i==="success"?"#22c55e":i==="error"?"#ef4444":"var(--bg-secondary)",color:i==="none"?"var(--text-muted)":"white",cursor:i==="none"?"default":"pointer"},title:i==="building"?"Building... Click to view progress":i==="success"?"Build succeeded":i==="error"?"Build failed - Click to view errors":"No build yet",children:[i==="building"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"animate-spin",children:""}),h.jsx("span",{children:"Building..."})]}),i==="success"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Built"})]}),i==="error"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Failed"})]}),i==="none"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Not Built"})]})]})]}),c&&h.jsx(IB,{isModal:!0,onSelect:T,onRun:N,onClose:()=>f(!1)})]})}const MB={sm:{container:14,icon:10},md:{container:18,icon:12},lg:{container:22,icon:14}},Fv=P.memo(function({status:t,size:n="md",className:r=""}){if(t==="idle")return null;const{container:i,icon:s}=MB[n];return h.jsxs("div",{className:`status-indicator status-${t} ${r}`,style:{width:i,height:i,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",flexShrink:0},role:"status","aria-label":OB(t),children:[t==="running"&&h.jsx(LB,{size:s}),t==="success"&&h.jsx(DB,{size:s}),t==="error"&&h.jsx(qB,{size:s})]})});function OB(e){switch(e){case"running":return"Running";case"success":return"Completed successfully";case"error":return"Error occurred";default:return"Idle"}}function LB({size:e}){return h.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:"status-spinner",style:{animation:"spin 1s linear infinite"},children:[h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"31.4 31.4",style:{opacity:.3}}),h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:"31.4 31.4",strokeDashoffset:"23.55"})]})}function DB({size:e}){return h.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"status-success-icon",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}function qB({size:e}){return h.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"status-error-icon",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}const zB={agent:"",sequential:"",loop:"",parallel:"",router:"",start:"",end:""},Pa=P.memo(function({label:t,icon:n,nodeType:r,isActive:i=!1,isSelected:s=!1,status:l="idle",children:u,showTopHandle:c=!0,showBottomHandle:f=!0,showLeftHandle:p=!0,showRightHandle:m=!0}){const g=n||zB[r],v=["node-base",s&&"node-selected",i&&"node-active"].filter(Boolean).join(" "),b=["node-header",`node-header-${r}`].join(" ");return h.jsxs("div",{className:v,children:[c&&h.jsx(Zt,{type:"target",position:Se.Top,id:"top",className:"node-handle"}),p&&h.jsx(Zt,{type:"target",position:Se.Left,id:"left",className:"node-handle"}),h.jsxs("div",{className:b,children:[h.jsx("span",{className:"node-icon",children:g}),h.jsx("span",{className:"node-label",children:t}),h.jsx(Fv,{status:i?"running":l,size:"sm"})]}),u&&h.jsx("div",{className:"node-body",children:u}),f&&h.jsx(Zt,{type:"source",position:Se.Bottom,id:"bottom",className:"node-handle"}),m&&h.jsx(Zt,{type:"source",position:Se.Right,id:"right",className:"node-handle"})]})}),j1={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",database:"",api:"",email:"",calendar:"",default:""};function FB(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(j1))if(n!=="default"&&t.includes(n))return r;return j1.default}function BB(e,t=12){return e.length<=t?e:e.substring(0,t-1)+""}function $B({name:e}){const t=FB(e),n=BB(e);return h.jsxs("span",{className:"tool-badge",title:e,children:[h.jsx("span",{className:"tool-badge-icon",children:t}),h.jsx("span",{className:"tool-badge-name",children:n})]})}function HB({tools:e}){return!e||e.length===0?null:h.jsx("div",{className:"tool-badges",children:e.map(t=>h.jsx($B,{name:t},t))})}function VB({model:e}){return h.jsxs("div",{className:"model-info",children:[h.jsx("span",{className:"model-icon",children:""}),h.jsx("span",{className:"model-name",children:e})]})}const X2=P.memo(function({data:t,selected:n}){const r=t.isActive||!1,i=!!t.thought,s=t.model||"gemini-2.0-flash",l=t.tools||[],u=t.status||(r?"running":"idle"),c=i?"":"";return h.jsxs(Pa,{label:t.label,icon:c,nodeType:"agent",isActive:r,isSelected:n,status:u,children:[h.jsx(VB,{model:s}),l.length>0&&h.jsx("div",{className:"node-body-section",children:h.jsx(HB,{tools:l})})]})});X2.displayName="LlmAgentNode";const T1={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function UB(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(T1))if(n!=="default"&&t.includes(n))return r;return T1.default}function GB({name:e,index:t,tools:n,isActive:r}){const i=["sub-agent",r&&"sub-agent-active"].filter(Boolean).join(" ");return h.jsxs("div",{className:i,children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"sub-agent-index",children:r?"":`${t+1}.`}),h.jsx("span",{className:"sub-agent-name",children:e})]}),n.length>0&&h.jsx("div",{className:"mt-1 text-xs opacity-70",children:n.map(s=>UB(s)).join(" ")})]})}const Q2=P.memo(function({data:t,selected:n}){const r=t.isActive||!1,i=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.status||(r?"running":"idle");return h.jsx(Pa,{label:t.label,nodeType:"sequential",isActive:r,isSelected:n,status:u,children:i.length>0&&h.jsx("div",{className:"space-y-1",children:i.map((c,f)=>h.jsx(GB,{name:c,index:f,tools:s[c]||[],isActive:l===c},c))})})});Q2.displayName="SequentialNode";const A1={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function WB(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(A1))if(n!=="default"&&t.includes(n))return r;return A1.default}function KB({current:e,max:t,isActive:n}){const r=n?`Iteration ${e+1}/${t}`:`Max ${t}`,i=["iteration-badge",n&&"iteration-badge-active"].filter(Boolean).join(" ");return h.jsx("div",{className:"iteration-info",children:h.jsx("span",{className:i,children:r})})}function YB({name:e,index:t,tools:n,isActive:r}){const i=["sub-agent",r&&"sub-agent-active"].filter(Boolean).join(" ");return h.jsxs("div",{className:i,children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"sub-agent-index",children:r?"":`${t+1}.`}),h.jsx("span",{className:"sub-agent-name",children:e})]}),n.length>0&&h.jsx("div",{className:"mt-1 text-xs opacity-70",children:n.map(s=>WB(s)).join(" ")})]})}const Z2=P.memo(function({data:t,selected:n}){const r=t.isActive||!1,i=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.maxIterations||3,c=t.currentIteration||0,f=t.status||(r?"running":"idle");return h.jsxs(Pa,{label:t.label,nodeType:"loop",isActive:r,isSelected:n,status:f,children:[h.jsx(KB,{current:c,max:u,isActive:r}),i.length>0&&h.jsx("div",{className:"node-body-section space-y-1",children:i.map((p,m)=>h.jsx(YB,{name:p,index:m,tools:s[p]||[],isActive:l===p},p))})]})});Z2.displayName="LoopNode";const P1={google_search:"",search:"",browser:"",web:"",mcp:"",function:"",file:"",code:"",default:""};function XB(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(P1))if(n!=="default"&&t.includes(n))return r;return P1.default}function QB({name:e,tools:t,isActive:n}){const r=["sub-agent",n&&"sub-agent-active"].filter(Boolean).join(" ");return h.jsxs("div",{className:r,children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"sub-agent-index",children:""}),h.jsx("span",{className:"sub-agent-name",children:e})]}),t.length>0&&h.jsx("div",{className:"mt-1 text-xs opacity-70",children:t.map(i=>XB(i)).join(" ")})]})}const J2=P.memo(function({data:t,selected:n}){const r=t.isActive||!1,i=t.subAgents||[],s=t.subAgentTools||{},l=t.activeSubAgent,u=t.status||(r?"running":"idle");return h.jsx(Pa,{label:t.label,nodeType:"parallel",isActive:r,isSelected:n,status:u,children:i.length>0&&h.jsx("div",{className:"space-y-1",children:i.map(c=>h.jsx(QB,{name:c,tools:s[c]||[],isActive:l===c},c))})})});J2.displayName="ParallelNode";function ZB({route:e,isActive:t}){const n=["route",t&&"route-active"].filter(Boolean).join(" ");return h.jsxs("div",{className:n,children:[h.jsx("span",{className:"route-condition",children:e.condition}),h.jsx("span",{className:"route-arrow",children:""}),h.jsx("span",{className:"route-target",children:e.target})]})}const eT=P.memo(function({data:t,selected:n}){const r=t.isActive||!1,i=t.routes||[],s=t.activeRoute,l=t.status||(r?"running":"idle");return h.jsx(Pa,{label:t.label,nodeType:"router",isActive:r,isSelected:n,status:l,children:i.length>0&&h.jsx("div",{className:"space-y-1",children:i.map(u=>h.jsx(ZB,{route:u,isActive:s===u.condition},u.condition))})})});eT.displayName="RouterNode";const tT=P.memo(function(){return h.jsxs("div",{className:"node-base",style:{minWidth:"auto"},children:[h.jsxs("div",{className:"node-header node-header-start",children:[h.jsx("span",{className:"node-icon",children:""}),h.jsx("span",{className:"node-label",children:"START"})]}),h.jsx(Zt,{type:"source",position:Se.Bottom,id:"bottom",className:"node-handle"}),h.jsx(Zt,{type:"source",position:Se.Right,id:"right",className:"node-handle"})]})});tT.displayName="StartNode";const nT=P.memo(function(){return h.jsxs("div",{className:"node-base",style:{minWidth:"auto"},children:[h.jsxs("div",{className:"node-header node-header-end",children:[h.jsx("span",{className:"node-icon",children:""}),h.jsx("span",{className:"node-label",children:"END"})]}),h.jsx(Zt,{type:"target",position:Se.Top,id:"top",className:"node-handle"}),h.jsx(Zt,{type:"target",position:Se.Left,id:"left",className:"node-handle"})]})});nT.displayName="EndNode";const rT={trigger:"#6366F1",http:"#3B82F6",set:"#8B5CF6",transform:"#EC4899",switch:"#F59E0B",loop:"#10B981",merge:"#06B6D4",wait:"#6B7280",code:"#EF4444",database:"#14B8A6"},oT={trigger:"",http:"",set:"",transform:"",switch:"",loop:"",merge:"",wait:"",code:"",database:""},JB={trigger:"Trigger",http:"HTTP",set:"Set",transform:"Transform",switch:"Switch",loop:"Loop",merge:"Merge",wait:"Wait",code:"Code",database:"Database"},er=P.memo(function({type:t,label:n,isActive:r=!1,isSelected:i=!1,status:s="idle",hasError:l=!1,children:u,inputPorts:c=1,outputPorts:f=1,inputPortIds:p,outputPortIds:m}){const g=rT[t],v=oT[t],b=["action-node",`action-node-${t}`,i&&"action-node-selected",r&&"action-node-active",l&&"action-node-error",s!=="idle"&&`action-node-status-${s}`].filter(Boolean).join(" "),w=()=>Array.from({length:c}).map((_,C)=>{const S=p?.[C]??`input-${C}`,j=(C+1)*100/(c+1);return h.jsx(Zt,{type:"target",position:Se.Top,id:S,className:"action-node-handle action-node-handle-input",style:{left:`${j}%`,background:g}},S)}),k=()=>Array.from({length:f}).map((_,C)=>{const S=m?.[C]??`output-${C}`,j=(C+1)*100/(f+1);return h.jsx(Zt,{type:"source",position:Se.Bottom,id:S,className:"action-node-handle action-node-handle-output",style:{left:`${j}%`,background:g}},S)});return h.jsxs("div",{className:b,style:{"--action-color":g},children:[w(),h.jsxs("div",{className:"action-node-header",style:{background:g},children:[h.jsx("span",{className:"action-node-icon",children:v}),h.jsx("span",{className:"action-node-label",children:n}),h.jsx("span",{className:"action-node-type-badge",children:t}),h.jsx(Fv,{status:r?"running":s,size:"sm"})]}),u&&h.jsx("div",{className:"action-node-body",children:u}),l&&h.jsx("div",{className:"action-node-error-badge",children:"!"}),k()]})}),e$={manual:"Manual",webhook:"Webhook",schedule:"Schedule",event:"Event"},t$={manual:"",webhook:"",schedule:"",event:""},n$=P.memo(function({data:t,selected:n}){const r=e$[t.triggerType]||t.triggerType,i=t$[t.triggerType]||"",s=()=>{switch(t.triggerType){case"webhook":return t.webhook?.path?h.jsxs("div",{className:"action-node-preview",children:[h.jsx("span",{className:"action-node-preview-method",children:t.webhook.method}),h.jsx("span",{className:"action-node-preview-path",children:t.webhook.path}),t.webhook.auth!=="none"&&h.jsx("span",{className:"action-node-preview-auth",title:`Auth: ${t.webhook.auth}`,children:""})]}):null;case"schedule":return t.schedule?.cron?h.jsxs("div",{className:"action-node-preview",children:[h.jsx("span",{className:"action-node-preview-cron",children:t.schedule.cron}),t.schedule.timezone&&h.jsx("span",{className:"action-node-preview-tz",title:t.schedule.timezone,children:""})]}):null;case"event":return t.event?.source?h.jsxs("div",{className:"action-node-preview",children:[h.jsx("span",{className:"action-node-preview-source",children:t.event.source}),t.event.eventType&&h.jsxs("span",{className:"action-node-preview-type",children:[": ",t.event.eventType]})]}):null;default:return h.jsx("div",{className:"action-node-preview action-node-preview-manual",children:"Click to run"})}};return h.jsxs(er,{type:"trigger",label:t.name||"Trigger",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",inputPorts:0,outputPorts:1,children:[h.jsxs("div",{className:"action-node-badge",children:[h.jsx("span",{className:"action-node-badge-icon",children:i}),h.jsx("span",{className:"action-node-badge-label",children:r})]}),s()]})}),r$={GET:"#10B981",POST:"#3B82F6",PUT:"#F59E0B",PATCH:"#8B5CF6",DELETE:"#EF4444"};function o$(e,t=35){if(!e||e.length<=t)return e;try{const n=new URL(e),r=n.hostname,i=n.pathname,s=r.length>20?r.substring(0,17)+"...":r,l=t-s.length-3;if(l>5&&i.length>1){const u=i.length>l?i.substring(0,l-3)+"...":i;return s+u}return s+(i.length>1?"/...":"")}catch{return e.substring(0,t-3)+"..."}}function i$(e){return/\{\{[^}]+\}\}/.test(e)}const s$=P.memo(function({data:t,selected:n}){const r=r$[t.method]||"#6B7280",i=o$(t.url),s=i$(t.url),l=t.auth?.type&&t.auth.type!=="none";return h.jsx(er,{type:"http",label:t.name||"HTTP Request",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"http-node-content",children:[h.jsxs("div",{className:"http-method-row",children:[h.jsx("span",{className:"http-method-badge",style:{backgroundColor:r},children:t.method}),s&&h.jsx("span",{className:"http-vars-indicator",title:"Contains variables",children:"{{}}"})]}),t.url&&h.jsx("div",{className:"http-url-preview",title:t.url,children:i||"No URL configured"}),h.jsxs("div",{className:"http-indicators",children:[l&&h.jsxs("span",{className:"http-auth-badge",title:`Auth: ${t.auth.type}`,children:[" ",t.auth.type]}),t.response?.type&&t.response.type!=="json"&&h.jsx("span",{className:"http-response-badge",title:`Response: ${t.response.type}`,children:t.response.type}),t.response?.jsonPath&&h.jsx("span",{className:"http-jsonpath-badge",title:`Extract: ${t.response.jsonPath}`,children:"$."})]})]})})}),I1={set:{label:"Set",icon:"",color:"#8B5CF6"},merge:{label:"Merge",icon:"",color:"#10B981"},delete:{label:"Delete",icon:"",color:"#EF4444"}};function a$(e,t=20){if(e===null)return"null";if(e===void 0)return"undefined";const n=typeof e=="object"?JSON.stringify(e):String(e);return n.length<=t?n:n.substring(0,t-3)+"..."}const l$=P.memo(function({data:t,selected:n}){const r=I1[t.mode]||I1.set,i=t.variables?.length||0,s=t.variables?.filter(c=>c.isSecret).length||0,l=t.envVars?.loadFromEnv,u=t.variables?.slice(0,2)||[];return h.jsx(er,{type:"set",label:t.name||"Set Variables",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"set-node-content",children:[h.jsxs("div",{className:"set-node-header-row",children:[h.jsxs("span",{className:"set-node-mode-badge",style:{backgroundColor:r.color},children:[h.jsx("span",{className:"set-node-mode-icon",children:r.icon}),h.jsx("span",{className:"set-node-mode-label",children:r.label})]}),h.jsxs("span",{className:"set-node-count-badge",children:[i," var",i!==1?"s":""]})]}),u.length>0&&h.jsxs("div",{className:"set-node-vars-preview",children:[u.map((c,f)=>h.jsxs("div",{className:"set-node-var-row",children:[h.jsxs("span",{className:"set-node-var-key",children:[c.isSecret&&h.jsx("span",{className:"set-node-secret-icon",title:"Secret",children:""}),c.key]}),h.jsx("span",{className:"set-node-var-separator",children:"="}),h.jsx("span",{className:"set-node-var-value",title:String(c.value),children:c.isSecret?"":a$(c.value,15)})]},f)),i>2&&h.jsxs("div",{className:"set-node-more",children:["+",i-2," more"]})]}),h.jsxs("div",{className:"set-node-indicators",children:[s>0&&h.jsxs("span",{className:"set-node-indicator",title:`${s} secret variable${s!==1?"s":""}`,children:[" ",s]}),l&&h.jsxs("span",{className:"set-node-indicator set-node-env-indicator",title:"Loading from .env",children:[" .env",t.envVars?.prefix&&h.jsxs("span",{className:"set-node-env-prefix",children:["(",t.envVars.prefix,"*)"]})]})]})]})})}),u$={jsonpath:"JSONPath",jmespath:"JMESPath",template:"Template",javascript:"JavaScript"},c$={jsonpath:"",jmespath:"",template:"",javascript:""},d$={pick:"Pick",omit:"Omit",rename:"Rename",flatten:"Flatten",sort:"Sort",unique:"Unique"},f$=P.memo(function({data:t,selected:n}){const r=u$[t.transformType]||t.transformType,i=c$[t.transformType]||"",l=(t.operations?.length||0)>0,u=!!t.typeCoercion?.targetType,c=()=>!t.operations||t.operations.length===0?null:t.operations.length===1?d$[t.operations[0].type]||t.operations[0].type:`${t.operations.length} operations`,f=()=>{if(!t.expression)return null;const p=30;return t.expression.length<=p?t.expression:t.expression.substring(0,p)+"..."};return h.jsxs(er,{type:"transform",label:t.name||"Transform",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:[h.jsxs("div",{className:"transform-node-type",children:[h.jsx("span",{className:"transform-node-type-icon",children:i}),h.jsx("span",{className:"transform-node-type-label",children:r})]}),l&&h.jsxs("div",{className:"transform-node-operations",children:[h.jsx("span",{className:"transform-node-operations-icon",children:""}),h.jsx("span",{className:"transform-node-operations-text",children:c()})]}),!l&&t.expression&&h.jsx("div",{className:"transform-node-expression",children:h.jsx("code",{className:"transform-node-expression-code",children:f()})}),u&&h.jsxs("div",{className:"transform-node-coercion",children:[h.jsx("span",{className:"transform-node-coercion-icon",children:""}),h.jsx("span",{className:"transform-node-coercion-type",children:t.typeCoercion.targetType})]})]})}),p$={eq:"=",neq:"",gt:">",lt:"<",gte:"",lte:"",contains:"",startsWith:"^",endsWith:"$",matches:"~",in:"",empty:"",exists:""};function h$(e){const t=p$[e.operator]||e.operator,n=e.field.length>12?e.field.slice(0,10)+"":e.field;if(e.operator==="empty"||e.operator==="exists")return`${n} ${t}`;const r=e.value!==void 0?String(e.value).slice(0,8):"";return`${n} ${t} ${r}`}const m$=P.memo(function({data:t,selected:n}){const r=t.conditions||[],i=r.length,s=!!t.defaultBranch,l=i+(s?1:0),u=t.expressionMode?.enabled,c=[...r.map(f=>f.outputPort),...s?[t.defaultBranch]:[]];return h.jsx(er,{type:"switch",label:t.name||"Switch",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",outputPorts:Math.max(1,l),outputPortIds:c.length>0?c:void 0,children:h.jsxs("div",{className:"switch-node-content",children:[h.jsxs("div",{className:"switch-node-header-row",children:[h.jsxs("span",{className:`switch-node-mode-badge ${t.evaluationMode}`,children:[h.jsx("span",{className:"switch-node-mode-icon",children:t.evaluationMode==="first_match"?"1":""}),h.jsx("span",{className:"switch-node-mode-label",children:t.evaluationMode==="first_match"?"First Match":"All Match"})]}),h.jsxs("span",{className:"switch-node-count-badge",children:[i," branch",i!==1?"es":""]})]}),u&&h.jsxs("div",{className:"switch-node-expression-mode",children:[h.jsx("span",{className:"switch-node-expression-icon",children:""}),h.jsx("span",{className:"switch-node-expression-label",children:"Expression Mode"})]}),!u&&i>0&&h.jsxs("div",{className:"switch-branches",children:[r.slice(0,3).map((f,p)=>h.jsxs("div",{className:"branch-indicator",children:[h.jsx("span",{className:"branch-indicator-name",children:f.name||`Branch ${p+1}`}),h.jsx("span",{className:"branch-indicator-preview",children:h$(f)}),h.jsxs("span",{className:"branch-indicator-port",children:[" ",f.outputPort]})]},f.id||p)),i>3&&h.jsxs("div",{className:"branch-indicator branch-indicator-more",children:["+",i-3," more branch",i-3!==1?"es":""]})]}),u&&t.expressionMode?.expression&&h.jsx("div",{className:"switch-node-expression-preview",children:h.jsx("code",{className:"switch-node-expression-code",children:t.expressionMode.expression.length>30?t.expressionMode.expression.slice(0,28)+"":t.expressionMode.expression})}),s&&h.jsxs("div",{className:"branch-indicator branch-indicator-default",children:[h.jsx("span",{className:"branch-indicator-name",children:"Default"}),h.jsxs("span",{className:"branch-indicator-port",children:[" ",t.defaultBranch]})]}),i===0&&!u&&h.jsx("div",{className:"switch-node-empty",children:"No conditions defined"})]})})}),R1={forEach:{label:"For Each",icon:"",description:"Iterate over array items"},while:{label:"While",icon:"",description:"Loop while condition is true"},times:{label:"Times",icon:"",description:"Repeat N times"}};function g$(e){switch(e.loopType){case"forEach":if(e.forEach?.sourceArray){const t=e.forEach.sourceArray;return t.length>25?t.slice(0,23)+"":t}return null;case"while":if(e.while?.condition){const t=e.while.condition;return t.length>25?t.slice(0,23)+"":t}return null;case"times":if(e.times?.count!==void 0){const t=e.times.count;return typeof t=="number"?`${t}`:`${t}`}return null;default:return null}}function y$(e){if(e.loopType!=="forEach"||!e.forEach)return null;const t=e.forEach.itemVar||"item",n=e.forEach.indexVar||"index";return`${t}, ${n}`}const v$=P.memo(function({data:t,selected:n}){const r=R1[t.loopType]||R1.forEach,i=g$(t),s=y$(t),l=t.parallel?.enabled,u=t.results?.collect;return h.jsx(er,{type:"loop",label:t.name||"Loop",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"loop-node-content",children:[h.jsxs("div",{className:"loop-node-header-row",children:[h.jsxs("span",{className:"loop-node-type-badge",children:[h.jsx("span",{className:"loop-node-type-icon",children:r.icon}),h.jsx("span",{className:"loop-node-type-label",children:r.label})]}),l&&h.jsxs("span",{className:"loop-node-parallel-badge",title:"Parallel execution enabled",children:[h.jsx("span",{className:"loop-node-parallel-icon",children:""}),h.jsx("span",{className:"loop-node-parallel-label",children:"Parallel"})]})]}),i&&h.jsxs("div",{className:"loop-node-preview",children:[t.loopType==="forEach"&&h.jsx("span",{className:"loop-node-preview-label",children:"Source:"}),t.loopType==="while"&&h.jsx("span",{className:"loop-node-preview-label",children:"While:"}),t.loopType==="times"&&h.jsx("span",{className:"loop-node-preview-label",children:"Count:"}),h.jsx("code",{className:"loop-node-preview-value",children:i})]}),s&&h.jsxs("div",{className:"loop-node-vars",children:[h.jsx("span",{className:"loop-node-vars-label",children:"Variables:"}),h.jsx("code",{className:"loop-node-vars-value",children:s})]}),h.jsxs("div",{className:"loop-node-indicators",children:[l&&t.parallel?.batchSize&&h.jsxs("span",{className:"loop-node-indicator",title:"Batch size",children:[h.jsx("span",{className:"loop-node-indicator-icon",children:""}),h.jsxs("span",{className:"loop-node-indicator-text",children:["Batch: ",t.parallel.batchSize]})]}),l&&t.parallel?.delayBetween&&h.jsxs("span",{className:"loop-node-indicator",title:"Delay between batches",children:[h.jsx("span",{className:"loop-node-indicator-icon",children:""}),h.jsxs("span",{className:"loop-node-indicator-text",children:[t.parallel.delayBetween,"ms"]})]}),u&&h.jsxs("span",{className:"loop-node-collect-badge",title:"Collecting results",children:[h.jsx("span",{className:"loop-node-collect-icon",children:""}),h.jsx("span",{className:"loop-node-collect-label",children:t.results?.aggregationKey?` ${t.results.aggregationKey}`:"Collect"})]})]}),!i&&t.loopType==="forEach"&&h.jsx("div",{className:"loop-node-empty",children:"Configure source array"}),!i&&t.loopType==="while"&&h.jsx("div",{className:"loop-node-empty",children:"Configure condition"}),!i&&t.loopType==="times"&&h.jsx("div",{className:"loop-node-empty",children:"Configure iteration count"})]})})}),x$={wait_all:{label:"Wait All",icon:"",description:"Wait for all branches"},wait_any:{label:"Wait Any",icon:"",description:"Continue on first completion"},wait_n:{label:"Wait N",icon:"",description:"Wait for N branches"}},b$={array:{label:"Array",icon:""},object:{label:"Object",icon:""},first:{label:"First",icon:"1"},last:{label:"Last",icon:""}},w$=P.memo(function({data:t,selected:n}){const r=x$[t.mode],i=b$[t.combineStrategy],s=Math.max(2,t.branchKeys?.length||2),l=t.branchKeys&&t.branchKeys.length>0?t.branchKeys:Array.from({length:s},(u,c)=>`input-${c}`);return h.jsx(er,{type:"merge",label:t.name||"Merge",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",inputPorts:s,inputPortIds:l,children:h.jsxs("div",{className:"merge-node-content",children:[h.jsxs("div",{className:"merge-node-header-row",children:[h.jsxs("span",{className:`merge-node-mode-badge ${t.mode}`,children:[h.jsx("span",{className:"merge-node-mode-icon",children:r.icon}),h.jsx("span",{className:"merge-node-mode-label",children:t.mode==="wait_n"?`Wait ${t.waitCount||"N"}`:r.label})]}),h.jsxs("span",{className:"merge-node-count-badge",children:[s," input",s!==1?"s":""]})]}),h.jsxs("div",{className:"merge-node-strategy",children:[h.jsx("span",{className:"merge-node-strategy-icon",children:i.icon}),h.jsx("span",{className:"merge-node-strategy-label",children:i.label})]}),t.combineStrategy==="object"&&t.branchKeys&&t.branchKeys.length>0&&h.jsxs("div",{className:"merge-node-branches",children:[t.branchKeys.slice(0,3).map((u,c)=>h.jsxs("div",{className:"merge-branch-indicator",children:[h.jsxs("span",{className:"merge-branch-index",children:["#",c+1]}),h.jsx("span",{className:"merge-branch-key",children:u})]},c)),t.branchKeys.length>3&&h.jsxs("div",{className:"merge-branch-indicator merge-branch-more",children:["+",t.branchKeys.length-3," more"]})]}),t.timeout?.enabled&&h.jsxs("div",{className:"merge-node-timeout",children:[h.jsx("span",{className:"merge-node-timeout-icon",children:""}),h.jsxs("span",{className:"merge-node-timeout-label",children:[t.timeout.ms,"ms (",t.timeout.behavior,")"]})]})]})})}),_$={fixed:"Fixed",until:"Until",webhook:"Webhook",condition:"Condition"},k$={fixed:"",until:"",webhook:"",condition:""},S$={ms:"ms",s:"sec",m:"min",h:"hr"};function C$(e,t){return`${e}${S$[t]}`}function E$(e,t){const n=Math.round(e/1e3),r=Math.round(t/1e3);return`Poll: ${n}s, Max: ${r}s`}const N$=P.memo(function({data:t,selected:n}){const r=t.waitType||"fixed",i=_$[r],s=k$[r],u=(()=>{switch(r){case"fixed":return t.fixed?C$(t.fixed.duration,t.fixed.unit):null;case"until":if(t.until?.timestamp){const c=t.until.timestamp;return c.length>16?c.substring(0,16)+"...":c}return null;case"webhook":if(t.webhook?.path){const c=t.webhook.path;return c.length>20?"..."+c.slice(-17):c}return null;case"condition":return t.condition?E$(t.condition.pollInterval,t.condition.maxWait):null;default:return null}})();return h.jsx(er,{type:"wait",label:t.name||"Wait",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"wait-node-content",children:[h.jsxs("div",{className:"wait-node-type",children:[h.jsx("span",{className:"wait-node-type-icon",children:s}),h.jsx("span",{className:"wait-node-type-badge",children:i})]}),u&&h.jsx("div",{className:"wait-node-preview",children:h.jsx("span",{className:"wait-node-preview-text",children:u})})]})})}),M1={javascript:{label:"JS",icon:"",color:"#F7DF1E"},typescript:{label:"TS",icon:"",color:"#3178C6"}};function j$(e,t=30){if(!e)return"";const n=e.split(`
`).filter(i=>i.trim());if(n.length===0)return"";const r=n[0].trim();return r.length<=t?r:r.substring(0,t-3)+"..."}function T$(e){return e?e.split(`
`).filter(t=>t.trim()).length:0}function A$(e){return!e.networkAccess&&!e.fileSystemAccess?"strict":e.networkAccess&&e.fileSystemAccess?"open":"relaxed"}function P$(e){switch(A$(e)){case"strict":return{icon:"",label:"Strict",className:"code-sandbox-strict"};case"relaxed":return{icon:"",label:"Relaxed",className:"code-sandbox-relaxed"};case"open":return{icon:"",label:"Open",className:"code-sandbox-open"}}}const I$=P.memo(function({data:t,selected:n}){const r=M1[t.language]||M1.javascript,i=P$(t.sandbox),s=T$(t.code),l=j$(t.code),u=t.sandbox.memoryLimit>0||t.sandbox.timeLimit>0;return h.jsx(er,{type:"code",label:t.name||"Code",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"code-node-content",children:[h.jsxs("div",{className:"code-node-header-row",children:[h.jsxs("span",{className:"code-node-language-badge",style:{backgroundColor:r.color},title:`Language: ${t.language}`,children:[h.jsx("span",{className:"code-node-language-icon",children:r.icon}),h.jsx("span",{className:"code-node-language-label",children:r.label})]}),h.jsxs("span",{className:`code-node-sandbox-badge ${i.className}`,title:`Sandbox: ${i.label}`,children:[h.jsx("span",{className:"code-node-sandbox-icon",children:i.icon}),h.jsx("span",{className:"code-node-sandbox-label",children:i.label})]}),s>0&&h.jsxs("span",{className:"code-node-lines-badge",title:`${s} lines of code`,children:[s," ",s===1?"line":"lines"]})]}),l&&h.jsx("div",{className:"code-node-preview",children:h.jsx("code",{className:"code-node-preview-code",children:l})}),u&&h.jsxs("div",{className:"code-node-limits",children:[t.sandbox.memoryLimit>0&&h.jsxs("span",{className:"code-node-limit-badge",title:`Memory limit: ${t.sandbox.memoryLimit}MB`,children:[" ",t.sandbox.memoryLimit,"MB"]}),t.sandbox.timeLimit>0&&h.jsxs("span",{className:"code-node-limit-badge",title:`Time limit: ${t.sandbox.timeLimit}ms`,children:[" ",t.sandbox.timeLimit,"ms"]})]}),h.jsxs("div",{className:"code-node-access",children:[t.sandbox.networkAccess&&h.jsx("span",{className:"code-node-access-badge code-node-access-network",title:"Network access enabled",children:""}),t.sandbox.fileSystemAccess&&h.jsx("span",{className:"code-node-access-badge code-node-access-fs",title:"File system access enabled",children:""})]})]})})}),R$={postgresql:"#336791",mysql:"#4479A1",sqlite:"#003B57",mongodb:"#47A248",redis:"#DC382D"},M$={postgresql:"",mysql:"",sqlite:"",mongodb:"",redis:""},O$={postgresql:"PostgreSQL",mysql:"MySQL",sqlite:"SQLite",mongodb:"MongoDB",redis:"Redis"},L$={query:"SELECT",insert:"INSERT",update:"UPDATE",delete:"DELETE",upsert:"UPSERT"},D$={find:"find()",findOne:"findOne()",insert:"insert()",update:"update()",delete:"delete()"},q$={get:"GET",set:"SET",del:"DEL",hget:"HGET",hset:"HSET",lpush:"LPUSH",rpop:"RPOP"};function z$(e){return e.dbType==="mongodb"&&e.mongodb?.operation?D$[e.mongodb.operation]:e.dbType==="redis"&&e.redis?.operation?q$[e.redis.operation]:e.sql?.operation?L$[e.sql.operation]:null}function F$(e){if(e.dbType==="mongodb"&&e.mongodb?.collection)return e.mongodb.collection;if(e.dbType==="redis"&&e.redis?.key)return B$(e.redis.key,20);if(e.sql?.query){const t=e.sql.query.match(/(?:FROM|INTO|UPDATE)\s+[`"']?(\w+)[`"']?/i);if(t)return t[1]}return null}function B$(e,t){return e.length<=t?e:e.substring(0,t-3)+"..."}function $$(e){return!!(e.connection?.connectionString||e.connection?.credentialRef)}const H$=P.memo(function({data:t,selected:n}){const r=R$[t.dbType]||"#14B8A6",i=M$[t.dbType]||"",s=O$[t.dbType]||t.dbType,l=z$(t),u=F$(t),c=$$(t);return h.jsx(er,{type:"database",label:t.name||"Database",isActive:t.isActive,isSelected:n,status:t.isActive?"running":"idle",children:h.jsxs("div",{className:"database-node-content",children:[h.jsxs("div",{className:"database-type-row",children:[h.jsxs("span",{className:"database-type-badge",style:{backgroundColor:r},title:s,children:[h.jsx("span",{className:"database-type-icon",children:i}),h.jsx("span",{className:"database-type-label",children:s})]}),h.jsx("span",{className:`database-connection-status ${c?"connected":"disconnected"}`,title:c?"Connection configured":"No connection configured",children:c?"":""})]}),l&&h.jsxs("div",{className:"database-operation-row",children:[h.jsx("span",{className:"database-operation-badge",children:l}),u&&h.jsxs("span",{className:"database-target",title:u,children:[" ",u]})]}),h.jsxs("div",{className:"database-indicators",children:[t.connection?.poolSize&&t.connection.poolSize>1&&h.jsxs("span",{className:"database-pool-badge",title:`Pool size: ${t.connection.poolSize}`,children:[" ",t.connection.poolSize]}),t.connection?.credentialRef&&h.jsx("span",{className:"database-cred-badge",title:`Using credentials from: ${t.connection.credentialRef}`,children:" ref"}),t.sql?.params&&Object.keys(t.sql.params).length>0&&h.jsxs("span",{className:"database-params-badge",title:"Has query parameters",children:[" ",Object.keys(t.sql.params).length," params"]}),t.mongodb?.filter&&Object.keys(t.mongodb.filter).length>0&&h.jsx("span",{className:"database-filter-badge",title:"Has filter",children:" filter"}),t.redis?.ttl&&h.jsxs("span",{className:"database-ttl-badge",title:`TTL: ${t.redis.ttl}s`,children:[" ",t.redis.ttl,"s"]})]})]})})}),V$={action_trigger:n$,action_http:s$,action_set:l$,action_transform:f$,action_switch:m$,action_loop:v$,action_merge:w$,action_wait:N$,action_code:I$,action_database:H$},U$={llm:X2,sequential:Q2,loop:Z2,parallel:J2,router:eT,start:tT,end:nT,...V$},iT=P.memo(function({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:u,data:c,selected:f}){const[p]=wu({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:u}),m=c,g=m?.animated||!1,v=m?.isExecutionPath||!1,b=m?.animationSpeed||1,w=P.useMemo(()=>`${.5/b}s`,[b]),{strokeColor:k,strokeWidth:_,strokeDasharray:C}=P.useMemo(()=>g?{strokeColor:"#ef4444",strokeWidth:3,strokeDasharray:"8 4"}:v?{strokeColor:"#22c55e",strokeWidth:2.5,strokeDasharray:"none"}:f?{strokeColor:"#3b82f6",strokeWidth:2.5,strokeDasharray:"none"}:{strokeColor:"#6b7280",strokeWidth:2,strokeDasharray:"none"},[g,v,f]);return h.jsxs(h.Fragment,{children:[h.jsx("path",{id:t,d:p,fill:"none",stroke:k,strokeWidth:_,strokeDasharray:C,strokeLinecap:"round",className:"react-flow__edge-path",style:{animation:g?`dashFlow ${w} linear infinite`:"none",transition:"stroke 0.2s ease, stroke-width 0.2s ease"}}),h.jsx("path",{d:p,fill:"none",stroke:"transparent",strokeWidth:20,className:"react-flow__edge-interaction"}),g&&h.jsx("path",{d:p,fill:"none",stroke:k,strokeWidth:_+4,strokeDasharray:C,strokeLinecap:"round",style:{animation:`dashFlow ${w} linear infinite`,opacity:.3,filter:"blur(4px)"}}),h.jsx("style",{children:`
        @keyframes dashFlow {
          0% {
            stroke-dashoffset: 0;
          }
          100% {
            stroke-dashoffset: -12;
          }
        }
      `})]})});iT.displayName="AnimatedEdge";const sT=P.memo(function({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:u,data:c,selected:f}){const[p,m]=P.useState(!1),[g,v,b]=xv({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:u}),w=c,k=w?.animated||!1,_=w?.showOverlay&&w?.stateKeys&&w.stateKeys.length>0,C=w?.stateKeys||[],S=w?.highlightedKey,j=w?.onKeyHover,A=S&&C.includes(S),T=P.useCallback($=>{m(!0),j?.($)},[j]),N=P.useCallback(()=>{m(!1),j?.(null)},[j]),D=()=>k?"#ef4444":A?"#0F8A8A":f?"#3b82f6":"#6b7280",z=()=>k||A?3:f?2.5:2;return h.jsxs(h.Fragment,{children:[h.jsx("path",{id:t,d:g,fill:"none",stroke:D(),strokeWidth:z(),strokeDasharray:k?"8 4":"none",style:{animation:k?"dashFlow 0.5s linear infinite":"none",transition:"stroke 0.2s ease, stroke-width 0.2s ease"},className:"react-flow__edge-path"}),h.jsx("path",{d:g,fill:"none",stroke:"transparent",strokeWidth:20,className:"react-flow__edge-interaction"}),_&&h.jsx($3,{children:h.jsx("div",{className:"data-flow-label",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${v}px, ${b}px)`,pointerEvents:"all",zIndex:p?10:1},onMouseEnter:()=>T(C[0]),onMouseLeave:N,children:h.jsx("div",{className:`
                data-flow-badge
                ${p||A?"data-flow-badge-highlighted":""}
              `,children:C.map(($,O)=>h.jsxs("span",{className:"data-flow-key",onMouseEnter:()=>T($),children:[$,O<C.length-1&&h.jsx("span",{className:"data-flow-separator",children:", "})]},$))})})}),h.jsx("style",{children:`
        @keyframes dashFlow { 
          to { stroke-dashoffset: -12; } 
        }
        
        .data-flow-badge {
          display: inline-flex;
          align-items: center;
          gap: 2px;
          padding: 3px 8px;
          background: var(--accent-primary, #0F8A8A);
          color: white;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          white-space: nowrap;
          transition: all 0.2s ease;
          cursor: pointer;
        }
        
        .data-flow-badge:hover,
        .data-flow-badge-highlighted {
          background: var(--accent-primary, #0F8A8A);
          transform: scale(1.05);
          box-shadow: 0 4px 8px rgba(15, 138, 138, 0.4);
        }
        
        .data-flow-key {
          font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
        }
        
        .data-flow-separator {
          color: rgba(255, 255, 255, 0.7);
        }
        
        /* Dark theme adjustments */
        :root[data-theme="dark"] .data-flow-badge {
          background: var(--accent-primary, #4fd1c5);
          color: #1a1a2e;
        }
        
        :root[data-theme="dark"] .data-flow-badge:hover,
        :root[data-theme="dark"] .data-flow-badge-highlighted {
          box-shadow: 0 4px 8px rgba(79, 209, 197, 0.4);
        }
        
        :root[data-theme="dark"] .data-flow-separator {
          color: rgba(26, 26, 46, 0.7);
        }
      `})]})});sT.displayName="DataFlowEdge";const G$={animated:iT,dataflow:sT},W$=[{type:"llm",label:"LLM Agent",color:"#3182CE"},{type:"sequential",label:"Sequential Agent",color:"#805AD5"},{type:"loop",label:"Loop Agent",color:"#D69E2E"},{type:"parallel",label:"Parallel Agent",color:"#38A169"},{type:"router",label:"Router Agent",color:"#DD6B20"}];function K$({onDragStart:e,onCreate:t}){return h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Agents"}),h.jsx("div",{className:"space-y-1",children:W$.map(({type:n,label:r,color:i})=>h.jsxs("div",{draggable:!0,onDragStart:s=>e(s,n),onClick:()=>t(n),className:"p-1.5 rounded text-xs cursor-grab hover:opacity-80 text-white font-medium",style:{backgroundColor:i},children:[" ",r]},n))})]})}const Cu=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function Y$({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:r}){const i=(s,l)=>{s.dataTransfer.setData("text/plain",`tool:${l}`),s.dataTransfer.effectAllowed="copy"};return h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Tools"}),h.jsx("div",{className:"space-y-1",children:Cu.map(({type:s,label:l,icon:u})=>{const c=s==="function"||s==="mcp",f=c?t.some(m=>m.startsWith(s)):t.includes(s),p=c?t.filter(m=>m.startsWith(s)).length:0;return h.jsxs("div",{draggable:!0,onDragStart:m=>i(m,s),className:`p-1.5 rounded text-xs cursor-grab flex items-center gap-2 border ${e?"":"opacity-50"}`,style:{backgroundColor:f?"#38A169":"var(--bg-secondary)",color:f?"white":"var(--text-primary)",borderColor:"var(--border-default)"},onClick:()=>{e&&(c||!f?n(s):r(s))},children:[h.jsx("span",{children:u}),h.jsx("span",{className:"text-xs",children:l}),c&&p>0&&h.jsx("span",{className:"ml-auto text-xs bg-blue-600 text-white px-1 rounded",children:p}),!c&&f&&h.jsx("span",{className:"ml-auto text-xs",children:""})]},s)})})]})}function Bv({value:e,onChange:t,compact:n=!1}){const[r,i]=At.useState(()=>T4(e)),[s,l]=At.useState(!1),[u,c]=At.useState(""),f=At.useRef(null),p=cn.find(w=>w.id===r)||cn[0],m=p.models.find(w=>w.id===e);At.useEffect(()=>{function w(k){f.current&&!f.current.contains(k.target)&&l(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const g=p.models.filter(w=>w.name.toLowerCase().includes(u.toLowerCase())||w.description.toLowerCase().includes(u.toLowerCase())),v=w=>{i(w);const k=cn.find(_=>_.id===w);k&&k.models.length>0&&t(k.models[0].id)},b=w=>{t(w.id),l(!1),c("")};return n?h.jsx(Q$,{value:e,provider:p,providers:cn,onProviderChange:v,onModelChange:t}):h.jsxs("div",{className:"space-y-2",ref:f,children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-muted)"},children:"Provider"}),h.jsx("select",{className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},value:r,onChange:w=>v(w.target.value),children:cn.map(w=>h.jsxs("option",{value:w.id,children:[w.icon," ",w.name]},w.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-muted)"},children:"Model"}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>l(!s),className:"w-full px-3 py-2 rounded text-sm text-left flex items-center justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx("span",{className:"truncate",children:m?.name||e||"Select model..."}),m&&h.jsx("span",{className:"text-xs px-1 rounded",style:{backgroundColor:s2(m.tier),color:"white"},children:m.tier})]}),h.jsx("span",{style:{color:"var(--text-muted)"},children:s?"":""})]}),s&&h.jsxs("div",{className:"absolute z-50 w-full mt-1 rounded shadow-lg max-h-80 overflow-hidden",style:{backgroundColor:"var(--surface-panel)",border:"1px solid var(--border-default)"},children:[h.jsx("div",{className:"p-2",style:{borderBottom:"1px solid var(--border-default)"},children:h.jsx("input",{type:"text",placeholder:"Search models...",value:u,onChange:w=>c(w.target.value),className:"w-full px-2 py-1 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},autoFocus:!0})}),h.jsxs("div",{className:"overflow-y-auto max-h-60",children:[g.map(w=>h.jsx(X$,{model:w,isSelected:w.id===e,onClick:()=>b(w)},w.id)),g.length===0&&h.jsx("div",{className:"p-3 text-center text-sm",style:{color:"var(--text-muted)"},children:"No models found"})]}),h.jsxs("div",{className:"p-2 text-xs",style:{borderTop:"1px solid var(--border-default)",color:"var(--text-muted)",backgroundColor:"var(--bg-secondary)"},children:[h.jsx("span",{children:"Requires: "}),h.jsx("code",{style:{color:"var(--accent-primary)"},children:p.envVar}),p.envVarAlt&&h.jsxs("span",{children:[" or ",h.jsx("code",{style:{color:"var(--accent-primary)"},children:p.envVarAlt})]})]})]})]})]}),m&&h.jsxs("div",{className:"text-xs p-2 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[h.jsx("div",{className:"mb-1",children:m.description}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsxs("span",{title:"Context window",children:[" ",a2(m.contextWindow)]}),m.capabilities.map(w=>h.jsx("span",{title:w,children:i2(w)},w))]})]})]})}function X$({model:e,isSelected:t,onClick:n}){return h.jsxs("button",{onClick:n,className:"w-full px-3 py-2 text-left hover:opacity-90 transition-colors",style:{backgroundColor:t?"var(--accent-primary)":"transparent",color:t?"white":"var(--text-primary)"},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:e.name}),h.jsx("span",{className:"text-xs px-1 rounded",style:{backgroundColor:t?"rgba(255,255,255,0.2)":s2(e.tier),color:"white"},children:e.tier})]}),h.jsx("div",{className:"text-xs mt-0.5",style:{color:t?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:e.description}),h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs",style:{color:t?"rgba(255,255,255,0.7)":"var(--text-muted)"},children:[h.jsxs("span",{children:[" ",a2(e.contextWindow)]}),e.capabilities.slice(0,4).map(r=>h.jsx("span",{children:i2(r)},r)),e.capabilities.length>4&&h.jsxs("span",{children:["+",e.capabilities.length-4]})]})]})}function Q$({value:e,provider:t,providers:n,onProviderChange:r,onModelChange:i}){return h.jsxs("div",{className:"flex gap-1",children:[h.jsx("select",{className:"px-1 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)",color:"var(--text-primary)",width:"70px"},value:t.id,onChange:s=>r(s.target.value),children:n.map(s=>h.jsxs("option",{value:s.id,children:[s.icon," ",s.id]},s.id))}),h.jsx("select",{className:"flex-1 px-1 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},value:e,onChange:s=>i(s.target.value),children:t.models.map(s=>h.jsx("option",{value:s.id,children:s.name},s.id))})]})}function Z$({nodeId:e,agent:t,agents:n,toolConfigs:r,onUpdate:i,onRename:s,onAddSubAgent:l,onClose:u,onSelectTool:c,onRemoveTool:f}){const p=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[m,g]=At.useState(!1),[v,b]=At.useState(e),w=()=>{const C=v.trim().replace(/\s+/g,"_");C&&C!==e&&!n[C]?s(e,C):b(e),g(!1)},k=(C,S)=>{const j=n[C];j&&i(C,{tools:j.tools.filter(A=>A!==S)})},_=(C,S)=>{const j=n[C];if(j){let A=S;if(S==="function"||S==="mcp"){const T=j.tools.filter(N=>N.startsWith(S));A=`${S}_${T.length+1}`}else if(j.tools.includes(S))return;i(C,{tools:[...j.tools,A]})}};return h.jsxs("div",{className:"w-72 border-l p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m?h.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 border border-blue-500 rounded text-sm font-semibold",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},value:v,onChange:C=>b(C.target.value),onBlur:w,onKeyDown:C=>C.key==="Enter"&&w()}):h.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-500",style:{color:"var(--text-primary)"},onClick:()=>g(!0),title:"Click to rename",children:[e," ",h.jsx("span",{style:{color:"var(--text-muted)"},className:"text-xs",children:""})]}),h.jsx("button",{onClick:u,className:"px-2 py-1 rounded text-xs ml-2",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Close"})]}),p?h.jsx(J$,{nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:l,onSelectTool:c,onRemoveTool:k,onAddTool:_}):t.type==="router"?h.jsx(e6,{nodeId:e,agent:t,onUpdate:i}):h.jsx(t6,{nodeId:e,agent:t,toolConfigs:r,onUpdate:i,onSelectTool:c,onRemoveTool:f})]})}function J$({nodeId:e,agent:t,agents:n,onUpdate:r,onAddSubAgent:i,onSelectTool:s,onRemoveTool:l,onAddTool:u}){const[c,f]=At.useState(null);return h.jsxs("div",{children:[t.type==="loop"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-4 p-2 rounded text-xs",style:{backgroundColor:"rgba(128, 90, 213, 0.15)",border:"1px solid var(--node-loop)",color:"var(--text-primary)"},children:[h.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--node-loop)"},children:" Loop Agent Tips"}),h.jsx("p",{style:{color:"var(--text-secondary)"},children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Max Iterations"}),h.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.max_iterations||3,onChange:p=>r(e,{max_iterations:parseInt(p.target.value)||3})})]})]}),h.jsxs("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((p,m)=>{const g=n[p];if(!g)return null;const v=c===p;return h.jsxs("div",{className:"mb-2 rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)"},children:[h.jsxs("div",{className:"p-2 cursor-pointer flex items-center justify-between",style:{color:"var(--text-primary)"},onClick:()=>f(v?null:p),children:[h.jsxs("span",{className:"text-sm font-medium",children:[t.type==="parallel"?"":`${m+1}.`," ",p]}),h.jsx("span",{style:{color:"var(--text-muted)"},className:"text-xs",children:v?"":""})]}),v&&h.jsxs("div",{className:"p-2 pt-0",style:{borderTop:"1px solid var(--border-default)"},children:[h.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Model"}),h.jsx("div",{className:"mb-2",children:h.jsx(Bv,{value:g.model||"",onChange:b=>r(p,{model:b}),compact:!0})}),h.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Instruction"}),h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-16 mb-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:g.instruction,onChange:b=>r(p,{instruction:b.target.value})}),h.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Tools"}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(g.tools||[]).map(b=>{const w=b.startsWith("function")?"function":b.startsWith("mcp")?"mcp":b,k=Cu.find(C=>C.type===w),_=`${p}_${b}`;return h.jsxs("span",{className:"text-xs px-2 py-0.5 rounded flex items-center gap-1 cursor-pointer",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>s(_),children:[k?.icon," ",b," ",h.jsx("button",{onClick:C=>{C.stopPropagation(),l(p,b)},style:{color:"var(--accent-error)"},children:""})]},b)})}),h.jsx("div",{className:"flex flex-wrap gap-1",children:Cu.filter(b=>!g.tools?.includes(b.type)||b.type==="function"||b.type==="mcp").map(b=>h.jsxs("button",{onClick:()=>u(p,b.type),className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:["+ ",b.icon]},b.type))})]})]},p)}),h.jsx("button",{onClick:i,className:"w-full py-2 rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"+ Add Sub-Agent"})]})}function e6({nodeId:e,agent:t,onUpdate:n}){return h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Model"}),h.jsx("div",{className:"mb-3",children:h.jsx(Bv,{value:t.model||"",onChange:r=>n(e,{model:r})})}),h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Routing Instruction"}),h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-20 mb-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.instruction,onChange:r=>n(e,{instruction:r.target.value})}),h.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Routes"}),(t.routes||[]).map((r,i)=>h.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[h.jsx("input",{className:"flex-1 px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"condition",value:r.condition,onChange:s=>{const l=[...t.routes||[]];l[i]={...r,condition:s.target.value},n(e,{routes:l})}}),h.jsx("span",{style:{color:"var(--text-muted)"},children:""}),h.jsx("input",{className:"flex-1 px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"target",value:r.target,onChange:s=>{const l=[...t.routes||[]];l[i]={...r,target:s.target.value},n(e,{routes:l})}}),h.jsx("button",{style:{color:"var(--accent-error)"},className:"text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((s,l)=>l!==i)}),children:""})]},i)),h.jsx("button",{className:"w-full py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function t6({nodeId:e,agent:t,toolConfigs:n,onUpdate:r,onSelectTool:i,onRemoveTool:s}){const[l,u]=At.useState(!1);return h.jsxs("div",{className:"space-y-4",children:[h.jsxs(O1,{title:"Basic",children:[h.jsx(Do,{label:"Model",children:h.jsx(Bv,{value:t.model||"",onChange:c=>r(e,{model:c})})}),h.jsx(Do,{label:"Instruction",children:h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-24",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.instruction,onChange:c=>r(e,{instruction:c.target.value}),placeholder:"You are a helpful assistant..."})}),h.jsx(Do,{label:"Description",hint:"Optional agent description",children:h.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.description||"",onChange:c=>r(e,{description:c.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&h.jsx(O1,{title:"Tools",children:h.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(c=>{const f=c.startsWith("function")?"function":c.startsWith("mcp")?"mcp":c,p=Cu.find(b=>b.type===f),m=`${e}_${c}`,g=n[m],v=g&&"name"in g&&g.name?g.name:p?.label||c;return h.jsxs("span",{className:"text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer hover:opacity-80",style:{backgroundColor:g?"#38A169":"var(--bg-secondary)",color:g?"white":"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>i(m),children:[p?.icon," ",v," ",h.jsx("span",{className:"text-blue-400",children:""}),h.jsx("button",{onClick:b=>{b.stopPropagation(),s(c)},className:"ml-1 text-red-500 hover:text-red-400",children:""})]},c)})})}),h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>u(!l),className:"w-full text-left text-xs flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[h.jsx("span",{children:l?"":""})," Advanced Settings"]}),l&&h.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l",style:{borderColor:"var(--border-default)"},children:[h.jsx(Do,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-16",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.global_instruction||"",onChange:c=>r(e,{global_instruction:c.target.value}),placeholder:"Always respond in JSON format..."})}),h.jsx(Do,{label:"Output Key",hint:"Custom state key for agent output",children:h.jsx("input",{className:"w-full px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.output_key||"",onChange:c=>r(e,{output_key:c.target.value}),placeholder:"response (default)"})}),h.jsx(Do,{label:"Output Schema",hint:"JSON Schema for structured output",children:h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-xs h-20 font-mono",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.output_schema||"",onChange:c=>r(e,{output_schema:c.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),h.jsx(Do,{label:"Include Contents",children:h.jsxs("select",{className:"w-full px-2 py-1 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:t.include_contents||"all",onChange:c=>r(e,{include_contents:c.target.value}),children:[h.jsx("option",{value:"all",children:"All history"}),h.jsx("option",{value:"last",children:"Last message only"}),h.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function O1({title:e,children:t}){return h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide mb-2",style:{color:"var(--text-muted)"},children:e}),h.jsx("div",{className:"space-y-2",children:t})]})}function Do({label:e,hint:t,children:n}){return h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:[e,t&&h.jsxs("span",{className:"text-xs ml-1",style:{color:"var(--text-muted)"},children:["(",t,")"]})]}),n]})}const n6=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],r6=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function aT(e){const t=e.name||"my_function",n=e.parameters.map(i=>{const s=i.param_type==="number"?"as_f64().unwrap_or(0.0)":i.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${i.name} = args["${i.name}"].${s};`}).join(`
`),r=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${r}
}`}function o6(e,t){const n=e.split(`
`),r=t.parameters.length+1,i=n.length-1;return r>=i?t.code||"":n.slice(r,i).map(s=>s.replace(/^    /,"")).join(`
`)}function i6({toolId:e,config:t,onUpdate:n,onClose:r,onOpenCodeEditor:i}){const s=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",u=t||(s==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:s==="function"?{type:"function",name:"",description:"",parameters:[]}:s==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),c=["exit_loop","google_search","load_artifact"].includes(s);return!u&&!c?null:h.jsxs("div",{className:"w-80 border-l p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Configure Tool"}),h.jsx("button",{onClick:r,className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Close"})]}),s==="mcp"&&h.jsx(s6,{config:u,onUpdate:n}),s==="function"&&h.jsx(a6,{config:u,onUpdate:n,onOpenCodeEditor:i}),s==="browser"&&h.jsx(l6,{config:u,onUpdate:n}),c&&h.jsx(u6,{type:s})]})}function s6({config:e,onUpdate:t}){return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Quick Templates"}),h.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:r6.map(n=>h.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[h.jsx("span",{children:n.icon}),h.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Server Command"}),h.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Server Args (one per line)"}),h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-20",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function a6({config:e,onUpdate:t,onOpenCodeEditor:n}){const r=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),i=(l,u)=>{const c=[...e.parameters];c[l]={...c[l],...u},t({...e,parameters:c})},s=l=>t({...e,parameters:e.parameters.filter((u,c)=>c!==l)});return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Function Name"}),h.jsx("input",{className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"get_weather",value:e.name,onChange:l=>t({...e,name:l.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),h.jsx("textarea",{className:"w-full px-2 py-1 border rounded text-sm h-16",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.description,onChange:l=>t({...e,description:l.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Parameters"}),e.parameters.map((l,u)=>h.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[h.jsx("input",{className:"flex-1 px-1 py-0.5 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},placeholder:"name",value:l.name,onChange:c=>i(u,{name:c.target.value})}),h.jsxs("select",{className:"px-1 py-0.5 border rounded text-xs",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:l.param_type,onChange:c=>i(u,{param_type:c.target.value}),children:[h.jsx("option",{value:"string",children:"string"}),h.jsx("option",{value:"number",children:"number"}),h.jsx("option",{value:"boolean",children:"boolean"})]}),h.jsxs("label",{className:"text-xs flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[h.jsx("input",{type:"checkbox",checked:l.required,onChange:c=>i(u,{required:c.target.checked})}),"req"]}),h.jsx("button",{style:{color:"var(--accent-error)"},className:"text-xs",onClick:()=>s(u),children:""})]},u)),h.jsx("button",{className:"w-full py-1 rounded text-xs mt-1",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:r,children:"+ Add Parameter"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("label",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Code (Rust)"}),h.jsx("button",{className:"text-xs",style:{color:"var(--accent-primary)"},onClick:n,children:" Edit"})]}),h.jsx("textarea",{className:"w-full px-2 py-2 border rounded text-xs font-mono h-32 cursor-pointer",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-default)",color:"var(--text-muted)"},value:aT(e),readOnly:!0,onClick:n})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-secondary)"},children:"Templates"}),h.jsx("div",{className:"grid grid-cols-2 gap-1",children:n6.map(l=>h.jsxs("button",{className:"px-2 py-1 rounded text-xs flex items-center gap-1",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onClick:()=>t({...e,...l.template}),children:[h.jsx("span",{children:l.icon}),h.jsx("span",{className:"truncate",children:l.name})]},l.name))})]})]})}function l6({config:e,onUpdate:t}){return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-2 rounded text-xs",style:{backgroundColor:"rgba(234, 179, 8, 0.15)",border:"1px solid var(--accent-warning)",color:"var(--text-primary)"},children:[h.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--accent-warning)"},children:" Requirements"}),h.jsx("p",{style:{color:"var(--text-secondary)"},children:"Chrome + ChromeDriver required"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),h.jsx("label",{htmlFor:"headless",className:"text-sm",style:{color:"var(--text-primary)"},children:"Headless Mode"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Timeout (ms)"}),h.jsx("input",{type:"number",className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-default)",color:"var(--text-primary)"},value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function u6({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:r}=t[e]||{title:"Tool",desc:"No configuration needed."};return h.jsxs("div",{className:"p-2 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.15)",border:"1px solid var(--node-agent)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"font-semibold mb-1",style:{color:"var(--node-agent)"},children:[" ",n]}),h.jsx("p",{style:{color:"var(--text-secondary)"},children:r})]})}const c6=P.memo(function({snapshot:t,previousSnapshot:n,snapshots:r=[],currentIndex:i=-1,onHistorySelect:s,onClose:l}){const u=P.useMemo(()=>!t||!n?new Set:g6(n.outputState,t.outputState),[t,n]),c=P.useMemo(()=>t?r.map((f,p)=>({snapshot:f,index:p})).filter(({snapshot:f})=>f.nodeId===t.nodeId):[],[r,t]);return t?h.jsxs("div",{className:"state-inspector",children:[h.jsx(L1,{onClose:l}),h.jsxs("div",{className:"state-inspector-content",children:[h.jsx(d6,{snapshot:t}),h.jsx(D1,{title:"Input State",data:t.inputState,changedKeys:new Set,emptyMessage:"No input state"}),h.jsx(D1,{title:"Output State",data:t.outputState,changedKeys:u,emptyMessage:"No output state"}),h.jsx(p6,{snapshot:t}),c.length>1&&h.jsx(h6,{history:c,currentIndex:i,onSelect:s})]})]}):h.jsxs("div",{className:"state-inspector",children:[h.jsx(L1,{onClose:l}),h.jsxs("div",{className:"state-inspector-empty",children:[h.jsx("span",{className:"state-inspector-empty-icon",children:""}),h.jsx("span",{className:"state-inspector-empty-text",children:"Run the workflow to inspect state at each node"})]})]})});function L1({onClose:e}){return h.jsxs("div",{className:"state-inspector-header",children:[h.jsxs("span",{className:"state-inspector-title",children:[h.jsx("span",{className:"state-inspector-title-icon",children:""}),"State Inspector"]}),e&&h.jsx("button",{className:"state-inspector-close",onClick:e,"aria-label":"Close state inspector",children:h.jsx(m6,{})})]})}function d6({snapshot:e}){const t=x6(e.nodeId);return h.jsxs("div",{className:"state-node-info",children:[h.jsx("span",{className:"state-node-icon",children:t}),h.jsxs("div",{className:"state-node-details",children:[h.jsx("div",{className:"state-node-name",title:e.nodeLabel||e.nodeId,children:e.nodeLabel||e.nodeId}),e.step!==void 0&&h.jsxs("div",{className:"state-node-step",children:["Step ",e.step]})]})]})}function D1({title:e,data:t,changedKeys:n,emptyMessage:r}){const i=Object.keys(t).length;return h.jsxs("div",{className:"state-section",children:[h.jsx("div",{className:"state-section-header",children:h.jsxs("span",{className:"state-section-title",children:[e,i>0&&h.jsxs("span",{className:"state-section-badge",children:[i," keys"]})]})}),h.jsx(f6,{data:t,changedKeys:n,emptyMessage:r})]})}function f6({data:e,changedKeys:t=new Set,emptyMessage:n="Empty"}){return Object.keys(e).length===0?h.jsx("div",{className:"json-viewer",children:h.jsx("span",{className:"json-viewer-empty",children:n})}):h.jsx("div",{className:"json-viewer",children:h.jsx(lT,{data:e,changedKeys:t,depth:0})})}function lT({data:e,changedKeys:t,depth:n,parentKey:r=""}){const[i,s]=P.useState({}),l=P.useCallback(c=>{s(f=>({...f,[c]:!f[c]}))},[]),u=Object.entries(e);return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"json-bracket",children:"{"}),u.length>0&&h.jsx("div",{className:n>0?"json-nested":"",children:u.map(([c,f],p)=>{const m=r?`${r}.${c}`:c,g=t.has(c)||t.has(m),v=p===u.length-1,b=Eu(f)||Array.isArray(f),w=i[c];return h.jsxs("div",{children:[b?h.jsxs("span",{className:"json-collapsible",onClick:()=>l(c),children:[h.jsx("span",{className:"json-collapse-icon",children:w?"":""}),h.jsxs("span",{className:`json-key ${g?"changed":""}`,children:['"',c,'"']}),h.jsx("span",{className:"json-colon",children:": "}),w?h.jsx("span",{className:"json-collapsed-preview",children:Array.isArray(f)?`[${f.length} items]`:`{${Object.keys(f).length} keys}`}):null]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:`json-key ${g?"changed":""}`,children:['"',c,'"']}),h.jsx("span",{className:"json-colon",children:": "})]}),!w&&h.jsx("span",{className:g?"json-value changed":"",children:h.jsx(uT,{value:f,changedKeys:t,depth:n,parentKey:m})}),!v&&h.jsx("span",{className:"json-comma",children:","})]},c)})}),h.jsx("span",{className:"json-bracket",children:"}"})]})}function uT({value:e,changedKeys:t,depth:n,parentKey:r}){if(e===null)return h.jsx("span",{className:"json-null",children:"null"});if(e===void 0)return h.jsx("span",{className:"json-null",children:"undefined"});if(typeof e=="string"){const i=e.length>100?e.slice(0,100)+"...":e;return h.jsxs("span",{className:"json-string",children:['"',y6(i),'"']})}return typeof e=="number"?h.jsx("span",{className:"json-number",children:e}):typeof e=="boolean"?h.jsx("span",{className:"json-boolean",children:e.toString()}):Array.isArray(e)?e.length===0?h.jsx("span",{className:"json-bracket",children:"[]"}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"json-bracket",children:"["}),h.jsx("div",{className:"json-nested",children:e.map((i,s)=>h.jsxs("div",{children:[h.jsx(uT,{value:i,changedKeys:t,depth:n+1,parentKey:`${r}[${s}]`}),s<e.length-1&&h.jsx("span",{className:"json-comma",children:","})]},s))}),h.jsx("span",{className:"json-bracket",children:"]"})]}):Eu(e)?h.jsx(lT,{data:e,changedKeys:t,depth:n+1,parentKey:r}):h.jsx("span",{className:"json-string",children:String(e)})}function p6({snapshot:e}){return h.jsxs("div",{className:"state-meta",children:[h.jsxs("div",{className:"state-meta-item",children:[h.jsx("span",{className:"state-meta-label",children:"Duration:"}),h.jsx("span",{className:"state-meta-value",children:cT(e.duration)})]}),h.jsxs("div",{className:"state-meta-item",children:[h.jsx("span",{className:"state-meta-label",children:"Status:"}),h.jsx("span",{className:`state-meta-value ${e.status}`,children:e.status==="success"?" Success":e.status==="error"?" Error":" Running"})]}),e.iteration!==void 0&&e.iteration>0&&h.jsxs("div",{className:"state-meta-item",children:[h.jsx("span",{className:"state-meta-label",children:"Iteration:"}),h.jsx("span",{className:"state-meta-value",children:e.iteration})]}),e.error&&h.jsxs("div",{className:"state-meta-item",style:{width:"100%"},children:[h.jsx("span",{className:"state-meta-label",children:"Error:"}),h.jsx("span",{className:"state-meta-value error",title:e.error,children:v6(e.error,50)})]})]})}function h6({history:e,currentIndex:t,onSelect:n}){return h.jsxs("div",{className:"state-history",children:[h.jsx("div",{className:"state-history-header",children:h.jsxs("span",{className:"state-history-title",children:["History (",e.length,")"]})}),h.jsx("div",{className:"state-history-list",children:e.map(({snapshot:r,index:i})=>h.jsxs("div",{className:`state-history-item ${i===t?"active":""}`,onClick:()=>n?.(i),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&n?.(i),children:[h.jsx("span",{className:"state-history-step",children:r.step!==void 0?`#${r.step}`:`@${i}`}),h.jsx("span",{className:"state-history-node",children:cT(r.duration)}),h.jsx("span",{className:`state-history-status ${r.status}`,children:r.status==="success"?"":r.status==="error"?"":""})]},`${r.nodeId}-${r.timestamp}`))})]})}function m6(){return h.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function g6(e,t){const n=new Set;if(!e||!t)return n;for(const r of Object.keys(t))r in e&&av(e[r],t[r])||n.add(r);for(const r of Object.keys(e))r in t||n.add(r);return n}function av(e,t){if(e===t)return!0;if(e===null||t===null)return e===t;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?!1:e.every((n,r)=>av(n,t[r]));if(Eu(e)&&Eu(t)){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>av(e[i],t[i]))}return!1}function Eu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function y6(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}function cT(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;const t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${t}m ${n}s`}function v6(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function x6(e){const t=e.toLowerCase();return t.startsWith("trigger")?"":t.startsWith("http")?"":t.startsWith("set")?"":t.startsWith("transform")?"":t.startsWith("switch")?"":t.startsWith("merge")?"":t.startsWith("wait")?"":t.startsWith("code")?"":t.startsWith("database")?"":t.includes("loop")?"":t.includes("parallel")?"":t.includes("sequential")?"":t.includes("router")?"":t==="start"?"":t==="end"?"":""}const dT=[{name:"Entry",types:["trigger"]},{name:"Data",types:["set","transform"]},{name:"Control",types:["switch","loop","merge","wait"]},{name:"Integration",types:["http","database"]},{name:"Code",types:["code"]}];dT.flatMap(e=>e.types);function b6({type:e,onDragStart:t,onCreate:n}){const r=rT[e],i=oT[e],s=JB[e];return h.jsxs("div",{draggable:!0,onDragStart:l=>t(l,e),onClick:()=>n(e),className:"p-1.5 rounded text-xs cursor-grab hover:opacity-80 text-white font-medium",style:{backgroundColor:r},title:`Drag or click to add ${s} node`,children:[i," ",s]})}function w6({category:e,onDragStart:t,onCreate:n}){return h.jsxs("div",{className:"mb-1",children:[h.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide mb-1 px-0.5",style:{color:"var(--text-muted)"},children:e.name}),h.jsx("div",{className:"space-y-1",children:e.types.map(r=>h.jsx(b6,{type:r,onDragStart:t,onCreate:n},r))})]})}function _6({onDragStart:e,onCreate:t}){return h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Actions"}),dT.map(n=>h.jsx(w6,{category:n,onDragStart:e,onCreate:t},n.name))]})}const k6={thinking:"",tool:"",decision:""},S6={thinking:"thought-bubble-thinking",tool:"thought-bubble-tool",decision:"thought-bubble-decision"},fT=P.memo(function({text:t,position:n="right",streaming:r=!1,type:i="thinking",visible:s=!0,id:l,sourceNodeId:u,onDismiss:c,maxWidth:f=280,zIndex:p=1e3}){const[m,g]=P.useState(!1),[v,b]=P.useState(s),w=P.useRef(null);if(P.useEffect(()=>{if(s)b(!0),requestAnimationFrame(()=>{g(!0)});else{g(!1);const j=setTimeout(()=>{b(!1),c?.()},200);return()=>clearTimeout(j)}},[s,c]),!v||!t)return null;const k=k6[i],_=S6[i],C=`thought-bubble-${n}`,S=m?"thought-bubble-enter":"thought-bubble-exit";return h.jsxs("div",{ref:w,className:`thought-bubble ${C} ${_} ${S}`,style:{maxWidth:f,zIndex:p},"data-bubble-id":l,"data-source-node":u,role:"status","aria-live":"polite","aria-label":`${i} bubble: ${t}`,children:[h.jsx("div",{className:"thought-bubble-pointer"}),h.jsxs("div",{className:"thought-bubble-content",children:[h.jsx("span",{className:"thought-bubble-icon","aria-hidden":"true",children:k}),h.jsxs("span",{className:"thought-bubble-text",children:[t,r&&h.jsx("span",{className:"thought-bubble-cursor","aria-hidden":"true",children:""})]})]})]})});fT.displayName="ThoughtBubble";const C6=180,E6=100,N6=280,j6=80,eu=16,T6=["right","top","left","bottom"];function pT(e,t,n,r,i){const s=N6,l=j6;switch(i){case"right":return{x:e+n+eu,y:t+(r-l)/2,width:s,height:l};case"left":return{x:e-s-eu,y:t+(r-l)/2,width:s,height:l};case"top":return{x:e+(n-s)/2,y:t-l-eu,width:s,height:l};case"bottom":return{x:e+(n-s)/2,y:t+r+eu,width:s,height:l}}}function q1(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}function A6(e,t,n){for(const r of T6){const i=pT(e.x,e.y,e.width,e.height,r),s=t.some(u=>q1(i,u)),l=n.some(u=>q1(i,u.bounds));if(!s&&!l)return r}return"right"}const P6=P.memo(function({bubbles:t,onDismiss:n}){const{getNodes:r}=ja(),i=P.useMemo(()=>r().map(c=>({id:c.id,x:c.position.x,y:c.position.y,width:c.measured?.width??c.width??C6,height:c.measured?.height??c.height??E6})),[r]),s=P.useMemo(()=>{const u=[];return t.map(c=>{const f=i.find(v=>v.id===c.nodeId);if(!f)return{...c,position:"right"};const p=i.filter(v=>v.id!==c.nodeId),m=A6(f,p,u),g=pT(f.x,f.y,f.width,f.height,m);return u.push({position:m,bounds:g}),{...c,position:m}})},[t,i]),l=P.useCallback(u=>{n?.(u)},[n]);return t.length===0?null:h.jsx(h.Fragment,{children:s.map((u,c)=>h.jsx(fT,{id:u.id,text:u.text,type:u.type,position:u.position,streaming:u.streaming,sourceNodeId:u.nodeId,visible:!0,zIndex:1e3+c,onDismiss:()=>l(u.id)},u.id))})});P6.displayName="ThoughtBubbleManager";function I6({onConfirm:e,onClose:t}){const[n,r]=P.useState(""),i=s=>{s.preventDefault(),n.trim()&&e(n.trim())};return h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:h.jsxs("div",{className:"rounded-lg w-96 flex flex-col shadow-xl",style:{backgroundColor:"var(--surface-panel)",border:"1px solid var(--border-default)"},onClick:s=>s.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),h.jsx("button",{onClick:t,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsxs("form",{onSubmit:i,className:"p-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-secondary)"},children:"Project Name"}),h.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:s=>r(s.target.value),className:"w-full px-3 py-2 rounded text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},placeholder:"My Awesome Agent"})]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 rounded text-sm hover:opacity-80",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),h.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-3 py-2 rounded text-sm text-white disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",style:{backgroundColor:"var(--accent-primary)"},children:"Create Project"})]})]})]})})}function z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R6(e){if(Array.isArray(e))return e}function M6(e,t,n){return(t=B6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,u=[],c=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function L6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(n),!0).forEach(function(r){M6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D6(e,t){if(e==null)return{};var n,r,i=q6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z6(e,t){return R6(e)||O6(e,t)||$6(e,t)||L6()}function F6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6(e){var t=F6(e,"string");return typeof t=="symbol"?t:t+""}function $6(e,t){if(e){if(typeof e=="string")return z1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z1(e,t):void 0}}function H6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){H6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,s){return s(i)},r)}}function Js(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return t.apply(n,[].concat(i,u))}}}function Nu(e){return{}.toString.call(e).includes("Object")}function U6(e){return!Object.keys(e).length}function ba(e){return typeof e=="function"}function G6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W6(e,t){return Nu(t)||ro("changeType"),Object.keys(t).some(function(n){return!G6(e,n)})&&ro("changeField"),t}function K6(e){ba(e)||ro("selectorType")}function Y6(e){ba(e)||Nu(e)||ro("handlerType"),Nu(e)&&Object.values(e).some(function(t){return!ba(t)})&&ro("handlersType")}function X6(e){e||ro("initialIsRequired"),Nu(e)||ro("initialType"),U6(e)&&ro("initialContent")}function Q6(e,t){throw new Error(e[t]||e.default)}var Z6={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ro=Js(Q6)(Z6),tu={changes:W6,selector:K6,handler:Y6,initial:X6};function J6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tu.initial(e),tu.handler(t);var n={current:e},r=Js(n8)(n,t),i=Js(t8)(n),s=Js(tu.changes)(e),l=Js(e8)(n);function u(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return tu.selector(f),f(n.current)}function c(f){V6(r,i,s,l)(f)}return[u,c]}function e8(e,t){return ba(t)?t(e.current):t}function t8(e,t){return e.current=H1(H1({},e.current),t),t}function n8(e,t,n){return ba(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var r8={create:J6},o8={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function i8(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return t.apply(n,[].concat(i,u))}}}function s8(e){return{}.toString.call(e).includes("Object")}function a8(e){return e||V1("configIsRequired"),s8(e)||V1("configType"),e.urls?(l8(),{paths:{vs:e.urls.monacoBase}}):e}function l8(){console.warn(hT.deprecation)}function u8(e,t){throw new Error(e[t]||e.default)}var hT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},V1=i8(u8)(hT),c8={config:a8},d8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,l){return l(s)},i)}};function mT(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],mT(e[n],t[n]))}),B1(B1({},e),t)}var f8={type:"cancelation",msg:"operation is manually canceled"};function gf(e){var t=!1,n=new Promise(function(r,i){e.then(function(s){return t?i(f8):r(s)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var p8=["monaco"],h8=r8.create({config:o8,isInitialized:!1,resolve:null,reject:null,monaco:null}),gT=z6(h8,2),Ia=gT[0],Uu=gT[1];function m8(e){var t=c8.config(e),n=t.monaco,r=D6(t,p8);Uu(function(i){return{config:mT(i.config,r),monaco:n}})}function g8(){var e=Ia(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(Uu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),gf(yf);if(window.monaco&&window.monaco.editor)return yT(window.monaco),e.resolve(window.monaco),gf(yf);d8(y8,x8)(b8)}return gf(yf)}function y8(e){return document.body.appendChild(e)}function v8(e){var t=document.createElement("script");return e&&(t.src=e),t}function x8(e){var t=Ia(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=v8("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function b8(){var e=Ia(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;yT(r),e.resolve(r)},function(n){e.reject(n)})}function yT(e){Ia().monaco||Uu({monaco:e})}function w8(){return Ia(function(e){var t=e.monaco;return t})}var yf=new Promise(function(e,t){return Uu({resolve:e,reject:t})}),vT={config:m8,init:g8,__getMonacoInstance:w8},_8={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},vf=_8,k8={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},S8=k8;function C8({children:e}){return At.createElement("div",{style:S8.container},e)}var E8=C8,N8=E8;function j8({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:l}){return At.createElement("section",{style:{...vf.wrapper,width:e,height:t},...l},!n&&At.createElement(N8,null,r),At.createElement("div",{ref:i,style:{...vf.fullWidth,...!n&&vf.hide},className:s}))}var T8=j8,xT=P.memo(T8);function A8(e){P.useEffect(e,[])}var bT=A8;function P8(e,t,n=!0){let r=P.useRef(!0);P.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var ln=P8;function la(){}function Di(e,t,n,r){return I8(e,r)||R8(e,t,n,r)}function I8(e,t){return e.editor.getModel(wT(e,t))}function R8(e,t,n,r){return e.editor.createModel(t,n,r?wT(e,r):void 0)}function wT(e,t){return e.Uri.parse(t)}function M8({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:c=!1,theme:f="light",loading:p="Loading...",options:m={},height:g="100%",width:v="100%",className:b,wrapperProps:w={},beforeMount:k=la,onMount:_=la}){let[C,S]=P.useState(!1),[j,A]=P.useState(!0),T=P.useRef(null),N=P.useRef(null),D=P.useRef(null),z=P.useRef(_),$=P.useRef(k),O=P.useRef(!1);bT(()=>{let q=vT.init();return q.then(V=>(N.current=V)&&A(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>T.current?R():q.cancel()}),ln(()=>{if(T.current&&N.current){let q=T.current.getOriginalEditor(),V=Di(N.current,e||"",r||n||"text",s||"");V!==q.getModel()&&q.setModel(V)}},[s],C),ln(()=>{if(T.current&&N.current){let q=T.current.getModifiedEditor(),V=Di(N.current,t||"",i||n||"text",l||"");V!==q.getModel()&&q.setModel(V)}},[l],C),ln(()=>{let q=T.current.getModifiedEditor();q.getOption(N.current.editor.EditorOption.readOnly)?q.setValue(t||""):t!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[t],C),ln(()=>{T.current?.getModel()?.original.setValue(e||"")},[e],C),ln(()=>{let{original:q,modified:V}=T.current.getModel();N.current.editor.setModelLanguage(q,r||n||"text"),N.current.editor.setModelLanguage(V,i||n||"text")},[n,r,i],C),ln(()=>{N.current?.editor.setTheme(f)},[f],C),ln(()=>{T.current?.updateOptions(m)},[m],C);let B=P.useCallback(()=>{if(!N.current)return;$.current(N.current);let q=Di(N.current,e||"",r||n||"text",s||""),V=Di(N.current,t||"",i||n||"text",l||"");T.current?.setModel({original:q,modified:V})},[n,t,i,e,r,s,l]),G=P.useCallback(()=>{!O.current&&D.current&&(T.current=N.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...m}),B(),N.current?.editor.setTheme(f),S(!0),O.current=!0)},[m,f,B]);P.useEffect(()=>{C&&z.current(T.current,N.current)},[C]),P.useEffect(()=>{!j&&!C&&G()},[j,C,G]);function R(){let q=T.current?.getModel();u||q?.original?.dispose(),c||q?.modified?.dispose(),T.current?.dispose()}return At.createElement(xT,{width:v,height:g,isEditorReady:C,loading:p,_ref:D,className:b,wrapperProps:w})}var O8=M8;P.memo(O8);function L8(e){let t=P.useRef();return P.useEffect(()=>{t.current=e},[e]),t.current}var D8=L8,nu=new Map;function q8({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:s,theme:l="light",line:u,loading:c="Loading...",options:f={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:g=!1,width:v="100%",height:b="100%",className:w,wrapperProps:k={},beforeMount:_=la,onMount:C=la,onChange:S,onValidate:j=la}){let[A,T]=P.useState(!1),[N,D]=P.useState(!0),z=P.useRef(null),$=P.useRef(null),O=P.useRef(null),B=P.useRef(C),G=P.useRef(_),R=P.useRef(),q=P.useRef(r),V=D8(s),Y=P.useRef(!1),H=P.useRef(!1);bT(()=>{let F=vT.init();return F.then(K=>(z.current=K)&&D(!1)).catch(K=>K?.type!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>$.current?I():F.cancel()}),ln(()=>{let F=Di(z.current,e||r||"",t||i||"",s||n||"");F!==$.current?.getModel()&&(m&&nu.set(V,$.current?.saveViewState()),$.current?.setModel(F),m&&$.current?.restoreViewState(nu.get(s)))},[s],A),ln(()=>{$.current?.updateOptions(f)},[f],A),ln(()=>{!$.current||r===void 0||($.current.getOption(z.current.editor.EditorOption.readOnly)?$.current.setValue(r):r!==$.current.getValue()&&(H.current=!0,$.current.executeEdits("",[{range:$.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),$.current.pushUndoStop(),H.current=!1))},[r],A),ln(()=>{let F=$.current?.getModel();F&&i&&z.current?.editor.setModelLanguage(F,i)},[i],A),ln(()=>{u!==void 0&&$.current?.revealLine(u)},[u],A),ln(()=>{z.current?.editor.setTheme(l)},[l],A);let X=P.useCallback(()=>{if(!(!O.current||!z.current)&&!Y.current){G.current(z.current);let F=s||n,K=Di(z.current,r||e||"",t||i||"",F||"");$.current=z.current?.editor.create(O.current,{model:K,automaticLayout:!0,...f},p),m&&$.current.restoreViewState(nu.get(F)),z.current.editor.setTheme(l),u!==void 0&&$.current.revealLine(u),T(!0),Y.current=!0}},[e,t,n,r,i,s,f,p,m,l,u]);P.useEffect(()=>{A&&B.current($.current,z.current)},[A]),P.useEffect(()=>{!N&&!A&&X()},[N,A,X]),q.current=r,P.useEffect(()=>{A&&S&&(R.current?.dispose(),R.current=$.current?.onDidChangeModelContent(F=>{H.current||S($.current.getValue(),F)}))},[A,S]),P.useEffect(()=>{if(A){let F=z.current.editor.onDidChangeMarkers(K=>{let L=$.current.getModel()?.uri;if(L&&K.find(U=>U.path===L.path)){let U=z.current.editor.getModelMarkers({resource:L});j?.(U)}});return()=>{F?.dispose()}}return()=>{}},[A,j]);function I(){R.current?.dispose(),g?m&&nu.set(s,$.current.saveViewState()):$.current.getModel()?.dispose(),$.current.dispose()}return At.createElement(xT,{width:v,height:b,isEditorReady:A,loading:c,_ref:O,className:w,wrapperProps:k})}var z8=q8,F8=P.memo(z8),_T=F8;function B8({code:e,onClose:t}){const{mode:n}=oo(),r=n==="light"?"light":"vs-dark";return h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:h.jsxs("div",{className:"rounded-lg w-4/5 h-4/5 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:i=>i.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Generated Rust Code"}),h.jsx("button",{onClick:t,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(i=>h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h3",{className:"text-sm font-mono",style:{color:"var(--accent-primary)"},children:i.path}),h.jsx("button",{onClick:()=>navigator.clipboard.writeText(i.content),className:"text-xs px-2 py-1 rounded hover:opacity-80",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Copy"})]}),h.jsx("div",{className:"rounded overflow-hidden",style:{border:"1px solid var(--border-default)"},children:h.jsx(_T,{height:Math.min(600,i.content.split(`
`).length*19+20),language:i.path.endsWith(".toml")?"toml":"rust",value:i.content,theme:r,options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},i.path))})]})})}function $8({building:e,success:t,output:n,path:r,onClose:i,isAutobuild:s=!1}){const l=P.useRef(null);return P.useEffect(()=>{l.current&&e&&(l.current.scrollTop=l.current.scrollHeight)},[n,e]),h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:h.jsxs("div",{className:"rounded-lg w-3/5 max-h-4/5 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:u=>u.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-500":t?"text-green-500":"text-red-500"}`,children:e?s?" Auto Building...":" Building...":t?" Build Successful":" Build Failed"}),h.jsx("button",{onClick:i,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r&&h.jsxs("div",{className:"mb-4 p-3 rounded border",style:{backgroundColor:"rgba(56, 161, 105, 0.1)",borderColor:"var(--accent-success)"},children:[h.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Binary path:"}),h.jsx("code",{className:"text-sm font-mono",style:{color:"var(--accent-success)"},children:r})]}),h.jsx("pre",{ref:l,className:"p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:n})]})]})})}function H8({config:e,onUpdate:t,onClose:n}){const{mode:r}=oo(),i=r==="light"?"light":"vs-dark";return h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:h.jsxs("div",{className:"rounded-lg w-11/12 h-5/6 flex flex-col",style:{backgroundColor:"var(--surface-panel)"},onClick:s=>s.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border-default)"},children:[h.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--accent-primary)"},children:[e.name||"function","_fn"]}),h.jsx("button",{onClick:n,className:"text-xl hover:opacity-70",style:{color:"var(--text-muted)"},children:""})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsx(_T,{height:"100%",defaultLanguage:"rust",theme:i,value:aT(e),onChange:s=>s&&t({...e,code:o6(s,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),h.jsx("div",{className:"p-4 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:h.jsx("button",{onClick:n,className:"px-4 py-2 rounded text-sm text-white",style:{backgroundColor:"var(--accent-primary)"},children:"Done"})})]})})}const ru=[{id:"welcome",title:"Welcome to ADK Studio!",description:"ADK Studio is a visual builder for creating AI agent workflows. Let's walk through the basics to get you started.",icon:"",tips:["Build complex agent systems visually","Test and debug in real-time","Export production-ready Rust code"]},{id:"create-project",title:"Create a Project",description:"Start by creating a new project. Each project contains your agent workflow and configuration.",icon:"",tips:['Click "File  New Project" in the menu',"Give your project a descriptive name","Or select a template to start quickly"]},{id:"add-agents",title:"Add Agents",description:"Drag agents from the left palette onto the canvas. Each agent type has different capabilities.",icon:"",tips:["LLM Agent: Basic AI agent with model access","Sequential: Run agents in order","Parallel: Run agents simultaneously","Loop: Iterate until a condition is met","Router: Route to different agents based on input"]},{id:"connect-nodes",title:"Connect Nodes",description:"Connect agents by dragging from one node's output handle to another's input handle.",icon:"",tips:["Drag from the bottom handle to the top handle","Double-click an edge to remove it","Use the auto-layout button to organize nodes"]},{id:"configure-agents",title:"Configure Agents",description:"Click on an agent to open its properties panel. Configure the model, instructions, and tools.",icon:"",tips:["Set the system instruction for each agent","Add tools like Google Search or Code Execution","Configure model parameters like temperature"]},{id:"run-tests",title:"Build & Test",description:"Build your project and test it in the console. Watch agents execute in real-time!",icon:"",tips:['Click "Build" to compile your workflow',"Use the console to send test messages","Watch the timeline to debug execution","Inspect state at each node"]},{id:"complete",title:"You're Ready!",description:"You now know the basics of ADK Studio. Explore templates, experiment with different agent types, and build amazing AI workflows!",icon:"",tips:["Browse the Template Gallery for inspiration","Export your workflow as Rust code","Check the Help menu for keyboard shortcuts"]}];function V8({onComplete:e,onSkip:t,onClose:n}){const[r,i]=P.useState(0),s=ru[r],l=r===0,u=r===ru.length-1,c=()=>{u?e():i(r+1)},f=()=>{l||i(r-1)},p=()=>{t()};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},onClick:n,children:h.jsxs("div",{className:"w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--surface-panel)"},onClick:m=>m.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(NB,{size:20}),h.jsx("span",{className:"font-semibold",children:"Getting Started"})]}),h.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-white/20 transition-colors",children:h.jsx(Y2,{size:20})})]}),h.jsx("div",{className:"flex gap-1 px-6 py-3",style:{backgroundColor:"var(--bg-secondary)"},children:ru.map((m,g)=>h.jsx("div",{className:"flex-1 h-1 rounded-full transition-colors",style:{backgroundColor:g<=r?"var(--accent-primary)":"var(--border-default)"}},g))}),h.jsxs("div",{className:"px-6 py-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("span",{className:"text-5xl mb-4 block",children:s.icon}),h.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:s.title}),h.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:s.description})]}),h.jsx("div",{className:"rounded-lg p-4 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:h.jsx("ul",{className:"space-y-2",children:s.tips.map((m,g)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm",style:{color:"var(--text-primary)"},children:[h.jsx(wB,{size:16,className:"mt-0.5 flex-shrink-0",style:{color:"var(--accent-primary)"}}),h.jsx("span",{children:m})]},g))})}),h.jsxs("div",{className:"text-center text-xs mb-4",style:{color:"var(--text-muted)"},children:["Step ",r+1," of ",ru.length]})]}),h.jsxs("div",{className:"flex items-center justify-between px-6 py-4",style:{borderTop:"1px solid var(--border-default)",backgroundColor:"var(--bg-secondary)"},children:[h.jsx("button",{onClick:p,className:"px-4 py-2 text-sm rounded transition-colors",style:{color:"var(--text-secondary)"},children:"Skip Tutorial"}),h.jsxs("div",{className:"flex items-center gap-2",children:[!l&&h.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-4 py-2 text-sm rounded transition-colors",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[h.jsx(_B,{size:16}),"Back"]}),h.jsxs("button",{onClick:c,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium rounded transition-colors",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:[u?"Get Started":"Next",!u&&h.jsx(kB,{size:16})]})]})]})]})})}const U8=P.memo(function({snapshots:t,currentIndex:n,onScrub:r,isCollapsed:i,onToggleCollapse:s}){const l=P.useMemo(()=>t.filter(f=>!f.nodeId.startsWith("__")),[t]),u=P.useCallback(f=>{const p=l[f],m=t.findIndex(g=>g===p);m>=0&&r(m)},[l,t,r]),c=P.useMemo(()=>{if(n<0)return-1;const f=t[n];return l.findIndex(p=>p===f)},[n,t,l]);return h.jsxs("div",{className:`timeline-container ${i?"collapsed":"expanded"}`,children:[h.jsxs("div",{className:"timeline-header",onClick:s,children:[h.jsxs("div",{className:"timeline-header-left",children:[h.jsx("span",{className:"timeline-title",children:"Execution Timeline"}),l.length>0&&h.jsxs("span",{className:"timeline-count",children:[l.length," steps"]})]}),h.jsx(K8,{className:`timeline-toggle-icon ${i?"collapsed":""}`})]}),!i&&h.jsx(h.Fragment,{children:l.length===0?h.jsx(W8,{}):h.jsx("div",{className:"timeline-track",children:l.map((f,p)=>h.jsx(G8,{snapshot:f,index:p,isActive:p===c,onClick:()=>u(p),showConnector:p<l.length-1,isConnectorActive:p<c},`${f.nodeId}-${f.timestamp}`))})})]})}),G8=P.memo(function({snapshot:t,index:n,isActive:r,onClick:i,showConnector:s,isConnectorActive:l}){const u=`status-${t.status}`,c=t.status==="error";return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`timeline-node ${u} ${r?"active":""}`,onClick:i,role:"button",tabIndex:0,onKeyDown:f=>f.key==="Enter"&&i(),"aria-label":`Step ${n+1}: ${t.nodeLabel||t.nodeId}, ${t.status}${c&&t.error?`: ${t.error}`:""}, ${U1(t.duration)}`,title:c&&t.error?`Error: ${t.error}`:void 0,children:[h.jsx("div",{className:"timeline-node-status",children:h.jsx(Fv,{status:t.status==="running"?"running":t.status,size:"sm"})}),h.jsx("span",{className:"timeline-node-label",title:t.nodeLabel||t.nodeId,children:t.nodeLabel||t.nodeId}),h.jsx("span",{className:"timeline-node-duration",children:U1(t.duration)}),t.step!==void 0&&h.jsxs("span",{className:"timeline-node-step",children:["Step ",t.step]}),c&&h.jsx("span",{className:"timeline-node-error-badge",title:t.error,children:""})]}),s&&h.jsx("div",{className:`timeline-connector ${l?"active":""}`,children:h.jsx("div",{className:"timeline-connector-line"})})]})});function W8(){return h.jsxs("div",{className:"timeline-empty",children:[h.jsx("span",{className:"timeline-empty-icon",children:""}),h.jsx("span",{className:"timeline-empty-text",children:"Run the workflow to see execution timeline"})]})}function K8({className:e}){return h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:h.jsx("polyline",{points:"6 9 12 15 18 9"})})}function U1(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;const t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${t}m ${n}s`}P.memo(function({snapshots:t,currentIndex:n,onScrub:r,onScrubStart:i,onScrubEnd:s}){const l=P.useRef(null),[u,c]=P.useState(!1),f=t.filter(A=>!A.nodeId.startsWith("__")),p=Math.max(0,f.length-1),m=t[n]?f.findIndex(A=>A===t[n]):-1,g=Math.max(0,m),v=p>0?g/p*100:0,b=P.useCallback(A=>{if(!l.current||p===0)return 0;const T=l.current.getBoundingClientRect(),N=A-T.left,D=Math.max(0,Math.min(1,N/T.width));return Math.round(D*p)},[p]),w=P.useCallback(A=>{if(A<0||A>=f.length)return-1;const T=f[A];return t.findIndex(N=>N===T)},[f,t]),k=P.useCallback(A=>{A.preventDefault(),c(!0),i?.();const T=b(A.clientX),N=w(T);N>=0&&r(N)},[b,w,r,i]);P.useEffect(()=>{if(!u)return;const A=N=>{const D=b(N.clientX),z=w(D);z>=0&&r(z)},T=()=>{c(!1),s?.()};return document.addEventListener("mousemove",A),document.addEventListener("mouseup",T),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",T)}},[u,b,w,r,s]);const _=P.useCallback(A=>{const T=b(A.clientX),N=w(T);N>=0&&r(N)},[b,w,r]),C=P.useCallback(A=>{let T=g;switch(A.key){case"ArrowLeft":case"ArrowDown":T=Math.max(0,g-1);break;case"ArrowRight":case"ArrowUp":T=Math.min(p,g+1);break;case"Home":T=0;break;case"End":T=p;break;default:return}A.preventDefault();const N=w(T);N>=0&&r(N)},[g,p,w,r]);if(f.length===0)return null;const S=f[g],j=S?.nodeLabel||S?.nodeId||"Unknown";return h.jsxs("div",{className:"timeline-scrubber",children:[h.jsxs("div",{ref:l,className:"timeline-scrubber-track",onMouseDown:k,onClick:_,role:"slider","aria-label":"Timeline scrubber","aria-valuemin":0,"aria-valuemax":p,"aria-valuenow":g,"aria-valuetext":`Step ${g+1} of ${f.length}: ${j}`,tabIndex:0,onKeyDown:C,children:[h.jsx("div",{className:"timeline-scrubber-progress",style:{width:`${v}%`}}),h.jsx("div",{className:"timeline-scrubber-thumb",style:{left:`${v}%`}})]}),h.jsxs("div",{className:"timeline-scrubber-labels",children:[h.jsxs("span",{children:["Step ",g+1," / ",f.length]}),h.jsx("span",{title:j,children:Y8(j,30)})]})]})});function Y8(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function $v(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xf,G1;function X8(){if(G1)return xf;G1=1;function e(){this.__data__=[],this.size=0}return xf=e,xf}var bf,W1;function Ji(){if(W1)return bf;W1=1;function e(t,n){return t===n||t!==t&&n!==n}return bf=e,bf}var wf,K1;function Gu(){if(K1)return wf;K1=1;var e=Ji();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return wf=t,wf}var _f,Y1;function Q8(){if(Y1)return _f;Y1=1;var e=Gu(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():n.call(s,l,1),--this.size,!0}return _f=r,_f}var kf,X1;function Z8(){if(X1)return kf;X1=1;var e=Gu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return kf=t,kf}var Sf,Q1;function J8(){if(Q1)return Sf;Q1=1;var e=Gu();function t(n){return e(this.__data__,n)>-1}return Sf=t,Sf}var Cf,Z1;function eH(){if(Z1)return Cf;Z1=1;var e=Gu();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Cf=t,Cf}var Ef,J1;function Wu(){if(J1)return Ef;J1=1;var e=X8(),t=Q8(),n=Z8(),r=J8(),i=eH();function s(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ef=s,Ef}var Nf,e_;function tH(){if(e_)return Nf;e_=1;var e=Wu();function t(){this.__data__=new e,this.size=0}return Nf=t,Nf}var jf,t_;function nH(){if(t_)return jf;t_=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return jf=e,jf}var Tf,n_;function rH(){if(n_)return Tf;n_=1;function e(t){return this.__data__.get(t)}return Tf=e,Tf}var Af,r_;function oH(){if(r_)return Af;r_=1;function e(t){return this.__data__.has(t)}return Af=e,Af}var Pf,o_;function kT(){if(o_)return Pf;o_=1;var e=typeof ql=="object"&&ql&&ql.Object===Object&&ql;return Pf=e,Pf}var If,i_;function Fn(){if(i_)return If;i_=1;var e=kT(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return If=n,If}var Rf,s_;function es(){if(s_)return Rf;s_=1;var e=Fn(),t=e.Symbol;return Rf=t,Rf}var Mf,a_;function iH(){if(a_)return Mf;a_=1;var e=es(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(l){var u=n.call(l,i),c=l[i];try{l[i]=void 0;var f=!0}catch{}var p=r.call(l);return f&&(u?l[i]=c:delete l[i]),p}return Mf=s,Mf}var Of,l_;function sH(){if(l_)return Of;l_=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Of=n,Of}var Lf,u_;function Wo(){if(u_)return Lf;u_=1;var e=es(),t=iH(),n=sH(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:s&&s in Object(u)?t(u):n(u)}return Lf=l,Lf}var Df,c_;function wn(){if(c_)return Df;c_=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Df=e,Df}var qf,d_;function Ra(){if(d_)return qf;d_=1;var e=Wo(),t=wn(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var c=e(u);return c==r||c==i||c==n||c==s}return qf=l,qf}var zf,f_;function aH(){if(f_)return zf;f_=1;var e=Fn(),t=e["__core-js_shared__"];return zf=t,zf}var Ff,p_;function lH(){if(p_)return Ff;p_=1;var e=aH(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Ff=n,Ff}var Bf,h_;function ST(){if(h_)return Bf;h_=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Bf=n,Bf}var $f,m_;function uH(){if(m_)return $f;m_=1;var e=Ra(),t=lH(),n=wn(),r=ST(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,p=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var v=e(g)?p:s;return v.test(r(g))}return $f=m,$f}var Hf,g_;function cH(){if(g_)return Hf;g_=1;function e(t,n){return t?.[n]}return Hf=e,Hf}var Vf,y_;function Ko(){if(y_)return Vf;y_=1;var e=uH(),t=cH();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Vf=n,Vf}var Uf,v_;function Hv(){if(v_)return Uf;v_=1;var e=Ko(),t=Fn(),n=e(t,"Map");return Uf=n,Uf}var Gf,x_;function Ku(){if(x_)return Gf;x_=1;var e=Ko(),t=e(Object,"create");return Gf=t,Gf}var Wf,b_;function dH(){if(b_)return Wf;b_=1;var e=Ku();function t(){this.__data__=e?e(null):{},this.size=0}return Wf=t,Wf}var Kf,w_;function fH(){if(w_)return Kf;w_=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Kf=e,Kf}var Yf,__;function pH(){if(__)return Yf;__=1;var e=Ku(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return r.call(l,s)?l[s]:void 0}return Yf=i,Yf}var Xf,k_;function hH(){if(k_)return Xf;k_=1;var e=Ku(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return Xf=r,Xf}var Qf,S_;function mH(){if(S_)return Qf;S_=1;var e=Ku(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Qf=n,Qf}var Zf,C_;function gH(){if(C_)return Zf;C_=1;var e=dH(),t=fH(),n=pH(),r=hH(),i=mH();function s(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Zf=s,Zf}var Jf,E_;function yH(){if(E_)return Jf;E_=1;var e=gH(),t=Wu(),n=Hv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Jf=r,Jf}var ep,N_;function vH(){if(N_)return ep;N_=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return ep=e,ep}var tp,j_;function Yu(){if(j_)return tp;j_=1;var e=vH();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return tp=t,tp}var np,T_;function xH(){if(T_)return np;T_=1;var e=Yu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return np=t,np}var rp,A_;function bH(){if(A_)return rp;A_=1;var e=Yu();function t(n){return e(this,n).get(n)}return rp=t,rp}var op,P_;function wH(){if(P_)return op;P_=1;var e=Yu();function t(n){return e(this,n).has(n)}return op=t,op}var ip,I_;function _H(){if(I_)return ip;I_=1;var e=Yu();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return ip=t,ip}var sp,R_;function Vv(){if(R_)return sp;R_=1;var e=yH(),t=xH(),n=bH(),r=wH(),i=_H();function s(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,sp=s,sp}var ap,M_;function kH(){if(M_)return ap;M_=1;var e=Wu(),t=Hv(),n=Vv(),r=200;function i(s,l){var u=this.__data__;if(u instanceof e){var c=u.__data__;if(!t||c.length<r-1)return c.push([s,l]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(s,l),this.size=u.size,this}return ap=i,ap}var lp,O_;function Xu(){if(O_)return lp;O_=1;var e=Wu(),t=tH(),n=nH(),r=rH(),i=oH(),s=kH();function l(u){var c=this.__data__=new e(u);this.size=c.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,lp=l,lp}var up,L_;function Uv(){if(L_)return up;L_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return up=e,up}var cp,D_;function CT(){if(D_)return cp;D_=1;var e=Ko(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return cp=t,cp}var dp,q_;function Qu(){if(q_)return dp;q_=1;var e=CT();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return dp=t,dp}var fp,z_;function Zu(){if(z_)return fp;z_=1;var e=Qu(),t=Ji(),n=Object.prototype,r=n.hasOwnProperty;function i(s,l,u){var c=s[l];(!(r.call(s,l)&&t(c,u))||u===void 0&&!(l in s))&&e(s,l,u)}return fp=i,fp}var pp,F_;function Ma(){if(F_)return pp;F_=1;var e=Zu(),t=Qu();function n(r,i,s,l){var u=!s;s||(s={});for(var c=-1,f=i.length;++c<f;){var p=i[c],m=l?l(s[p],r[p],p,s,r):void 0;m===void 0&&(m=r[p]),u?t(s,p,m):e(s,p,m)}return s}return pp=n,pp}var hp,B_;function SH(){if(B_)return hp;B_=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return hp=e,hp}var mp,$_;function tr(){if($_)return mp;$_=1;function e(t){return t!=null&&typeof t=="object"}return mp=e,mp}var gp,H_;function CH(){if(H_)return gp;H_=1;var e=Wo(),t=tr(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return gp=r,gp}var yp,V_;function Oa(){if(V_)return yp;V_=1;var e=CH(),t=tr(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return yp=s,yp}var vp,U_;function kt(){if(U_)return vp;U_=1;var e=Array.isArray;return vp=e,vp}var ea={exports:{}},xp,G_;function EH(){if(G_)return xp;G_=1;function e(){return!1}return xp=e,xp}ea.exports;var W_;function ts(){return W_||(W_=1,(function(e,t){var n=Fn(),r=EH(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,u=l?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;e.exports=f})(ea,ea.exports)),ea.exports}var bp,K_;function Ju(){if(K_)return bp;K_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return bp=n,bp}var wp,Y_;function Gv(){if(Y_)return wp;Y_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return wp=t,wp}var _p,X_;function NH(){if(X_)return _p;X_=1;var e=Wo(),t=Gv(),n=tr(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",b="[object String]",w="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",j="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",$="[object Uint32Array]",O={};O[C]=O[S]=O[j]=O[A]=O[T]=O[N]=O[D]=O[z]=O[$]=!0,O[r]=O[i]=O[k]=O[s]=O[_]=O[l]=O[u]=O[c]=O[f]=O[p]=O[m]=O[g]=O[v]=O[b]=O[w]=!1;function B(G){return n(G)&&t(G.length)&&!!O[e(G)]}return _p=B,_p}var kp,Q_;function ec(){if(Q_)return kp;Q_=1;function e(t){return function(n){return t(n)}}return kp=e,kp}var ta={exports:{}};ta.exports;var Z_;function Wv(){return Z_||(Z_=1,(function(e,t){var n=kT(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,l=s&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(ta,ta.exports)),ta.exports}var Sp,J_;function La(){if(J_)return Sp;J_=1;var e=NH(),t=ec(),n=Wv(),r=n&&n.isTypedArray,i=r?t(r):e;return Sp=i,Sp}var Cp,ek;function ET(){if(ek)return Cp;ek=1;var e=SH(),t=Oa(),n=kt(),r=ts(),i=Ju(),s=La(),l=Object.prototype,u=l.hasOwnProperty;function c(f,p){var m=n(f),g=!m&&t(f),v=!m&&!g&&r(f),b=!m&&!g&&!v&&s(f),w=m||g||v||b,k=w?e(f.length,String):[],_=k.length;for(var C in f)(p||u.call(f,C))&&!(w&&(C=="length"||v&&(C=="offset"||C=="parent")||b&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,_)))&&k.push(C);return k}return Cp=c,Cp}var Ep,tk;function tc(){if(tk)return Ep;tk=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Ep=t,Ep}var Np,nk;function NT(){if(nk)return Np;nk=1;function e(t,n){return function(r){return t(n(r))}}return Np=e,Np}var jp,rk;function jH(){if(rk)return jp;rk=1;var e=NT(),t=e(Object.keys,Object);return jp=t,jp}var Tp,ok;function Kv(){if(ok)return Tp;ok=1;var e=tc(),t=jH(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))r.call(s,u)&&u!="constructor"&&l.push(u);return l}return Tp=i,Tp}var Ap,ik;function wr(){if(ik)return Ap;ik=1;var e=Ra(),t=Gv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Ap=n,Ap}var Pp,sk;function so(){if(sk)return Pp;sk=1;var e=ET(),t=Kv(),n=wr();function r(i){return n(i)?e(i):t(i)}return Pp=r,Pp}var Ip,ak;function TH(){if(ak)return Ip;ak=1;var e=Ma(),t=so();function n(r,i){return r&&e(i,t(i),r)}return Ip=n,Ip}var Rp,lk;function AH(){if(lk)return Rp;lk=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Rp=e,Rp}var Mp,uk;function PH(){if(uk)return Mp;uk=1;var e=wn(),t=tc(),n=AH(),r=Object.prototype,i=r.hasOwnProperty;function s(l){if(!e(l))return n(l);var u=t(l),c=[];for(var f in l)f=="constructor"&&(u||!i.call(l,f))||c.push(f);return c}return Mp=s,Mp}var Op,ck;function Yo(){if(ck)return Op;ck=1;var e=ET(),t=PH(),n=wr();function r(i){return n(i)?e(i,!0):t(i)}return Op=r,Op}var Lp,dk;function IH(){if(dk)return Lp;dk=1;var e=Ma(),t=Yo();function n(r,i){return r&&e(i,t(i),r)}return Lp=n,Lp}var na={exports:{}};na.exports;var fk;function jT(){return fk||(fk=1,(function(e,t){var n=Fn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,l=s?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function c(f,p){if(p)return f.slice();var m=f.length,g=u?u(m):new f.constructor(m);return f.copy(g),g}e.exports=c})(na,na.exports)),na.exports}var Dp,pk;function TT(){if(pk)return Dp;pk=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Dp=e,Dp}var qp,hk;function AT(){if(hk)return qp;hk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,l=[];++r<i;){var u=t[r];n(u,r,t)&&(l[s++]=u)}return l}return qp=e,qp}var zp,mk;function PT(){if(mk)return zp;mk=1;function e(){return[]}return zp=e,zp}var Fp,gk;function Yv(){if(gk)return Fp;gk=1;var e=AT(),t=PT(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return r.call(l,u)}))}:t;return Fp=s,Fp}var Bp,yk;function RH(){if(yk)return Bp;yk=1;var e=Ma(),t=Yv();function n(r,i){return e(r,t(r),i)}return Bp=n,Bp}var $p,vk;function Xv(){if(vk)return $p;vk=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return $p=e,$p}var Hp,xk;function nc(){if(xk)return Hp;xk=1;var e=NT(),t=e(Object.getPrototypeOf,Object);return Hp=t,Hp}var Vp,bk;function IT(){if(bk)return Vp;bk=1;var e=Xv(),t=nc(),n=Yv(),r=PT(),i=Object.getOwnPropertySymbols,s=i?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:r;return Vp=s,Vp}var Up,wk;function MH(){if(wk)return Up;wk=1;var e=Ma(),t=IT();function n(r,i){return e(r,t(r),i)}return Up=n,Up}var Gp,_k;function RT(){if(_k)return Gp;_k=1;var e=Xv(),t=kt();function n(r,i,s){var l=i(r);return t(r)?l:e(l,s(r))}return Gp=n,Gp}var Wp,kk;function MT(){if(kk)return Wp;kk=1;var e=RT(),t=Yv(),n=so();function r(i){return e(i,n,t)}return Wp=r,Wp}var Kp,Sk;function OH(){if(Sk)return Kp;Sk=1;var e=RT(),t=IT(),n=Yo();function r(i){return e(i,n,t)}return Kp=r,Kp}var Yp,Ck;function LH(){if(Ck)return Yp;Ck=1;var e=Ko(),t=Fn(),n=e(t,"DataView");return Yp=n,Yp}var Xp,Ek;function DH(){if(Ek)return Xp;Ek=1;var e=Ko(),t=Fn(),n=e(t,"Promise");return Xp=n,Xp}var Qp,Nk;function OT(){if(Nk)return Qp;Nk=1;var e=Ko(),t=Fn(),n=e(t,"Set");return Qp=n,Qp}var Zp,jk;function qH(){if(jk)return Zp;jk=1;var e=Ko(),t=Fn(),n=e(t,"WeakMap");return Zp=n,Zp}var Jp,Tk;function ns(){if(Tk)return Jp;Tk=1;var e=LH(),t=Hv(),n=DH(),r=OT(),i=qH(),s=Wo(),l=ST(),u="[object Map]",c="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",v=l(e),b=l(t),w=l(n),k=l(r),_=l(i),C=s;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=p||i&&C(new i)!=m)&&(C=function(S){var j=s(S),A=j==c?S.constructor:void 0,T=A?l(A):"";if(T)switch(T){case v:return g;case b:return u;case w:return f;case k:return p;case _:return m}return j}),Jp=C,Jp}var eh,Ak;function zH(){if(Ak)return eh;Ak=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return eh=n,eh}var th,Pk;function LT(){if(Pk)return th;Pk=1;var e=Fn(),t=e.Uint8Array;return th=t,th}var nh,Ik;function Qv(){if(Ik)return nh;Ik=1;var e=LT();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return nh=t,nh}var rh,Rk;function FH(){if(Rk)return rh;Rk=1;var e=Qv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return rh=t,rh}var oh,Mk;function BH(){if(Mk)return oh;Mk=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return oh=t,oh}var ih,Ok;function $H(){if(Ok)return ih;Ok=1;var e=es(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ih=r,ih}var sh,Lk;function DT(){if(Lk)return sh;Lk=1;var e=Qv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return sh=t,sh}var ah,Dk;function HH(){if(Dk)return ah;Dk=1;var e=Qv(),t=FH(),n=BH(),r=$H(),i=DT(),s="[object Boolean]",l="[object Date]",u="[object Map]",c="[object Number]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",N="[object Uint32Array]";function D(z,$,O){var B=z.constructor;switch($){case v:return e(z);case s:case l:return new B(+z);case b:return t(z,O);case w:case k:case _:case C:case S:case j:case A:case T:case N:return i(z,O);case u:return new B;case c:case m:return new B(z);case f:return n(z);case p:return new B;case g:return r(z)}}return ah=D,ah}var lh,qk;function qT(){if(qk)return lh;qk=1;var e=wn(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return lh=n,lh}var uh,zk;function zT(){if(zk)return uh;zk=1;var e=qT(),t=nc(),n=tc();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return uh=r,uh}var ch,Fk;function VH(){if(Fk)return ch;Fk=1;var e=ns(),t=tr(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return ch=r,ch}var dh,Bk;function UH(){if(Bk)return dh;Bk=1;var e=VH(),t=ec(),n=Wv(),r=n&&n.isMap,i=r?t(r):e;return dh=i,dh}var fh,$k;function GH(){if($k)return fh;$k=1;var e=ns(),t=tr(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return fh=r,fh}var ph,Hk;function WH(){if(Hk)return ph;Hk=1;var e=GH(),t=ec(),n=Wv(),r=n&&n.isSet,i=r?t(r):e;return ph=i,ph}var hh,Vk;function FT(){if(Vk)return hh;Vk=1;var e=Xu(),t=Uv(),n=Zu(),r=TH(),i=IH(),s=jT(),l=TT(),u=RH(),c=MH(),f=MT(),p=OH(),m=ns(),g=zH(),v=HH(),b=zT(),w=kt(),k=ts(),_=UH(),C=wn(),S=WH(),j=so(),A=Yo(),T=1,N=2,D=4,z="[object Arguments]",$="[object Array]",O="[object Boolean]",B="[object Date]",G="[object Error]",R="[object Function]",q="[object GeneratorFunction]",V="[object Map]",Y="[object Number]",H="[object Object]",X="[object RegExp]",I="[object Set]",F="[object String]",K="[object Symbol]",L="[object WeakMap]",U="[object ArrayBuffer]",ee="[object DataView]",J="[object Float32Array]",Q="[object Float64Array]",ne="[object Int8Array]",ae="[object Int16Array]",fe="[object Int32Array]",ve="[object Uint8Array]",Ce="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ae="[object Uint32Array]",we={};we[z]=we[$]=we[U]=we[ee]=we[O]=we[B]=we[J]=we[Q]=we[ne]=we[ae]=we[fe]=we[V]=we[Y]=we[H]=we[X]=we[I]=we[F]=we[K]=we[ve]=we[Ce]=we[xe]=we[Ae]=!0,we[G]=we[R]=we[L]=!1;function Le(Ne,it,We,dt,Fe,st){var He,gt=it&T,ye=it&N,ie=it&D;if(We&&(He=Fe?We(Ne,dt,Fe,st):We(Ne)),He!==void 0)return He;if(!C(Ne))return Ne;var de=w(Ne);if(de){if(He=g(Ne),!gt)return l(Ne,He)}else{var je=m(Ne),Re=je==R||je==q;if(k(Ne))return s(Ne,gt);if(je==H||je==z||Re&&!Fe){if(He=ye||Re?{}:b(Ne),!gt)return ye?c(Ne,i(He,Ne)):u(Ne,r(He,Ne))}else{if(!we[je])return Fe?Ne:{};He=v(Ne,je,gt)}}st||(st=new e);var De=st.get(Ne);if(De)return De;st.set(Ne,He),S(Ne)?Ne.forEach(function(et){He.add(Le(et,it,We,et,Ne,st))}):_(Ne)&&Ne.forEach(function(et,Ke){He.set(Ke,Le(et,it,We,Ke,Ne,st))});var ft=ie?ye?p:f:ye?A:j,Xe=de?void 0:ft(Ne);return t(Xe||Ne,function(et,Ke){Xe&&(Ke=et,et=Ne[Ke]),n(He,Ke,Le(et,it,We,Ke,Ne,st))}),He}return hh=Le,hh}var mh,Uk;function KH(){if(Uk)return mh;Uk=1;var e=FT(),t=4;function n(r){return e(r,t)}return mh=n,mh}var gh,Gk;function Zv(){if(Gk)return gh;Gk=1;function e(t){return function(){return t}}return gh=e,gh}var yh,Wk;function YH(){if(Wk)return yh;Wk=1;function e(t){return function(n,r,i){for(var s=-1,l=Object(n),u=i(n),c=u.length;c--;){var f=u[t?c:++s];if(r(l[f],f,l)===!1)break}return n}}return yh=e,yh}var vh,Kk;function Jv(){if(Kk)return vh;Kk=1;var e=YH(),t=e();return vh=t,vh}var xh,Yk;function ex(){if(Yk)return xh;Yk=1;var e=Jv(),t=so();function n(r,i){return r&&e(r,i,t)}return xh=n,xh}var bh,Xk;function XH(){if(Xk)return bh;Xk=1;var e=wr();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var l=i.length,u=r?l:-1,c=Object(i);(r?u--:++u<l)&&s(c[u],u,c)!==!1;);return i}}return bh=t,bh}var wh,Qk;function rc(){if(Qk)return wh;Qk=1;var e=ex(),t=XH(),n=t(e);return wh=n,wh}var _h,Zk;function Xo(){if(Zk)return _h;Zk=1;function e(t){return t}return _h=e,_h}var kh,Jk;function BT(){if(Jk)return kh;Jk=1;var e=Xo();function t(n){return typeof n=="function"?n:e}return kh=t,kh}var Sh,eS;function $T(){if(eS)return Sh;eS=1;var e=Uv(),t=rc(),n=BT(),r=kt();function i(s,l){var u=r(s)?e:t;return u(s,n(l))}return Sh=i,Sh}var Ch,tS;function HT(){return tS||(tS=1,Ch=$T()),Ch}var Eh,nS;function QH(){if(nS)return Eh;nS=1;var e=rc();function t(n,r){var i=[];return e(n,function(s,l,u){r(s,l,u)&&i.push(s)}),i}return Eh=t,Eh}var Nh,rS;function ZH(){if(rS)return Nh;rS=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Nh=t,Nh}var jh,oS;function JH(){if(oS)return jh;oS=1;function e(t){return this.__data__.has(t)}return jh=e,jh}var Th,iS;function VT(){if(iS)return Th;iS=1;var e=Vv(),t=ZH(),n=JH();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Th=r,Th}var Ah,sS;function eV(){if(sS)return Ah;sS=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Ah=e,Ah}var Ph,aS;function UT(){if(aS)return Ph;aS=1;function e(t,n){return t.has(n)}return Ph=e,Ph}var Ih,lS;function GT(){if(lS)return Ih;lS=1;var e=VT(),t=eV(),n=UT(),r=1,i=2;function s(l,u,c,f,p,m){var g=c&r,v=l.length,b=u.length;if(v!=b&&!(g&&b>v))return!1;var w=m.get(l),k=m.get(u);if(w&&k)return w==u&&k==l;var _=-1,C=!0,S=c&i?new e:void 0;for(m.set(l,u),m.set(u,l);++_<v;){var j=l[_],A=u[_];if(f)var T=g?f(A,j,_,u,l,m):f(j,A,_,l,u,m);if(T!==void 0){if(T)continue;C=!1;break}if(S){if(!t(u,function(N,D){if(!n(S,D)&&(j===N||p(j,N,c,f,m)))return S.push(D)})){C=!1;break}}else if(!(j===A||p(j,A,c,f,m))){C=!1;break}}return m.delete(l),m.delete(u),C}return Ih=s,Ih}var Rh,uS;function tV(){if(uS)return Rh;uS=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Rh=e,Rh}var Mh,cS;function tx(){if(cS)return Mh;cS=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Mh=e,Mh}var Oh,dS;function nV(){if(dS)return Oh;dS=1;var e=es(),t=LT(),n=Ji(),r=GT(),i=tV(),s=tx(),l=1,u=2,c="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",w="[object String]",k="[object Symbol]",_="[object ArrayBuffer]",C="[object DataView]",S=e?e.prototype:void 0,j=S?S.valueOf:void 0;function A(T,N,D,z,$,O,B){switch(D){case C:if(T.byteLength!=N.byteLength||T.byteOffset!=N.byteOffset)return!1;T=T.buffer,N=N.buffer;case _:return!(T.byteLength!=N.byteLength||!O(new t(T),new t(N)));case c:case f:case g:return n(+T,+N);case p:return T.name==N.name&&T.message==N.message;case v:case w:return T==N+"";case m:var G=i;case b:var R=z&l;if(G||(G=s),T.size!=N.size&&!R)return!1;var q=B.get(T);if(q)return q==N;z|=u,B.set(T,N);var V=r(G(T),G(N),z,$,O,B);return B.delete(T),V;case k:if(j)return j.call(T)==j.call(N)}return!1}return Oh=A,Oh}var Lh,fS;function rV(){if(fS)return Lh;fS=1;var e=MT(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,u,c,f,p){var m=u&t,g=e(s),v=g.length,b=e(l),w=b.length;if(v!=w&&!m)return!1;for(var k=v;k--;){var _=g[k];if(!(m?_ in l:r.call(l,_)))return!1}var C=p.get(s),S=p.get(l);if(C&&S)return C==l&&S==s;var j=!0;p.set(s,l),p.set(l,s);for(var A=m;++k<v;){_=g[k];var T=s[_],N=l[_];if(c)var D=m?c(N,T,_,l,s,p):c(T,N,_,s,l,p);if(!(D===void 0?T===N||f(T,N,u,c,p):D)){j=!1;break}A||(A=_=="constructor")}if(j&&!A){var z=s.constructor,$=l.constructor;z!=$&&"constructor"in s&&"constructor"in l&&!(typeof z=="function"&&z instanceof z&&typeof $=="function"&&$ instanceof $)&&(j=!1)}return p.delete(s),p.delete(l),j}return Lh=i,Lh}var Dh,pS;function oV(){if(pS)return Dh;pS=1;var e=Xu(),t=GT(),n=nV(),r=rV(),i=ns(),s=kt(),l=ts(),u=La(),c=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function b(w,k,_,C,S,j){var A=s(w),T=s(k),N=A?p:i(w),D=T?p:i(k);N=N==f?m:N,D=D==f?m:D;var z=N==m,$=D==m,O=N==D;if(O&&l(w)){if(!l(k))return!1;A=!0,z=!1}if(O&&!z)return j||(j=new e),A||u(w)?t(w,k,_,C,S,j):n(w,k,N,_,C,S,j);if(!(_&c)){var B=z&&v.call(w,"__wrapped__"),G=$&&v.call(k,"__wrapped__");if(B||G){var R=B?w.value():w,q=G?k.value():k;return j||(j=new e),S(R,q,_,C,j)}}return O?(j||(j=new e),r(w,k,_,C,S,j)):!1}return Dh=b,Dh}var qh,hS;function WT(){if(hS)return qh;hS=1;var e=oV(),t=tr();function n(r,i,s,l,u){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,l,n,u)}return qh=n,qh}var zh,mS;function iV(){if(mS)return zh;mS=1;var e=Xu(),t=WT(),n=1,r=2;function i(s,l,u,c){var f=u.length,p=f,m=!c;if(s==null)return!p;for(s=Object(s);f--;){var g=u[f];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<p;){g=u[f];var v=g[0],b=s[v],w=g[1];if(m&&g[2]){if(b===void 0&&!(v in s))return!1}else{var k=new e;if(c)var _=c(b,w,v,s,l,k);if(!(_===void 0?t(w,b,n|r,c,k):_))return!1}}return!0}return zh=i,zh}var Fh,gS;function KT(){if(gS)return Fh;gS=1;var e=wn();function t(n){return n===n&&!e(n)}return Fh=t,Fh}var Bh,yS;function sV(){if(yS)return Bh;yS=1;var e=KT(),t=so();function n(r){for(var i=t(r),s=i.length;s--;){var l=i[s],u=r[l];i[s]=[l,u,e(u)]}return i}return Bh=n,Bh}var $h,vS;function YT(){if(vS)return $h;vS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return $h=e,$h}var Hh,xS;function aV(){if(xS)return Hh;xS=1;var e=iV(),t=sV(),n=YT();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return Hh=r,Hh}var Vh,bS;function rs(){if(bS)return Vh;bS=1;var e=Wo(),t=tr(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Vh=r,Vh}var Uh,wS;function nx(){if(wS)return Uh;wS=1;var e=kt(),t=rs(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Uh=i,Uh}var Gh,_S;function lV(){if(_S)return Gh;_S=1;var e=Vv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,u=i?i.apply(this,l):l[0],c=s.cache;if(c.has(u))return c.get(u);var f=r.apply(this,l);return s.cache=c.set(u,f)||c,f};return s.cache=new(n.Cache||e),s}return n.Cache=e,Gh=n,Gh}var Wh,kS;function uV(){if(kS)return Wh;kS=1;var e=lV(),t=500;function n(r){var i=e(r,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return Wh=n,Wh}var Kh,SS;function cV(){if(SS)return Kh;SS=1;var e=uV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,u,c,f){s.push(c?f.replace(n,"$1"):u||l)}),s});return Kh=r,Kh}var Yh,CS;function oc(){if(CS)return Yh;CS=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Yh=e,Yh}var Xh,ES;function dV(){if(ES)return Xh;ES=1;var e=es(),t=oc(),n=kt(),r=rs(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return s?s.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Xh=l,Xh}var Qh,NS;function XT(){if(NS)return Qh;NS=1;var e=dV();function t(n){return n==null?"":e(n)}return Qh=t,Qh}var Zh,jS;function ic(){if(jS)return Zh;jS=1;var e=kt(),t=nx(),n=cV(),r=XT();function i(s,l){return e(s)?s:t(s,l)?[s]:n(r(s))}return Zh=i,Zh}var Jh,TS;function Da(){if(TS)return Jh;TS=1;var e=rs();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Jh=t,Jh}var em,AS;function sc(){if(AS)return em;AS=1;var e=ic(),t=Da();function n(r,i){i=e(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[t(i[s++])];return s&&s==l?r:void 0}return em=n,em}var tm,PS;function fV(){if(PS)return tm;PS=1;var e=sc();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return tm=t,tm}var nm,IS;function pV(){if(IS)return nm;IS=1;function e(t,n){return t!=null&&n in Object(t)}return nm=e,nm}var rm,RS;function QT(){if(RS)return rm;RS=1;var e=ic(),t=Oa(),n=kt(),r=Ju(),i=Gv(),s=Da();function l(u,c,f){c=e(c,u);for(var p=-1,m=c.length,g=!1;++p<m;){var v=s(c[p]);if(!(g=u!=null&&f(u,v)))break;u=u[v]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&i(m)&&r(v,m)&&(n(u)||t(u)))}return rm=l,rm}var om,MS;function ZT(){if(MS)return om;MS=1;var e=pV(),t=QT();function n(r,i){return r!=null&&t(r,i,e)}return om=n,om}var im,OS;function hV(){if(OS)return im;OS=1;var e=WT(),t=fV(),n=ZT(),r=nx(),i=KT(),s=YT(),l=Da(),u=1,c=2;function f(p,m){return r(p)&&i(m)?s(l(p),m):function(g){var v=t(g,p);return v===void 0&&v===m?n(g,p):e(m,v,u|c)}}return im=f,im}var sm,LS;function JT(){if(LS)return sm;LS=1;function e(t){return function(n){return n?.[t]}}return sm=e,sm}var am,DS;function mV(){if(DS)return am;DS=1;var e=sc();function t(n){return function(r){return e(r,n)}}return am=t,am}var lm,qS;function gV(){if(qS)return lm;qS=1;var e=JT(),t=mV(),n=nx(),r=Da();function i(s){return n(s)?e(r(s)):t(s)}return lm=i,lm}var um,zS;function _r(){if(zS)return um;zS=1;var e=aV(),t=hV(),n=Xo(),r=kt(),i=gV();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):i(l)}return um=s,um}var cm,FS;function eA(){if(FS)return cm;FS=1;var e=AT(),t=QH(),n=_r(),r=kt();function i(s,l){var u=r(s)?e:t;return u(s,n(l,3))}return cm=i,cm}var dm,BS;function yV(){if(BS)return dm;BS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return dm=n,dm}var fm,$S;function tA(){if($S)return fm;$S=1;var e=yV(),t=QT();function n(r,i){return r!=null&&t(r,i,e)}return fm=n,fm}var pm,HS;function vV(){if(HS)return pm;HS=1;var e=Kv(),t=ns(),n=Oa(),r=kt(),i=wr(),s=ts(),l=tc(),u=La(),c="[object Map]",f="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(v){if(v==null)return!0;if(i(v)&&(r(v)||typeof v=="string"||typeof v.splice=="function"||s(v)||u(v)||n(v)))return!v.length;var b=t(v);if(b==c||b==f)return!v.size;if(l(v))return!e(v).length;for(var w in v)if(m.call(v,w))return!1;return!0}return pm=g,pm}var hm,VS;function nA(){if(VS)return hm;VS=1;function e(t){return t===void 0}return hm=e,hm}var mm,US;function rA(){if(US)return mm;US=1;var e=rc(),t=wr();function n(r,i){var s=-1,l=t(r)?Array(r.length):[];return e(r,function(u,c,f){l[++s]=i(u,c,f)}),l}return mm=n,mm}var gm,GS;function oA(){if(GS)return gm;GS=1;var e=oc(),t=_r(),n=rA(),r=kt();function i(s,l){var u=r(s)?e:n;return u(s,t(l,3))}return gm=i,gm}var ym,WS;function xV(){if(WS)return ym;WS=1;function e(t,n,r,i){var s=-1,l=t==null?0:t.length;for(i&&l&&(r=t[++s]);++s<l;)r=n(r,t[s],s,t);return r}return ym=e,ym}var vm,KS;function bV(){if(KS)return vm;KS=1;function e(t,n,r,i,s){return s(t,function(l,u,c){r=i?(i=!1,l):n(r,l,u,c)}),r}return vm=e,vm}var xm,YS;function iA(){if(YS)return xm;YS=1;var e=xV(),t=rc(),n=_r(),r=bV(),i=kt();function s(l,u,c){var f=i(l)?e:r,p=arguments.length<3;return f(l,n(u,4),c,p,t)}return xm=s,xm}var bm,XS;function wV(){if(XS)return bm;XS=1;var e=Wo(),t=kt(),n=tr(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return bm=i,bm}var wm,QS;function _V(){if(QS)return wm;QS=1;var e=JT(),t=e("length");return wm=t,wm}var _m,ZS;function kV(){if(ZS)return _m;ZS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+s+"]");function c(f){return u.test(f)}return _m=c,_m}var km,JS;function SV(){if(JS)return km;JS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=f+"?",w="["+s+"]?",k="(?:"+v+"(?:"+[p,m,g].join("|")+")"+w+b+")*",_=w+b+k,C="(?:"+[p+u+"?",u,m,g,l].join("|")+")",S=RegExp(c+"(?="+c+")|"+C+_,"g");function j(A){for(var T=S.lastIndex=0;S.test(A);)++T;return T}return km=j,km}var Sm,eC;function CV(){if(eC)return Sm;eC=1;var e=_V(),t=kV(),n=SV();function r(i){return t(i)?n(i):e(i)}return Sm=r,Sm}var Cm,tC;function EV(){if(tC)return Cm;tC=1;var e=Kv(),t=ns(),n=wr(),r=wV(),i=CV(),s="[object Map]",l="[object Set]";function u(c){if(c==null)return 0;if(n(c))return r(c)?i(c):c.length;var f=t(c);return f==s||f==l?c.size:e(c).length}return Cm=u,Cm}var Em,nC;function NV(){if(nC)return Em;nC=1;var e=Uv(),t=qT(),n=ex(),r=_r(),i=nc(),s=kt(),l=ts(),u=Ra(),c=wn(),f=La();function p(m,g,v){var b=s(m),w=b||l(m)||f(m);if(g=r(g,4),v==null){var k=m&&m.constructor;w?v=b?new k:[]:c(m)?v=u(k)?t(i(m)):{}:v={}}return(w?e:n)(m,function(_,C,S){return g(v,_,C,S)}),v}return Em=p,Em}var Nm,rC;function jV(){if(rC)return Nm;rC=1;var e=es(),t=Oa(),n=kt(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Nm=i,Nm}var jm,oC;function rx(){if(oC)return jm;oC=1;var e=Xv(),t=jV();function n(r,i,s,l,u){var c=-1,f=r.length;for(s||(s=t),u||(u=[]);++c<f;){var p=r[c];i>0&&s(p)?i>1?n(p,i-1,s,l,u):e(u,p):l||(u[u.length]=p)}return u}return jm=n,jm}var Tm,iC;function TV(){if(iC)return Tm;iC=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Tm=e,Tm}var Am,sC;function sA(){if(sC)return Am;sC=1;var e=TV(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var l=arguments,u=-1,c=t(l.length-i,0),f=Array(c);++u<c;)f[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=s(f),e(r,this,p)}}return Am=n,Am}var Pm,aC;function AV(){if(aC)return Pm;aC=1;var e=Zv(),t=CT(),n=Xo(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Pm=r,Pm}var Im,lC;function PV(){if(lC)return Im;lC=1;var e=800,t=16,n=Date.now;function r(i){var s=0,l=0;return function(){var u=n(),c=t-(u-l);if(l=u,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Im=r,Im}var Rm,uC;function aA(){if(uC)return Rm;uC=1;var e=AV(),t=PV(),n=t(e);return Rm=n,Rm}var Mm,cC;function ac(){if(cC)return Mm;cC=1;var e=Xo(),t=sA(),n=aA();function r(i,s){return n(t(i,s,e),i+"")}return Mm=r,Mm}var Om,dC;function lA(){if(dC)return Om;dC=1;function e(t,n,r,i){for(var s=t.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(t[l],l,t))return l;return-1}return Om=e,Om}var Lm,fC;function IV(){if(fC)return Lm;fC=1;function e(t){return t!==t}return Lm=e,Lm}var Dm,pC;function RV(){if(pC)return Dm;pC=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Dm=e,Dm}var qm,hC;function MV(){if(hC)return qm;hC=1;var e=lA(),t=IV(),n=RV();function r(i,s,l){return s===s?n(i,s,l):e(i,t,l)}return qm=r,qm}var zm,mC;function OV(){if(mC)return zm;mC=1;var e=MV();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return zm=t,zm}var Fm,gC;function LV(){if(gC)return Fm;gC=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return Fm=e,Fm}var Bm,yC;function DV(){if(yC)return Bm;yC=1;function e(){}return Bm=e,Bm}var $m,vC;function qV(){if(vC)return $m;vC=1;var e=OT(),t=DV(),n=tx(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return $m=i,$m}var Hm,xC;function zV(){if(xC)return Hm;xC=1;var e=VT(),t=OV(),n=LV(),r=UT(),i=qV(),s=tx(),l=200;function u(c,f,p){var m=-1,g=t,v=c.length,b=!0,w=[],k=w;if(p)b=!1,g=n;else if(v>=l){var _=f?null:i(c);if(_)return s(_);b=!1,g=r,k=new e}else k=f?[]:w;e:for(;++m<v;){var C=c[m],S=f?f(C):C;if(C=p||C!==0?C:0,b&&S===S){for(var j=k.length;j--;)if(k[j]===S)continue e;f&&k.push(S),w.push(C)}else g(k,S,p)||(k!==w&&k.push(S),w.push(C))}return w}return Hm=u,Hm}var Vm,bC;function uA(){if(bC)return Vm;bC=1;var e=wr(),t=tr();function n(r){return t(r)&&e(r)}return Vm=n,Vm}var Um,wC;function FV(){if(wC)return Um;wC=1;var e=rx(),t=ac(),n=zV(),r=uA(),i=t(function(s){return n(e(s,1,r,!0))});return Um=i,Um}var Gm,_C;function BV(){if(_C)return Gm;_C=1;var e=oc();function t(n,r){return e(r,function(i){return n[i]})}return Gm=t,Gm}var Wm,kC;function cA(){if(kC)return Wm;kC=1;var e=BV(),t=so();function n(r){return r==null?[]:e(r,t(r))}return Wm=n,Wm}var Km,SC;function _n(){if(SC)return Km;SC=1;var e;if(typeof $v=="function")try{e={clone:KH(),constant:Zv(),each:HT(),filter:eA(),has:tA(),isArray:kt(),isEmpty:vV(),isFunction:Ra(),isUndefined:nA(),keys:so(),map:oA(),reduce:iA(),size:EV(),transform:NV(),union:FV(),values:cA()}}catch{}return e||(e=window._),Km=e,Km}var Ym,CC;function ox(){if(CC)return Ym;CC=1;var e=_n();Ym=i;var t="\0",n="\0",r="";function i(p){this._isDirected=e.has(p,"directed")?p.directed:!0,this._isMultigraph=e.has(p,"multigraph")?p.multigraph:!1,this._isCompound=e.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(p){return this._label=p,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultNodeLabelFn=p,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._in[m])})},i.prototype.sinks=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._out[m])})},i.prototype.setNodes=function(p,m){var g=arguments,v=this;return e.each(p,function(b){g.length>1?v.setNode(b,m):v.setNode(b)}),this},i.prototype.setNode=function(p,m){return e.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=n,this._children[p]={},this._children[n][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},i.prototype.node=function(p){return this._nodes[p]},i.prototype.hasNode=function(p){return e.has(this._nodes,p)},i.prototype.removeNode=function(p){var m=this;if(e.has(this._nodes,p)){var g=function(v){m.removeEdge(m._edgeObjs[v])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],e.each(this.children(p),function(v){m.setParent(v)}),delete this._children[p]),e.each(e.keys(this._in[p]),g),delete this._in[p],delete this._preds[p],e.each(e.keys(this._out[p]),g),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},i.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(m))m=n;else{m+="";for(var g=m;!e.isUndefined(g);g=this.parent(g))if(g===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},i.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},i.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==n)return m}},i.prototype.children=function(p){if(e.isUndefined(p)&&(p=n),this._isCompound){var m=this._children[p];if(m)return e.keys(m)}else{if(p===n)return this.nodes();if(this.hasNode(p))return[]}},i.prototype.predecessors=function(p){var m=this._preds[p];if(m)return e.keys(m)},i.prototype.successors=function(p){var m=this._sucs[p];if(m)return e.keys(m)},i.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return e.union(m,this.successors(p))},i.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},i.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;e.each(this._nodes,function(w,k){p(k)&&m.setNode(k,w)}),e.each(this._edgeObjs,function(w){m.hasNode(w.v)&&m.hasNode(w.w)&&m.setEdge(w,g.edge(w))});var v={};function b(w){var k=g.parent(w);return k===void 0||m.hasNode(k)?(v[w]=k,k):k in v?v[k]:b(k)}return this._isCompound&&e.each(m.nodes(),function(w){m.setParent(w,b(w))}),m},i.prototype.setDefaultEdgeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultEdgeLabelFn=p,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(p,m){var g=this,v=arguments;return e.reduce(p,function(b,w){return v.length>1?g.setEdge(b,w,m):g.setEdge(b,w),w}),this},i.prototype.setEdge=function(){var p,m,g,v,b=!1,w=arguments[0];typeof w=="object"&&w!==null&&"v"in w?(p=w.v,m=w.w,g=w.name,arguments.length===2&&(v=arguments[1],b=!0)):(p=w,m=arguments[1],g=arguments[3],arguments.length>2&&(v=arguments[2],b=!0)),p=""+p,m=""+m,e.isUndefined(g)||(g=""+g);var k=u(this._isDirected,p,m,g);if(e.has(this._edgeLabels,k))return b&&(this._edgeLabels[k]=v),this;if(!e.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[k]=b?v:this._defaultEdgeLabelFn(p,m,g);var _=c(this._isDirected,p,m,g);return p=_.v,m=_.w,Object.freeze(_),this._edgeObjs[k]=_,s(this._preds[m],p),s(this._sucs[p],m),this._in[m][k]=_,this._out[p][k]=_,this._edgeCount++,this},i.prototype.edge=function(p,m,g){var v=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return this._edgeLabels[v]},i.prototype.hasEdge=function(p,m,g){var v=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return e.has(this._edgeLabels,v)},i.prototype.removeEdge=function(p,m,g){var v=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g),b=this._edgeObjs[v];return b&&(p=b.v,m=b.w,delete this._edgeLabels[v],delete this._edgeObjs[v],l(this._preds[m],p),l(this._sucs[p],m),delete this._in[m][v],delete this._out[p][v],this._edgeCount--),this},i.prototype.inEdges=function(p,m){var g=this._in[p];if(g){var v=e.values(g);return m?e.filter(v,function(b){return b.v===m}):v}},i.prototype.outEdges=function(p,m){var g=this._out[p];if(g){var v=e.values(g);return m?e.filter(v,function(b){return b.w===m}):v}},i.prototype.nodeEdges=function(p,m){var g=this.inEdges(p,m);if(g)return g.concat(this.outEdges(p,m))};function s(p,m){p[m]?p[m]++:p[m]=1}function l(p,m){--p[m]||delete p[m]}function u(p,m,g,v){var b=""+m,w=""+g;if(!p&&b>w){var k=b;b=w,w=k}return b+r+w+r+(e.isUndefined(v)?t:v)}function c(p,m,g,v){var b=""+m,w=""+g;if(!p&&b>w){var k=b;b=w,w=k}var _={v:b,w};return v&&(_.name=v),_}function f(p,m){return u(p,m.v,m.w,m.name)}return Ym}var Xm,EC;function $V(){return EC||(EC=1,Xm="2.1.8"),Xm}var Qm,NC;function HV(){return NC||(NC=1,Qm={Graph:ox(),version:$V()}),Qm}var Zm,jC;function VV(){if(jC)return Zm;jC=1;var e=_n(),t=ox();Zm={write:n,read:s};function n(l){var u={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return e.isUndefined(l.graph())||(u.value=e.clone(l.graph())),u}function r(l){return e.map(l.nodes(),function(u){var c=l.node(u),f=l.parent(u),p={v:u};return e.isUndefined(c)||(p.value=c),e.isUndefined(f)||(p.parent=f),p})}function i(l){return e.map(l.edges(),function(u){var c=l.edge(u),f={v:u.v,w:u.w};return e.isUndefined(u.name)||(f.name=u.name),e.isUndefined(c)||(f.value=c),f})}function s(l){var u=new t(l.options).setGraph(l.value);return e.each(l.nodes,function(c){u.setNode(c.v,c.value),c.parent&&u.setParent(c.v,c.parent)}),e.each(l.edges,function(c){u.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),u}return Zm}var Jm,TC;function UV(){if(TC)return Jm;TC=1;var e=_n();Jm=t;function t(n){var r={},i=[],s;function l(u){e.has(r,u)||(r[u]=!0,s.push(u),e.each(n.successors(u),l),e.each(n.predecessors(u),l))}return e.each(n.nodes(),function(u){s=[],l(u),s.length&&i.push(s)}),i}return Jm}var eg,AC;function dA(){if(AC)return eg;AC=1;var e=_n();eg=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,l=s.length;return i[n]=l,s.push({key:n,priority:r}),this._decrease(l),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,s<r.length&&(l=r[s].priority<r[l].priority?s:l),l!==n&&(this._swap(n,l),this._heapify(l)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,l=i[n],u=i[r];i[n]=u,i[r]=l,s[u.key]=n,s[l.key]=r},eg}var tg,PC;function fA(){if(PC)return tg;PC=1;var e=_n(),t=dA();tg=r;var n=e.constant(1);function r(s,l,u,c){return i(s,String(l),u||n,c||function(f){return s.outEdges(f)})}function i(s,l,u,c){var f={},p=new t,m,g,v=function(b){var w=b.v!==m?b.v:b.w,k=f[w],_=u(b),C=g.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+_);C<k.distance&&(k.distance=C,k.predecessor=m,p.decrease(w,C))};for(s.nodes().forEach(function(b){var w=b===l?0:Number.POSITIVE_INFINITY;f[b]={distance:w},p.add(b,w)});p.size()>0&&(m=p.removeMin(),g=f[m],g.distance!==Number.POSITIVE_INFINITY);)c(m).forEach(v);return f}return tg}var ng,IC;function GV(){if(IC)return ng;IC=1;var e=fA(),t=_n();ng=n;function n(r,i,s){return t.transform(r.nodes(),function(l,u){l[u]=e(r,u,i,s)},{})}return ng}var rg,RC;function pA(){if(RC)return rg;RC=1;var e=_n();rg=t;function t(n){var r=0,i=[],s={},l=[];function u(c){var f=s[c]={onStack:!0,lowlink:r,index:r++};if(i.push(c),n.successors(c).forEach(function(g){e.has(s,g)?s[g].onStack&&(f.lowlink=Math.min(f.lowlink,s[g].index)):(u(g),f.lowlink=Math.min(f.lowlink,s[g].lowlink))}),f.lowlink===f.index){var p=[],m;do m=i.pop(),s[m].onStack=!1,p.push(m);while(c!==m);l.push(p)}}return n.nodes().forEach(function(c){e.has(s,c)||u(c)}),l}return rg}var og,MC;function WV(){if(MC)return og;MC=1;var e=_n(),t=pA();og=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return og}var ig,OC;function KV(){if(OC)return ig;OC=1;var e=_n();ig=n;var t=e.constant(1);function n(i,s,l){return r(i,s||t,l||function(u){return i.outEdges(u)})}function r(i,s,l){var u={},c=i.nodes();return c.forEach(function(f){u[f]={},u[f][f]={distance:0},c.forEach(function(p){f!==p&&(u[f][p]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(p){var m=p.v===f?p.w:p.v,g=s(p);u[f][m]={distance:g,predecessor:f}})}),c.forEach(function(f){var p=u[f];c.forEach(function(m){var g=u[m];c.forEach(function(v){var b=g[f],w=p[v],k=g[v],_=b.distance+w.distance;_<k.distance&&(k.distance=_,k.predecessor=w.predecessor)})})}),u}return ig}var sg,LC;function hA(){if(LC)return sg;LC=1;var e=_n();sg=t,t.CycleException=n;function t(r){var i={},s={},l=[];function u(c){if(e.has(s,c))throw new n;e.has(i,c)||(s[c]=!0,i[c]=!0,e.each(r.predecessors(c),u),delete s[c],l.push(c))}if(e.each(r.sinks(),u),e.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,sg}var ag,DC;function YV(){if(DC)return ag;DC=1;var e=hA();ag=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return ag}var lg,qC;function mA(){if(qC)return lg;qC=1;var e=_n();lg=t;function t(r,i,s){e.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),u=[],c={};return e.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,s==="post",c,l,u)}),u}function n(r,i,s,l,u,c){e.has(l,i)||(l[i]=!0,s||c.push(i),e.each(u(i),function(f){n(r,f,s,l,u,c)}),s&&c.push(i))}return lg}var ug,zC;function XV(){if(zC)return ug;zC=1;var e=mA();ug=t;function t(n,r){return e(n,r,"post")}return ug}var cg,FC;function QV(){if(FC)return cg;FC=1;var e=mA();cg=t;function t(n,r){return e(n,r,"pre")}return cg}var dg,BC;function ZV(){if(BC)return dg;BC=1;var e=_n(),t=ox(),n=dA();dg=r;function r(i,s){var l=new t,u={},c=new n,f;function p(g){var v=g.v===f?g.w:g.v,b=c.priority(v);if(b!==void 0){var w=s(g);w<b&&(u[v]=f,c.decrease(v,w))}}if(i.nodeCount()===0)return l;e.each(i.nodes(),function(g){c.add(g,Number.POSITIVE_INFINITY),l.setNode(g)}),c.decrease(i.nodes()[0],0);for(var m=!1;c.size()>0;){if(f=c.removeMin(),e.has(u,f))l.setEdge(f,u[f]);else{if(m)throw new Error("Input graph is not connected: "+i);m=!0}i.nodeEdges(f).forEach(p)}return l}return dg}var fg,$C;function JV(){return $C||($C=1,fg={components:UV(),dijkstra:fA(),dijkstraAll:GV(),findCycles:WV(),floydWarshall:KV(),isAcyclic:YV(),postorder:XV(),preorder:QV(),prim:ZV(),tarjan:pA(),topsort:hA()}),fg}var pg,HC;function eU(){if(HC)return pg;HC=1;var e=HV();return pg={Graph:e.Graph,json:VV(),alg:JV(),version:e.version},pg}var hg,VC;function qn(){if(VC)return hg;VC=1;var e;if(typeof $v=="function")try{e=eU()}catch{}return e||(e=window.graphlib),hg=e,hg}var mg,UC;function tU(){if(UC)return mg;UC=1;var e=FT(),t=1,n=4;function r(i){return e(i,t|n)}return mg=r,mg}var gg,GC;function lc(){if(GC)return gg;GC=1;var e=Ji(),t=wr(),n=Ju(),r=wn();function i(s,l,u){if(!r(u))return!1;var c=typeof l;return(c=="number"?t(u)&&n(l,u.length):c=="string"&&l in u)?e(u[l],s):!1}return gg=i,gg}var yg,WC;function nU(){if(WC)return yg;WC=1;var e=ac(),t=Ji(),n=lc(),r=Yo(),i=Object.prototype,s=i.hasOwnProperty,l=e(function(u,c){u=Object(u);var f=-1,p=c.length,m=p>2?c[2]:void 0;for(m&&n(c[0],c[1],m)&&(p=1);++f<p;)for(var g=c[f],v=r(g),b=-1,w=v.length;++b<w;){var k=v[b],_=u[k];(_===void 0||t(_,i[k])&&!s.call(u,k))&&(u[k]=g[k])}return u});return yg=l,yg}var vg,KC;function rU(){if(KC)return vg;KC=1;var e=_r(),t=wr(),n=so();function r(i){return function(s,l,u){var c=Object(s);if(!t(s)){var f=e(l,3);s=n(s),l=function(m){return f(c[m],m,c)}}var p=i(s,l,u);return p>-1?c[f?s[p]:p]:void 0}}return vg=r,vg}var xg,YC;function oU(){if(YC)return xg;YC=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return xg=t,xg}var bg,XC;function iU(){if(XC)return bg;XC=1;var e=oU(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return bg=n,bg}var wg,QC;function sU(){if(QC)return wg;QC=1;var e=iU(),t=wn(),n=rs(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=s.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):i.test(f)?r:+f}return wg=c,wg}var _g,ZC;function gA(){if(ZC)return _g;ZC=1;var e=sU(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return _g=r,_g}var kg,JC;function aU(){if(JC)return kg;JC=1;var e=gA();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return kg=t,kg}var Sg,eE;function lU(){if(eE)return Sg;eE=1;var e=lA(),t=_r(),n=aU(),r=Math.max;function i(s,l,u){var c=s==null?0:s.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),e(s,t(l,3),f)}return Sg=i,Sg}var Cg,tE;function uU(){if(tE)return Cg;tE=1;var e=rU(),t=lU(),n=e(t);return Cg=n,Cg}var Eg,nE;function yA(){if(nE)return Eg;nE=1;var e=rx();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Eg=t,Eg}var Ng,rE;function cU(){if(rE)return Ng;rE=1;var e=Jv(),t=BT(),n=Yo();function r(i,s){return i==null?i:e(i,t(s),n)}return Ng=r,Ng}var jg,oE;function dU(){if(oE)return jg;oE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return jg=e,jg}var Tg,iE;function fU(){if(iE)return Tg;iE=1;var e=Qu(),t=ex(),n=_r();function r(i,s){var l={};return s=n(s,3),t(i,function(u,c,f){e(l,c,s(u,c,f))}),l}return Tg=r,Tg}var Ag,sE;function ix(){if(sE)return Ag;sE=1;var e=rs();function t(n,r,i){for(var s=-1,l=n.length;++s<l;){var u=n[s],c=r(u);if(c!=null&&(f===void 0?c===c&&!e(c):i(c,f)))var f=c,p=u}return p}return Ag=t,Ag}var Pg,aE;function pU(){if(aE)return Pg;aE=1;function e(t,n){return t>n}return Pg=e,Pg}var Ig,lE;function hU(){if(lE)return Ig;lE=1;var e=ix(),t=pU(),n=Xo();function r(i){return i&&i.length?e(i,n,t):void 0}return Ig=r,Ig}var Rg,uE;function vA(){if(uE)return Rg;uE=1;var e=Qu(),t=Ji();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Rg=n,Rg}var Mg,cE;function mU(){if(cE)return Mg;cE=1;var e=Wo(),t=nc(),n=tr(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,u=s.hasOwnProperty,c=l.call(Object);function f(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==c}return Mg=f,Mg}var Og,dE;function xA(){if(dE)return Og;dE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Og=e,Og}var Lg,fE;function gU(){if(fE)return Lg;fE=1;var e=Ma(),t=Yo();function n(r){return e(r,t(r))}return Lg=n,Lg}var Dg,pE;function yU(){if(pE)return Dg;pE=1;var e=vA(),t=jT(),n=DT(),r=TT(),i=zT(),s=Oa(),l=kt(),u=uA(),c=ts(),f=Ra(),p=wn(),m=mU(),g=La(),v=xA(),b=gU();function w(k,_,C,S,j,A,T){var N=v(k,C),D=v(_,C),z=T.get(D);if(z){e(k,C,z);return}var $=A?A(N,D,C+"",k,_,T):void 0,O=$===void 0;if(O){var B=l(D),G=!B&&c(D),R=!B&&!G&&g(D);$=D,B||G||R?l(N)?$=N:u(N)?$=r(N):G?(O=!1,$=t(D,!0)):R?(O=!1,$=n(D,!0)):$=[]:m(D)||s(D)?($=N,s(N)?$=b(N):(!p(N)||f(N))&&($=i(D))):O=!1}O&&(T.set(D,$),j($,D,S,A,T),T.delete(D)),e(k,C,$)}return Dg=w,Dg}var qg,hE;function vU(){if(hE)return qg;hE=1;var e=Xu(),t=vA(),n=Jv(),r=yU(),i=wn(),s=Yo(),l=xA();function u(c,f,p,m,g){c!==f&&n(f,function(v,b){if(g||(g=new e),i(v))r(c,f,b,p,u,m,g);else{var w=m?m(l(c,b),v,b+"",c,f,g):void 0;w===void 0&&(w=v),t(c,b,w)}},s)}return qg=u,qg}var zg,mE;function xU(){if(mE)return zg;mE=1;var e=ac(),t=lc();function n(r){return e(function(i,s){var l=-1,u=s.length,c=u>1?s[u-1]:void 0,f=u>2?s[2]:void 0;for(c=r.length>3&&typeof c=="function"?(u--,c):void 0,f&&t(s[0],s[1],f)&&(c=u<3?void 0:c,u=1),i=Object(i);++l<u;){var p=s[l];p&&r(i,p,l,c)}return i})}return zg=n,zg}var Fg,gE;function bU(){if(gE)return Fg;gE=1;var e=vU(),t=xU(),n=t(function(r,i,s){e(r,i,s)});return Fg=n,Fg}var Bg,yE;function bA(){if(yE)return Bg;yE=1;function e(t,n){return t<n}return Bg=e,Bg}var $g,vE;function wU(){if(vE)return $g;vE=1;var e=ix(),t=bA(),n=Xo();function r(i){return i&&i.length?e(i,n,t):void 0}return $g=r,$g}var Hg,xE;function _U(){if(xE)return Hg;xE=1;var e=ix(),t=_r(),n=bA();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return Hg=r,Hg}var Vg,bE;function kU(){if(bE)return Vg;bE=1;var e=Fn(),t=function(){return e.Date.now()};return Vg=t,Vg}var Ug,wE;function SU(){if(wE)return Ug;wE=1;var e=Zu(),t=ic(),n=Ju(),r=wn(),i=Da();function s(l,u,c,f){if(!r(l))return l;u=t(u,l);for(var p=-1,m=u.length,g=m-1,v=l;v!=null&&++p<m;){var b=i(u[p]),w=c;if(b==="__proto__"||b==="constructor"||b==="prototype")return l;if(p!=g){var k=v[b];w=f?f(k,b,v):void 0,w===void 0&&(w=r(k)?k:n(u[p+1])?[]:{})}e(v,b,w),v=v[b]}return l}return Ug=s,Ug}var Gg,_E;function CU(){if(_E)return Gg;_E=1;var e=sc(),t=SU(),n=ic();function r(i,s,l){for(var u=-1,c=s.length,f={};++u<c;){var p=s[u],m=e(i,p);l(m,p)&&t(f,n(p,i),m)}return f}return Gg=r,Gg}var Wg,kE;function EU(){if(kE)return Wg;kE=1;var e=CU(),t=ZT();function n(r,i){return e(r,i,function(s,l){return t(r,l)})}return Wg=n,Wg}var Kg,SE;function NU(){if(SE)return Kg;SE=1;var e=yA(),t=sA(),n=aA();function r(i){return n(t(i,void 0,e),i+"")}return Kg=r,Kg}var Yg,CE;function jU(){if(CE)return Yg;CE=1;var e=EU(),t=NU(),n=t(function(r,i){return r==null?{}:e(r,i)});return Yg=n,Yg}var Xg,EE;function TU(){if(EE)return Xg;EE=1;var e=Math.ceil,t=Math.max;function n(r,i,s,l){for(var u=-1,c=t(e((i-r)/(s||1)),0),f=Array(c);c--;)f[l?c:++u]=r,r+=s;return f}return Xg=n,Xg}var Qg,NE;function AU(){if(NE)return Qg;NE=1;var e=TU(),t=lc(),n=gA();function r(i){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),u=u===void 0?s<l?1:-1:n(u),e(s,l,u,i)}}return Qg=r,Qg}var Zg,jE;function PU(){if(jE)return Zg;jE=1;var e=AU(),t=e();return Zg=t,Zg}var Jg,TE;function IU(){if(TE)return Jg;TE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Jg=e,Jg}var ey,AE;function RU(){if(AE)return ey;AE=1;var e=rs();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,u=e(n),c=r!==void 0,f=r===null,p=r===r,m=e(r);if(!f&&!m&&!u&&n>r||u&&c&&p&&!f&&!m||s&&c&&p||!i&&p||!l)return 1;if(!s&&!u&&!m&&n<r||m&&i&&l&&!s&&!u||f&&i&&l||!c&&l||!p)return-1}return 0}return ey=t,ey}var ty,PE;function MU(){if(PE)return ty;PE=1;var e=RU();function t(n,r,i){for(var s=-1,l=n.criteria,u=r.criteria,c=l.length,f=i.length;++s<c;){var p=e(l[s],u[s]);if(p){if(s>=f)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return n.index-r.index}return ty=t,ty}var ny,IE;function OU(){if(IE)return ny;IE=1;var e=oc(),t=sc(),n=_r(),r=rA(),i=IU(),s=ec(),l=MU(),u=Xo(),c=kt();function f(p,m,g){m.length?m=e(m,function(w){return c(w)?function(k){return t(k,w.length===1?w[0]:w)}:w}):m=[u];var v=-1;m=e(m,s(n));var b=r(p,function(w,k,_){var C=e(m,function(S){return S(w)});return{criteria:C,index:++v,value:w}});return i(b,function(w,k){return l(w,k,g)})}return ny=f,ny}var ry,RE;function LU(){if(RE)return ry;RE=1;var e=rx(),t=OU(),n=ac(),r=lc(),i=n(function(s,l){if(s==null)return[];var u=l.length;return u>1&&r(s,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return ry=i,ry}var oy,ME;function DU(){if(ME)return oy;ME=1;var e=XT(),t=0;function n(r){var i=++t;return e(r)+i}return oy=n,oy}var iy,OE;function qU(){if(OE)return iy;OE=1;function e(t,n,r){for(var i=-1,s=t.length,l=n.length,u={};++i<s;){var c=i<l?n[i]:void 0;r(u,t[i],c)}return u}return iy=e,iy}var sy,LE;function zU(){if(LE)return sy;LE=1;var e=Zu(),t=qU();function n(r,i){return t(r||[],i||[],e)}return sy=n,sy}var ay,DE;function ct(){if(DE)return ay;DE=1;var e;if(typeof $v=="function")try{e={cloneDeep:tU(),constant:Zv(),defaults:nU(),each:HT(),filter:eA(),find:uU(),flatten:yA(),forEach:$T(),forIn:cU(),has:tA(),isUndefined:nA(),last:dU(),map:oA(),mapValues:fU(),max:hU(),merge:bU(),min:wU(),minBy:_U(),now:kU(),pick:jU(),range:PU(),reduce:iA(),sortBy:LU(),uniqueId:DU(),values:cA(),zipObject:zU()}}catch{}return e||(e=window._),ay=e,ay}var ly,qE;function FU(){if(qE)return ly;qE=1,ly=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return t(i),i},e.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&t(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},e.prototype.toString=function(){for(var r=[],i=this._sentinel,s=i._prev;s!==i;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return ly}var uy,zE;function BU(){if(zE)return uy;zE=1;var e=ct(),t=qn().Graph,n=FU();uy=i;var r=e.constant(1);function i(f,p){if(f.nodeCount()<=1)return[];var m=u(f,p||r),g=s(m.graph,m.buckets,m.zeroIdx);return e.flatten(e.map(g,function(v){return f.outEdges(v.v,v.w)}),!0)}function s(f,p,m){for(var g=[],v=p[p.length-1],b=p[0],w;f.nodeCount();){for(;w=b.dequeue();)l(f,p,m,w);for(;w=v.dequeue();)l(f,p,m,w);if(f.nodeCount()){for(var k=p.length-2;k>0;--k)if(w=p[k].dequeue(),w){g=g.concat(l(f,p,m,w,!0));break}}}return g}function l(f,p,m,g,v){var b=v?[]:void 0;return e.forEach(f.inEdges(g.v),function(w){var k=f.edge(w),_=f.node(w.v);v&&b.push({v:w.v,w:w.w}),_.out-=k,c(p,m,_)}),e.forEach(f.outEdges(g.v),function(w){var k=f.edge(w),_=w.w,C=f.node(_);C.in-=k,c(p,m,C)}),f.removeNode(g.v),b}function u(f,p){var m=new t,g=0,v=0;e.forEach(f.nodes(),function(k){m.setNode(k,{v:k,in:0,out:0})}),e.forEach(f.edges(),function(k){var _=m.edge(k.v,k.w)||0,C=p(k),S=_+C;m.setEdge(k.v,k.w,S),v=Math.max(v,m.node(k.v).out+=C),g=Math.max(g,m.node(k.w).in+=C)});var b=e.range(v+g+3).map(function(){return new n}),w=g+1;return e.forEach(m.nodes(),function(k){c(b,w,m.node(k))}),{graph:m,buckets:b,zeroIdx:w}}function c(f,p,m){m.out?m.in?f[m.out-m.in+p].enqueue(m):f[f.length-1].enqueue(m):f[0].enqueue(m)}return uy}var cy,FE;function $U(){if(FE)return cy;FE=1;var e=ct(),t=BU();cy={run:n,undo:i};function n(s){var l=s.graph().acyclicer==="greedy"?t(s,u(s)):r(s);e.forEach(l,function(c){var f=s.edge(c);s.removeEdge(c),f.forwardName=c.name,f.reversed=!0,s.setEdge(c.w,c.v,f,e.uniqueId("rev"))});function u(c){return function(f){return c.edge(f).weight}}}function r(s){var l=[],u={},c={};function f(p){e.has(c,p)||(c[p]=!0,u[p]=!0,e.forEach(s.outEdges(p),function(m){e.has(u,m.w)?l.push(m):f(m.w)}),delete u[p])}return e.forEach(s.nodes(),f),l}function i(s){e.forEach(s.edges(),function(l){var u=s.edge(l);if(u.reversed){s.removeEdge(l);var c=u.forwardName;delete u.reversed,delete u.forwardName,s.setEdge(l.w,l.v,u,c)}})}return cy}var dy,BE;function en(){if(BE)return dy;BE=1;var e=ct(),t=qn().Graph;dy={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:l,intersectRect:u,buildLayerMatrix:c,normalizeRanks:f,removeEmptyRanks:p,addBorderNode:m,maxRank:g,partition:v,time:b,notime:w};function n(k,_,C,S){var j;do j=e.uniqueId(S);while(k.hasNode(j));return C.dummy=_,k.setNode(j,C),j}function r(k){var _=new t().setGraph(k.graph());return e.forEach(k.nodes(),function(C){_.setNode(C,k.node(C))}),e.forEach(k.edges(),function(C){var S=_.edge(C.v,C.w)||{weight:0,minlen:1},j=k.edge(C);_.setEdge(C.v,C.w,{weight:S.weight+j.weight,minlen:Math.max(S.minlen,j.minlen)})}),_}function i(k){var _=new t({multigraph:k.isMultigraph()}).setGraph(k.graph());return e.forEach(k.nodes(),function(C){k.children(C).length||_.setNode(C,k.node(C))}),e.forEach(k.edges(),function(C){_.setEdge(C,k.edge(C))}),_}function s(k){var _=e.map(k.nodes(),function(C){var S={};return e.forEach(k.outEdges(C),function(j){S[j.w]=(S[j.w]||0)+k.edge(j).weight}),S});return e.zipObject(k.nodes(),_)}function l(k){var _=e.map(k.nodes(),function(C){var S={};return e.forEach(k.inEdges(C),function(j){S[j.v]=(S[j.v]||0)+k.edge(j).weight}),S});return e.zipObject(k.nodes(),_)}function u(k,_){var C=k.x,S=k.y,j=_.x-C,A=_.y-S,T=k.width/2,N=k.height/2;if(!j&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var D,z;return Math.abs(A)*T>Math.abs(j)*N?(A<0&&(N=-N),D=N*j/A,z=N):(j<0&&(T=-T),D=T,z=T*A/j),{x:C+D,y:S+z}}function c(k){var _=e.map(e.range(g(k)+1),function(){return[]});return e.forEach(k.nodes(),function(C){var S=k.node(C),j=S.rank;e.isUndefined(j)||(_[j][S.order]=C)}),_}function f(k){var _=e.min(e.map(k.nodes(),function(C){return k.node(C).rank}));e.forEach(k.nodes(),function(C){var S=k.node(C);e.has(S,"rank")&&(S.rank-=_)})}function p(k){var _=e.min(e.map(k.nodes(),function(A){return k.node(A).rank})),C=[];e.forEach(k.nodes(),function(A){var T=k.node(A).rank-_;C[T]||(C[T]=[]),C[T].push(A)});var S=0,j=k.graph().nodeRankFactor;e.forEach(C,function(A,T){e.isUndefined(A)&&T%j!==0?--S:S&&e.forEach(A,function(N){k.node(N).rank+=S})})}function m(k,_,C,S){var j={width:0,height:0};return arguments.length>=4&&(j.rank=C,j.order=S),n(k,"border",j,_)}function g(k){return e.max(e.map(k.nodes(),function(_){var C=k.node(_).rank;if(!e.isUndefined(C))return C}))}function v(k,_){var C={lhs:[],rhs:[]};return e.forEach(k,function(S){_(S)?C.lhs.push(S):C.rhs.push(S)}),C}function b(k,_){var C=e.now();try{return _()}finally{console.log(k+" time: "+(e.now()-C)+"ms")}}function w(k,_){return _()}return dy}var fy,$E;function HU(){if($E)return fy;$E=1;var e=ct(),t=en();fy={run:n,undo:i};function n(s){s.graph().dummyChains=[],e.forEach(s.edges(),function(l){r(s,l)})}function r(s,l){var u=l.v,c=s.node(u).rank,f=l.w,p=s.node(f).rank,m=l.name,g=s.edge(l),v=g.labelRank;if(p!==c+1){s.removeEdge(l);var b,w,k;for(k=0,++c;c<p;++k,++c)g.points=[],w={width:0,height:0,edgeLabel:g,edgeObj:l,rank:c},b=t.addDummyNode(s,"edge",w,"_d"),c===v&&(w.width=g.width,w.height=g.height,w.dummy="edge-label",w.labelpos=g.labelpos),s.setEdge(u,b,{weight:g.weight},m),k===0&&s.graph().dummyChains.push(b),u=b;s.setEdge(u,f,{weight:g.weight},m)}}function i(s){e.forEach(s.graph().dummyChains,function(l){var u=s.node(l),c=u.edgeLabel,f;for(s.setEdge(u.edgeObj,c);u.dummy;)f=s.successors(l)[0],s.removeNode(l),c.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(c.x=u.x,c.y=u.y,c.width=u.width,c.height=u.height),l=f,u=s.node(l)})}return fy}var py,HE;function ju(){if(HE)return py;HE=1;var e=ct();py={longestPath:t,slack:n};function t(r){var i={};function s(l){var u=r.node(l);if(e.has(i,l))return u.rank;i[l]=!0;var c=e.min(e.map(r.outEdges(l),function(f){return s(f.w)-r.edge(f).minlen}));return(c===Number.POSITIVE_INFINITY||c===void 0||c===null)&&(c=0),u.rank=c}e.forEach(r.sources(),s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return py}var hy,VE;function wA(){if(VE)return hy;VE=1;var e=ct(),t=qn().Graph,n=ju().slack;hy=r;function r(u){var c=new t({directed:!1}),f=u.nodes()[0],p=u.nodeCount();c.setNode(f,{});for(var m,g;i(c,u)<p;)m=s(c,u),g=c.hasNode(m.v)?n(u,m):-n(u,m),l(c,u,g);return c}function i(u,c){function f(p){e.forEach(c.nodeEdges(p),function(m){var g=m.v,v=p===g?m.w:g;!u.hasNode(v)&&!n(c,m)&&(u.setNode(v,{}),u.setEdge(p,v,{}),f(v))})}return e.forEach(u.nodes(),f),u.nodeCount()}function s(u,c){return e.minBy(c.edges(),function(f){if(u.hasNode(f.v)!==u.hasNode(f.w))return n(c,f)})}function l(u,c,f){e.forEach(u.nodes(),function(p){c.node(p).rank+=f})}return hy}var my,UE;function VU(){if(UE)return my;UE=1;var e=ct(),t=wA(),n=ju().slack,r=ju().longestPath,i=qn().alg.preorder,s=qn().alg.postorder,l=en().simplify;my=u,u.initLowLimValues=m,u.initCutValues=c,u.calcCutValue=p,u.leaveEdge=v,u.enterEdge=b,u.exchangeEdges=w;function u(S){S=l(S),r(S);var j=t(S);m(j),c(j,S);for(var A,T;A=v(j);)T=b(j,S,A),w(j,S,A,T)}function c(S,j){var A=s(S,S.nodes());A=A.slice(0,A.length-1),e.forEach(A,function(T){f(S,j,T)})}function f(S,j,A){var T=S.node(A),N=T.parent;S.edge(A,N).cutvalue=p(S,j,A)}function p(S,j,A){var T=S.node(A),N=T.parent,D=!0,z=j.edge(A,N),$=0;return z||(D=!1,z=j.edge(N,A)),$=z.weight,e.forEach(j.nodeEdges(A),function(O){var B=O.v===A,G=B?O.w:O.v;if(G!==N){var R=B===D,q=j.edge(O).weight;if($+=R?q:-q,_(S,A,G)){var V=S.edge(A,G).cutvalue;$+=R?-V:V}}}),$}function m(S,j){arguments.length<2&&(j=S.nodes()[0]),g(S,{},1,j)}function g(S,j,A,T,N){var D=A,z=S.node(T);return j[T]=!0,e.forEach(S.neighbors(T),function($){e.has(j,$)||(A=g(S,j,A,$,T))}),z.low=D,z.lim=A++,N?z.parent=N:delete z.parent,A}function v(S){return e.find(S.edges(),function(j){return S.edge(j).cutvalue<0})}function b(S,j,A){var T=A.v,N=A.w;j.hasEdge(T,N)||(T=A.w,N=A.v);var D=S.node(T),z=S.node(N),$=D,O=!1;D.lim>z.lim&&($=z,O=!0);var B=e.filter(j.edges(),function(G){return O===C(S,S.node(G.v),$)&&O!==C(S,S.node(G.w),$)});return e.minBy(B,function(G){return n(j,G)})}function w(S,j,A,T){var N=A.v,D=A.w;S.removeEdge(N,D),S.setEdge(T.v,T.w,{}),m(S),c(S,j),k(S,j)}function k(S,j){var A=e.find(S.nodes(),function(N){return!j.node(N).parent}),T=i(S,A);T=T.slice(1),e.forEach(T,function(N){var D=S.node(N).parent,z=j.edge(N,D),$=!1;z||(z=j.edge(D,N),$=!0),j.node(N).rank=j.node(D).rank+($?z.minlen:-z.minlen)})}function _(S,j,A){return S.hasEdge(j,A)}function C(S,j,A){return A.low<=j.lim&&j.lim<=A.lim}return my}var gy,GE;function UU(){if(GE)return gy;GE=1;var e=ju(),t=e.longestPath,n=wA(),r=VU();gy=i;function i(c){switch(c.graph().ranker){case"network-simplex":u(c);break;case"tight-tree":l(c);break;case"longest-path":s(c);break;default:u(c)}}var s=t;function l(c){t(c),n(c)}function u(c){r(c)}return gy}var yy,WE;function GU(){if(WE)return yy;WE=1;var e=ct();yy=t;function t(i){var s=r(i);e.forEach(i.graph().dummyChains,function(l){for(var u=i.node(l),c=u.edgeObj,f=n(i,s,c.v,c.w),p=f.path,m=f.lca,g=0,v=p[g],b=!0;l!==c.w;){if(u=i.node(l),b){for(;(v=p[g])!==m&&i.node(v).maxRank<u.rank;)g++;v===m&&(b=!1)}if(!b){for(;g<p.length-1&&i.node(v=p[g+1]).minRank<=u.rank;)g++;v=p[g]}i.setParent(l,v),l=i.successors(l)[0]}})}function n(i,s,l,u){var c=[],f=[],p=Math.min(s[l].low,s[u].low),m=Math.max(s[l].lim,s[u].lim),g,v;g=l;do g=i.parent(g),c.push(g);while(g&&(s[g].low>p||m>s[g].lim));for(v=g,g=u;(g=i.parent(g))!==v;)f.push(g);return{path:c.concat(f.reverse()),lca:v}}function r(i){var s={},l=0;function u(c){var f=l;e.forEach(i.children(c),u),s[c]={low:f,lim:l++}}return e.forEach(i.children(),u),s}return yy}var vy,KE;function WU(){if(KE)return vy;KE=1;var e=ct(),t=en();vy={run:n,cleanup:l};function n(u){var c=t.addDummyNode(u,"root",{},"_root"),f=i(u),p=e.max(e.values(f))-1,m=2*p+1;u.graph().nestingRoot=c,e.forEach(u.edges(),function(v){u.edge(v).minlen*=m});var g=s(u)+1;e.forEach(u.children(),function(v){r(u,c,m,g,p,f,v)}),u.graph().nodeRankFactor=m}function r(u,c,f,p,m,g,v){var b=u.children(v);if(!b.length){v!==c&&u.setEdge(c,v,{weight:0,minlen:f});return}var w=t.addBorderNode(u,"_bt"),k=t.addBorderNode(u,"_bb"),_=u.node(v);u.setParent(w,v),_.borderTop=w,u.setParent(k,v),_.borderBottom=k,e.forEach(b,function(C){r(u,c,f,p,m,g,C);var S=u.node(C),j=S.borderTop?S.borderTop:C,A=S.borderBottom?S.borderBottom:C,T=S.borderTop?p:2*p,N=j!==A?1:m-g[v]+1;u.setEdge(w,j,{weight:T,minlen:N,nestingEdge:!0}),u.setEdge(A,k,{weight:T,minlen:N,nestingEdge:!0})}),u.parent(v)||u.setEdge(c,w,{weight:0,minlen:m+g[v]})}function i(u){var c={};function f(p,m){var g=u.children(p);g&&g.length&&e.forEach(g,function(v){f(v,m+1)}),c[p]=m}return e.forEach(u.children(),function(p){f(p,1)}),c}function s(u){return e.reduce(u.edges(),function(c,f){return c+u.edge(f).weight},0)}function l(u){var c=u.graph();u.removeNode(c.nestingRoot),delete c.nestingRoot,e.forEach(u.edges(),function(f){var p=u.edge(f);p.nestingEdge&&u.removeEdge(f)})}return vy}var xy,YE;function KU(){if(YE)return xy;YE=1;var e=ct(),t=en();xy=n;function n(i){function s(l){var u=i.children(l),c=i.node(l);if(u.length&&e.forEach(u,s),e.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var f=c.minRank,p=c.maxRank+1;f<p;++f)r(i,"borderLeft","_bl",l,c,f),r(i,"borderRight","_br",l,c,f)}}e.forEach(i.children(),s)}function r(i,s,l,u,c,f){var p={width:0,height:0,rank:f,borderType:s},m=c[s][f-1],g=t.addDummyNode(i,"border",p,l);c[s][f]=g,i.setParent(g,u),m&&i.setEdge(m,g,{weight:1})}return xy}var by,XE;function YU(){if(XE)return by;XE=1;var e=ct();by={adjust:t,undo:n};function t(f){var p=f.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&r(f)}function n(f){var p=f.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&s(f),(p==="lr"||p==="rl")&&(u(f),r(f))}function r(f){e.forEach(f.nodes(),function(p){i(f.node(p))}),e.forEach(f.edges(),function(p){i(f.edge(p))})}function i(f){var p=f.width;f.width=f.height,f.height=p}function s(f){e.forEach(f.nodes(),function(p){l(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,l),e.has(m,"y")&&l(m)})}function l(f){f.y=-f.y}function u(f){e.forEach(f.nodes(),function(p){c(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,c),e.has(m,"x")&&c(m)})}function c(f){var p=f.x;f.x=f.y,f.y=p}return by}var wy,QE;function XU(){if(QE)return wy;QE=1;var e=ct();wy=t;function t(n){var r={},i=e.filter(n.nodes(),function(f){return!n.children(f).length}),s=e.max(e.map(i,function(f){return n.node(f).rank})),l=e.map(e.range(s+1),function(){return[]});function u(f){if(!e.has(r,f)){r[f]=!0;var p=n.node(f);l[p.rank].push(f),e.forEach(n.successors(f),u)}}var c=e.sortBy(i,function(f){return n.node(f).rank});return e.forEach(c,u),l}return wy}var _y,ZE;function QU(){if(ZE)return _y;ZE=1;var e=ct();_y=t;function t(r,i){for(var s=0,l=1;l<i.length;++l)s+=n(r,i[l-1],i[l]);return s}function n(r,i,s){for(var l=e.zipObject(s,e.map(s,function(g,v){return v})),u=e.flatten(e.map(i,function(g){return e.sortBy(e.map(r.outEdges(g),function(v){return{pos:l[v.w],weight:r.edge(v).weight}}),"pos")}),!0),c=1;c<s.length;)c<<=1;var f=2*c-1;c-=1;var p=e.map(new Array(f),function(){return 0}),m=0;return e.forEach(u.forEach(function(g){var v=g.pos+c;p[v]+=g.weight;for(var b=0;v>0;)v%2&&(b+=p[v+1]),v=v-1>>1,p[v]+=g.weight;m+=g.weight*b})),m}return _y}var ky,JE;function ZU(){if(JE)return ky;JE=1;var e=ct();ky=t;function t(n,r){return e.map(r,function(i){var s=n.inEdges(i);if(s.length){var l=e.reduce(s,function(u,c){var f=n.edge(c),p=n.node(c.v);return{sum:u.sum+f.weight*p.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return ky}var Sy,eN;function JU(){if(eN)return Sy;eN=1;var e=ct();Sy=t;function t(i,s){var l={};e.forEach(i,function(c,f){var p=l[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:f};e.isUndefined(c.barycenter)||(p.barycenter=c.barycenter,p.weight=c.weight)}),e.forEach(s.edges(),function(c){var f=l[c.v],p=l[c.w];!e.isUndefined(f)&&!e.isUndefined(p)&&(p.indegree++,f.out.push(l[c.w]))});var u=e.filter(l,function(c){return!c.indegree});return n(u)}function n(i){var s=[];function l(f){return function(p){p.merged||(e.isUndefined(p.barycenter)||e.isUndefined(f.barycenter)||p.barycenter>=f.barycenter)&&r(f,p)}}function u(f){return function(p){p.in.push(f),--p.indegree===0&&i.push(p)}}for(;i.length;){var c=i.pop();s.push(c),e.forEach(c.in.reverse(),l(c)),e.forEach(c.out,u(c))}return e.map(e.filter(s,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function r(i,s){var l=0,u=0;i.weight&&(l+=i.barycenter*i.weight,u+=i.weight),s.weight&&(l+=s.barycenter*s.weight,u+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=l/u,i.weight=u,i.i=Math.min(s.i,i.i),s.merged=!0}return Sy}var Cy,tN;function e9(){if(tN)return Cy;tN=1;var e=ct(),t=en();Cy=n;function n(s,l){var u=t.partition(s,function(w){return e.has(w,"barycenter")}),c=u.lhs,f=e.sortBy(u.rhs,function(w){return-w.i}),p=[],m=0,g=0,v=0;c.sort(i(!!l)),v=r(p,f,v),e.forEach(c,function(w){v+=w.vs.length,p.push(w.vs),m+=w.barycenter*w.weight,g+=w.weight,v=r(p,f,v)});var b={vs:e.flatten(p,!0)};return g&&(b.barycenter=m/g,b.weight=g),b}function r(s,l,u){for(var c;l.length&&(c=e.last(l)).i<=u;)l.pop(),s.push(c.vs),u++;return u}function i(s){return function(l,u){return l.barycenter<u.barycenter?-1:l.barycenter>u.barycenter?1:s?u.i-l.i:l.i-u.i}}return Cy}var Ey,nN;function t9(){if(nN)return Ey;nN=1;var e=ct(),t=ZU(),n=JU(),r=e9();Ey=i;function i(u,c,f,p){var m=u.children(c),g=u.node(c),v=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,w={};v&&(m=e.filter(m,function(A){return A!==v&&A!==b}));var k=t(u,m);e.forEach(k,function(A){if(u.children(A.v).length){var T=i(u,A.v,f,p);w[A.v]=T,e.has(T,"barycenter")&&l(A,T)}});var _=n(k,f);s(_,w);var C=r(_,p);if(v&&(C.vs=e.flatten([v,C.vs,b],!0),u.predecessors(v).length)){var S=u.node(u.predecessors(v)[0]),j=u.node(u.predecessors(b)[0]);e.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+S.order+j.order)/(C.weight+2),C.weight+=2}return C}function s(u,c){e.forEach(u,function(f){f.vs=e.flatten(f.vs.map(function(p){return c[p]?c[p].vs:p}),!0)})}function l(u,c){e.isUndefined(u.barycenter)?(u.barycenter=c.barycenter,u.weight=c.weight):(u.barycenter=(u.barycenter*u.weight+c.barycenter*c.weight)/(u.weight+c.weight),u.weight+=c.weight)}return Ey}var Ny,rN;function n9(){if(rN)return Ny;rN=1;var e=ct(),t=qn().Graph;Ny=n;function n(i,s,l){var u=r(i),c=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(f){return i.node(f)});return e.forEach(i.nodes(),function(f){var p=i.node(f),m=i.parent(f);(p.rank===s||p.minRank<=s&&s<=p.maxRank)&&(c.setNode(f),c.setParent(f,m||u),e.forEach(i[l](f),function(g){var v=g.v===f?g.w:g.v,b=c.edge(v,f),w=e.isUndefined(b)?0:b.weight;c.setEdge(v,f,{weight:i.edge(g).weight+w})}),e.has(p,"minRank")&&c.setNode(f,{borderLeft:p.borderLeft[s],borderRight:p.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return Ny}var jy,oN;function r9(){if(oN)return jy;oN=1;var e=ct();jy=t;function t(n,r,i){var s={},l;e.forEach(i,function(u){for(var c=n.parent(u),f,p;c;){if(f=n.parent(c),f?(p=s[f],s[f]=c):(p=l,l=c),p&&p!==c){r.setEdge(p,c);return}c=f}})}return jy}var Ty,iN;function o9(){if(iN)return Ty;iN=1;var e=ct(),t=XU(),n=QU(),r=t9(),i=n9(),s=r9(),l=qn().Graph,u=en();Ty=c;function c(g){var v=u.maxRank(g),b=f(g,e.range(1,v+1),"inEdges"),w=f(g,e.range(v-1,-1,-1),"outEdges"),k=t(g);m(g,k);for(var _=Number.POSITIVE_INFINITY,C,S=0,j=0;j<4;++S,++j){p(S%2?b:w,S%4>=2),k=u.buildLayerMatrix(g);var A=n(g,k);A<_&&(j=0,C=e.cloneDeep(k),_=A)}m(g,C)}function f(g,v,b){return e.map(v,function(w){return i(g,w,b)})}function p(g,v){var b=new l;e.forEach(g,function(w){var k=w.graph().root,_=r(w,k,b,v);e.forEach(_.vs,function(C,S){w.node(C).order=S}),s(w,b,_.vs)})}function m(g,v){e.forEach(v,function(b){e.forEach(b,function(w,k){g.node(w).order=k})})}return Ty}var Ay,sN;function i9(){if(sN)return Ay;sN=1;var e=ct(),t=qn().Graph,n=en();Ay={positionX:b,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:u,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:g,findSmallestWidthAlignment:m,balance:v};function r(_,C){var S={};function j(A,T){var N=0,D=0,z=A.length,$=e.last(T);return e.forEach(T,function(O,B){var G=s(_,O),R=G?_.node(G).order:z;(G||O===$)&&(e.forEach(T.slice(D,B+1),function(q){e.forEach(_.predecessors(q),function(V){var Y=_.node(V),H=Y.order;(H<N||R<H)&&!(Y.dummy&&_.node(q).dummy)&&l(S,V,q)})}),D=B+1,N=R)}),T}return e.reduce(C,j),S}function i(_,C){var S={};function j(T,N,D,z,$){var O;e.forEach(e.range(N,D),function(B){O=T[B],_.node(O).dummy&&e.forEach(_.predecessors(O),function(G){var R=_.node(G);R.dummy&&(R.order<z||R.order>$)&&l(S,G,O)})})}function A(T,N){var D=-1,z,$=0;return e.forEach(N,function(O,B){if(_.node(O).dummy==="border"){var G=_.predecessors(O);G.length&&(z=_.node(G[0]).order,j(N,$,B,D,z),$=B,D=z)}j(N,$,N.length,z,T.length)}),N}return e.reduce(C,A),S}function s(_,C){if(_.node(C).dummy)return e.find(_.predecessors(C),function(S){return _.node(S).dummy})}function l(_,C,S){if(C>S){var j=C;C=S,S=j}var A=_[C];A||(_[C]=A={}),A[S]=!0}function u(_,C,S){if(C>S){var j=C;C=S,S=j}return e.has(_[C],S)}function c(_,C,S,j){var A={},T={},N={};return e.forEach(C,function(D){e.forEach(D,function(z,$){A[z]=z,T[z]=z,N[z]=$})}),e.forEach(C,function(D){var z=-1;e.forEach(D,function($){var O=j($);if(O.length){O=e.sortBy(O,function(V){return N[V]});for(var B=(O.length-1)/2,G=Math.floor(B),R=Math.ceil(B);G<=R;++G){var q=O[G];T[$]===$&&z<N[q]&&!u(S,$,q)&&(T[q]=$,T[$]=A[$]=A[q],z=N[q])}}})}),{root:A,align:T}}function f(_,C,S,j,A){var T={},N=p(_,C,S,A),D=A?"borderLeft":"borderRight";function z(B,G){for(var R=N.nodes(),q=R.pop(),V={};q;)V[q]?B(q):(V[q]=!0,R.push(q),R=R.concat(G(q))),q=R.pop()}function $(B){T[B]=N.inEdges(B).reduce(function(G,R){return Math.max(G,T[R.v]+N.edge(R))},0)}function O(B){var G=N.outEdges(B).reduce(function(q,V){return Math.min(q,T[V.w]-N.edge(V))},Number.POSITIVE_INFINITY),R=_.node(B);G!==Number.POSITIVE_INFINITY&&R.borderType!==D&&(T[B]=Math.max(T[B],G))}return z($,N.predecessors.bind(N)),z(O,N.successors.bind(N)),e.forEach(j,function(B){T[B]=T[S[B]]}),T}function p(_,C,S,j){var A=new t,T=_.graph(),N=w(T.nodesep,T.edgesep,j);return e.forEach(C,function(D){var z;e.forEach(D,function($){var O=S[$];if(A.setNode(O),z){var B=S[z],G=A.edge(B,O);A.setEdge(B,O,Math.max(N(_,$,z),G||0))}z=$})}),A}function m(_,C){return e.minBy(e.values(C),function(S){var j=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return e.forIn(S,function(T,N){var D=k(_,N)/2;j=Math.max(T+D,j),A=Math.min(T-D,A)}),j-A})}function g(_,C){var S=e.values(C),j=e.min(S),A=e.max(S);e.forEach(["u","d"],function(T){e.forEach(["l","r"],function(N){var D=T+N,z=_[D],$;if(z!==C){var O=e.values(z);$=N==="l"?j-e.min(O):A-e.max(O),$&&(_[D]=e.mapValues(z,function(B){return B+$}))}})})}function v(_,C){return e.mapValues(_.ul,function(S,j){if(C)return _[C.toLowerCase()][j];var A=e.sortBy(e.map(_,j));return(A[1]+A[2])/2})}function b(_){var C=n.buildLayerMatrix(_),S=e.merge(r(_,C),i(_,C)),j={},A;e.forEach(["u","d"],function(N){A=N==="u"?C:e.values(C).reverse(),e.forEach(["l","r"],function(D){D==="r"&&(A=e.map(A,function(B){return e.values(B).reverse()}));var z=(N==="u"?_.predecessors:_.successors).bind(_),$=c(_,A,S,z),O=f(_,A,$.root,$.align,D==="r");D==="r"&&(O=e.mapValues(O,function(B){return-B})),j[N+D]=O})});var T=m(_,j);return g(j,T),v(j,_.graph().align)}function w(_,C,S){return function(j,A,T){var N=j.node(A),D=j.node(T),z=0,$;if(z+=N.width/2,e.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":$=-N.width/2;break;case"r":$=N.width/2;break}if($&&(z+=S?$:-$),$=0,z+=(N.dummy?C:_)/2,z+=(D.dummy?C:_)/2,z+=D.width/2,e.has(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":$=D.width/2;break;case"r":$=-D.width/2;break}return $&&(z+=S?$:-$),$=0,z}}function k(_,C){return _.node(C).width}return Ay}var Py,aN;function s9(){if(aN)return Py;aN=1;var e=ct(),t=en(),n=i9().positionX;Py=r;function r(s){s=t.asNonCompoundGraph(s),i(s),e.forEach(n(s),function(l,u){s.node(u).x=l})}function i(s){var l=t.buildLayerMatrix(s),u=s.graph().ranksep,c=0;e.forEach(l,function(f){var p=e.max(e.map(f,function(m){return s.node(m).height}));e.forEach(f,function(m){s.node(m).y=c+p/2}),c+=p+u})}return Py}var Iy,lN;function a9(){if(lN)return Iy;lN=1;var e=ct(),t=$U(),n=HU(),r=UU(),i=en().normalizeRanks,s=GU(),l=en().removeEmptyRanks,u=WU(),c=KU(),f=YU(),p=o9(),m=s9(),g=en(),v=qn().Graph;Iy=b;function b(U,ee){var J=ee&&ee.debugTiming?g.time:g.notime;J("layout",function(){var Q=J("  buildLayoutGraph",function(){return z(U)});J("  runLayout",function(){w(Q,J)}),J("  updateInputGraph",function(){k(U,Q)})})}function w(U,ee){ee("    makeSpaceForEdgeLabels",function(){$(U)}),ee("    removeSelfEdges",function(){X(U)}),ee("    acyclic",function(){t.run(U)}),ee("    nestingGraph.run",function(){u.run(U)}),ee("    rank",function(){r(g.asNonCompoundGraph(U))}),ee("    injectEdgeLabelProxies",function(){O(U)}),ee("    removeEmptyRanks",function(){l(U)}),ee("    nestingGraph.cleanup",function(){u.cleanup(U)}),ee("    normalizeRanks",function(){i(U)}),ee("    assignRankMinMax",function(){B(U)}),ee("    removeEdgeLabelProxies",function(){G(U)}),ee("    normalize.run",function(){n.run(U)}),ee("    parentDummyChains",function(){s(U)}),ee("    addBorderSegments",function(){c(U)}),ee("    order",function(){p(U)}),ee("    insertSelfEdges",function(){I(U)}),ee("    adjustCoordinateSystem",function(){f.adjust(U)}),ee("    position",function(){m(U)}),ee("    positionSelfEdges",function(){F(U)}),ee("    removeBorderNodes",function(){H(U)}),ee("    normalize.undo",function(){n.undo(U)}),ee("    fixupEdgeLabelCoords",function(){V(U)}),ee("    undoCoordinateSystem",function(){f.undo(U)}),ee("    translateGraph",function(){R(U)}),ee("    assignNodeIntersects",function(){q(U)}),ee("    reversePoints",function(){Y(U)}),ee("    acyclic.undo",function(){t.undo(U)})}function k(U,ee){e.forEach(U.nodes(),function(J){var Q=U.node(J),ne=ee.node(J);Q&&(Q.x=ne.x,Q.y=ne.y,ee.children(J).length&&(Q.width=ne.width,Q.height=ne.height))}),e.forEach(U.edges(),function(J){var Q=U.edge(J),ne=ee.edge(J);Q.points=ne.points,e.has(ne,"x")&&(Q.x=ne.x,Q.y=ne.y)}),U.graph().width=ee.graph().width,U.graph().height=ee.graph().height}var _=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},S=["acyclicer","ranker","rankdir","align"],j=["width","height"],A={width:0,height:0},T=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function z(U){var ee=new v({multigraph:!0,compound:!0}),J=L(U.graph());return ee.setGraph(e.merge({},C,K(J,_),e.pick(J,S))),e.forEach(U.nodes(),function(Q){var ne=L(U.node(Q));ee.setNode(Q,e.defaults(K(ne,j),A)),ee.setParent(Q,U.parent(Q))}),e.forEach(U.edges(),function(Q){var ne=L(U.edge(Q));ee.setEdge(Q,e.merge({},N,K(ne,T),e.pick(ne,D)))}),ee}function $(U){var ee=U.graph();ee.ranksep/=2,e.forEach(U.edges(),function(J){var Q=U.edge(J);Q.minlen*=2,Q.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?Q.width+=Q.labeloffset:Q.height+=Q.labeloffset)})}function O(U){e.forEach(U.edges(),function(ee){var J=U.edge(ee);if(J.width&&J.height){var Q=U.node(ee.v),ne=U.node(ee.w),ae={rank:(ne.rank-Q.rank)/2+Q.rank,e:ee};g.addDummyNode(U,"edge-proxy",ae,"_ep")}})}function B(U){var ee=0;e.forEach(U.nodes(),function(J){var Q=U.node(J);Q.borderTop&&(Q.minRank=U.node(Q.borderTop).rank,Q.maxRank=U.node(Q.borderBottom).rank,ee=e.max(ee,Q.maxRank))}),U.graph().maxRank=ee}function G(U){e.forEach(U.nodes(),function(ee){var J=U.node(ee);J.dummy==="edge-proxy"&&(U.edge(J.e).labelRank=J.rank,U.removeNode(ee))})}function R(U){var ee=Number.POSITIVE_INFINITY,J=0,Q=Number.POSITIVE_INFINITY,ne=0,ae=U.graph(),fe=ae.marginx||0,ve=ae.marginy||0;function Ce(xe){var Ae=xe.x,we=xe.y,Le=xe.width,Ne=xe.height;ee=Math.min(ee,Ae-Le/2),J=Math.max(J,Ae+Le/2),Q=Math.min(Q,we-Ne/2),ne=Math.max(ne,we+Ne/2)}e.forEach(U.nodes(),function(xe){Ce(U.node(xe))}),e.forEach(U.edges(),function(xe){var Ae=U.edge(xe);e.has(Ae,"x")&&Ce(Ae)}),ee-=fe,Q-=ve,e.forEach(U.nodes(),function(xe){var Ae=U.node(xe);Ae.x-=ee,Ae.y-=Q}),e.forEach(U.edges(),function(xe){var Ae=U.edge(xe);e.forEach(Ae.points,function(we){we.x-=ee,we.y-=Q}),e.has(Ae,"x")&&(Ae.x-=ee),e.has(Ae,"y")&&(Ae.y-=Q)}),ae.width=J-ee+fe,ae.height=ne-Q+ve}function q(U){e.forEach(U.edges(),function(ee){var J=U.edge(ee),Q=U.node(ee.v),ne=U.node(ee.w),ae,fe;J.points?(ae=J.points[0],fe=J.points[J.points.length-1]):(J.points=[],ae=ne,fe=Q),J.points.unshift(g.intersectRect(Q,ae)),J.points.push(g.intersectRect(ne,fe))})}function V(U){e.forEach(U.edges(),function(ee){var J=U.edge(ee);if(e.has(J,"x"))switch((J.labelpos==="l"||J.labelpos==="r")&&(J.width-=J.labeloffset),J.labelpos){case"l":J.x-=J.width/2+J.labeloffset;break;case"r":J.x+=J.width/2+J.labeloffset;break}})}function Y(U){e.forEach(U.edges(),function(ee){var J=U.edge(ee);J.reversed&&J.points.reverse()})}function H(U){e.forEach(U.nodes(),function(ee){if(U.children(ee).length){var J=U.node(ee),Q=U.node(J.borderTop),ne=U.node(J.borderBottom),ae=U.node(e.last(J.borderLeft)),fe=U.node(e.last(J.borderRight));J.width=Math.abs(fe.x-ae.x),J.height=Math.abs(ne.y-Q.y),J.x=ae.x+J.width/2,J.y=Q.y+J.height/2}}),e.forEach(U.nodes(),function(ee){U.node(ee).dummy==="border"&&U.removeNode(ee)})}function X(U){e.forEach(U.edges(),function(ee){if(ee.v===ee.w){var J=U.node(ee.v);J.selfEdges||(J.selfEdges=[]),J.selfEdges.push({e:ee,label:U.edge(ee)}),U.removeEdge(ee)}})}function I(U){var ee=g.buildLayerMatrix(U);e.forEach(ee,function(J){var Q=0;e.forEach(J,function(ne,ae){var fe=U.node(ne);fe.order=ae+Q,e.forEach(fe.selfEdges,function(ve){g.addDummyNode(U,"selfedge",{width:ve.label.width,height:ve.label.height,rank:fe.rank,order:ae+ ++Q,e:ve.e,label:ve.label},"_se")}),delete fe.selfEdges})})}function F(U){e.forEach(U.nodes(),function(ee){var J=U.node(ee);if(J.dummy==="selfedge"){var Q=U.node(J.e.v),ne=Q.x+Q.width/2,ae=Q.y,fe=J.x-ne,ve=Q.height/2;U.setEdge(J.e,J.label),U.removeNode(ee),J.label.points=[{x:ne+2*fe/3,y:ae-ve},{x:ne+5*fe/6,y:ae-ve},{x:ne+fe,y:ae},{x:ne+5*fe/6,y:ae+ve},{x:ne+2*fe/3,y:ae+ve}],J.label.x=J.x,J.label.y=J.y}})}function K(U,ee){return e.mapValues(e.pick(U,ee),Number)}function L(U){var ee={};return e.forEach(U,function(J,Q){ee[Q.toLowerCase()]=J}),ee}return Iy}var Ry,uN;function l9(){if(uN)return Ry;uN=1;var e=ct(),t=en(),n=qn().Graph;Ry={debugOrdering:r};function r(i){var s=t.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(u){l.setNode(u,{label:u}),l.setParent(u,"layer"+i.node(u).rank)}),e.forEach(i.edges(),function(u){l.setEdge(u.v,u.w,{},u.name)}),e.forEach(s,function(u,c){var f="layer"+c;l.setNode(f,{rank:"same"}),e.reduce(u,function(p,m){return l.setEdge(p,m,{style:"invis"}),m})}),l}return Ry}var My,cN;function u9(){return cN||(cN=1,My="0.8.5"),My}var Oy,dN;function c9(){return dN||(dN=1,Oy={graphlib:qn(),layout:a9(),debug:l9(),util:{time:en().time,notime:en().notime},version:u9()}),Oy}var d9=c9();const fN=Yi(d9);function _A(){const{getNodes:e,getEdges:t,setNodes:n,fitView:r,zoomIn:i,zoomOut:s,getZoom:l}=ja(),u=wt(O=>O.layoutMode),c=wt(O=>O.layoutDirection),f=wt(O=>O.snapToGrid),p=wt(O=>O.gridSize),m=wt(O=>O.selectedNodeId),g=wt(O=>O.setLayoutMode),v=wt(O=>O.setLayoutDirection),b=wt(O=>O.setSnapToGrid),w=wt(O=>O.setGridSize),k=P.useCallback(()=>({top:.15,left:.1,bottom:.1,right:m?.35:.1}),[m]),_=P.useCallback(O=>{const B=e(),G=t();if(B.length===0)return;const R=new fN.graphlib.Graph;R.setGraph({rankdir:O,nodesep:40,ranksep:100}),R.setDefaultEdgeLabel(()=>({})),B.forEach(q=>R.setNode(q.id,{width:180,height:100})),G.forEach(q=>R.setEdge(q.source,q.target)),fN.layout(R),n(B.map(q=>{const V=R.node(q.id);return{...q,position:{x:V.x-90,y:V.y-50}}})),setTimeout(()=>r({padding:k(),maxZoom:.9}),50)},[e,t,n,r,k]),C=P.useCallback(()=>{const O=c==="LR"?"TB":"LR";v(O),_(O)},[c,v,_]),S=P.useCallback(()=>{const O=u==="free"?"fixed":"free";g(O),O==="fixed"&&_(c)},[u,c,g,_]),j=P.useCallback(()=>{C()},[C]),A=P.useCallback(()=>{_(c)},[_,c]),T=P.useCallback(()=>{r({padding:k(),duration:300,maxZoom:.9,includeHiddenNodes:!1})},[r,k]),N=P.useCallback((O,B)=>f?{x:Math.round(O/p)*p,y:Math.round(B/p)*p}:{x:O,y:B},[f,p]),D=P.useCallback(()=>{i({duration:200})},[i]),z=P.useCallback(()=>{s({duration:200})},[s]),$=P.useCallback(()=>l(),[l]);return{layoutMode:u,layoutDirection:c,snapToGrid:f,gridSize:p,setLayoutMode:g,toggleMode:S,setLayoutDirection:v,toggleDirection:C,toggleLayout:j,setSnapToGrid:b,setGridSize:w,snapPosition:N,applyLayout:A,fitToView:T,zoomIn:D,zoomOut:z,getZoom:$}}function f9({onFitView:e,showDataFlowOverlay:t,onToggleDataFlowOverlay:n,isRunning:r,onRun:i,onStop:s,showMinimap:l,onToggleMinimap:u}){const{layoutDirection:c,toggleDirection:f,snapToGrid:p,setSnapToGrid:m,gridSize:g,setGridSize:v}=_A(),b=V3(),w=Math.round(b.zoom*100),k=c==="LR",_={backgroundColor:"var(--surface-card)",borderColor:"var(--border-default)",color:"var(--text-primary)"},C={backgroundColor:"var(--accent-primary)",borderColor:"var(--accent-primary)",color:"white"},S=[10,20,40];return h.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[h.jsxs("button",{onClick:f,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:_,title:`Layout: ${k?"Horizontal (Left to Right)":"Vertical (Top to Bottom)"}
Click to switch and auto-arrange nodes`,children:[h.jsx("span",{children:k?"":""}),k?"LR":"TB"]}),h.jsxs("button",{onClick:()=>m(!p),className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:p?C:_,title:`Snap to Grid: ${p?"On":"Off"} (${g}px)
Click to ${p?"disable":"enable"} grid snapping`,children:[h.jsx("span",{children:p?"":""}),"Snap"]}),p&&h.jsx("select",{value:g,onChange:j=>v(Number(j.target.value)),className:"px-2 py-1.5 border rounded text-sm",style:_,title:"Grid size in pixels",children:S.map(j=>h.jsxs("option",{value:j,children:[j,"px"]},j))}),n&&h.jsxs("button",{onClick:n,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:t?C:_,title:`Data Flow Overlay: ${t?"On":"Off"}
Shows state keys flowing between nodes during execution`,children:[h.jsx("span",{children:""}),t?"Flow On":"Flow Off"]}),h.jsxs("button",{onClick:e,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:_,title:"Fit all nodes in view (Ctrl+0)",children:[h.jsx("span",{children:""})," Fit"]}),u&&h.jsxs("button",{onClick:u,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:l?C:_,title:`Minimap: ${l?"On":"Off"}
Shows overview of entire workflow`,children:[h.jsx("span",{children:""}),"Map"]}),h.jsxs("div",{className:"px-3 py-1.5 border rounded text-sm flex items-center gap-1 cursor-default",style:_,title:"Current zoom level (Ctrl+Plus/Minus to zoom)",children:[h.jsx("span",{children:""}),w,"%"]}),h.jsx("div",{className:"w-px h-6 self-center",style:{backgroundColor:"var(--border-default)"}}),i&&!r&&h.jsxs("button",{onClick:i,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--accent-success)",borderColor:"var(--accent-success)",color:"white"},title:"Run the workflow",children:[h.jsx("span",{children:""})," Run"]}),s&&r&&h.jsxs("button",{onClick:s,className:"px-3 py-1.5 border rounded text-sm flex items-center gap-2 hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--accent-error)",borderColor:"var(--accent-error)",color:"white"},title:"Stop execution",children:[h.jsx("span",{children:""})," Stop"]})]})}function p9(e){return`action_${e}`}function h9(e,t){const[n,r,i]=U3([]),[s,l,u]=G3([]),{activeAgent:c,iteration:f,flowPhase:p,thoughts:m={},stateKeys:g,showDataFlowOverlay:v,highlightedKey:b,onKeyHover:w,executionPath:k=[],isExecuting:_=!1}=t,C=wt(N=>N.layoutDirection),S=C==="LR"||C==="RL",j=P.useRef(null),A=P.useRef(null),T=P.useRef(null);return P.useEffect(()=>{if(!e)return;const N=Object.keys(e.agents).sort().join(","),D=Object.entries(e.agents).map(([Y,H])=>`${Y}:${H.tools?.join(",")}`).join("|"),z=Object.keys(e.actionNodes||{}).sort().join(",");if(N===j.current&&D===A.current&&z===T.current)return;j.current=N,A.current=D,T.current=z;const $=Object.keys(e.agents),O=Object.keys(e.actionNodes||{});if($.length===0&&O.length===0){r([]);return}const B=new Set($.flatMap(Y=>e.agents[Y].sub_agents||[])),G=$.filter(Y=>!B.has(Y)),R=[];let q="START";for(;R.length<G.length;){const Y=e.workflow.edges.find(H=>H.from===q&&H.to!=="END");if(!Y)break;G.includes(Y.to)&&R.push(Y.to),q=Y.to}G.forEach(Y=>{R.includes(Y)||R.push(Y)});const V=[];$.length>0&&V.push({id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+R.length*150},data:{},type:"end"}),R.forEach((Y,H)=>{const X=e.agents[Y],I={x:50,y:150+H*150},F=(X.sub_agents||[]).reduce((K,L)=>(K[L]=e.agents[L]?.tools||[],K),{});X.type==="sequential"?V.push({id:Y,type:"sequential",position:I,data:{label:Y,subAgents:X.sub_agents,subAgentTools:F}}):X.type==="loop"?V.push({id:Y,type:"loop",position:I,data:{label:Y,subAgents:X.sub_agents,subAgentTools:F,maxIterations:X.max_iterations||3}}):X.type==="parallel"?V.push({id:Y,type:"parallel",position:I,data:{label:Y,subAgents:X.sub_agents,subAgentTools:F}}):X.type==="router"?V.push({id:Y,type:"router",position:I,data:{label:Y,routes:X.routes||[]}}):V.push({id:Y,type:"llm",position:I,data:{label:Y,model:X.model,tools:X.tools||[]}})}),O.forEach((Y,H)=>{const X=e.actionNodes[Y],I={x:350,y:50+H*120},F=p9(X.type);V.push({id:Y,type:F,position:I,data:{...X}})}),r(V)},[e,r]),P.useEffect(()=>{e&&r(N=>N.map(D=>{if(D.id==="START"||D.id==="END"){const R=k.includes(D.id);return{...D,data:{...D.data,isInExecutionPath:R},className:R?"node-execution-path":void 0}}const z=e.actionNodes?.[D.id];if(z){const R=c===D.id,q=k.includes(D.id);return{...D,data:{...D.data,...z,isActive:R,isInExecutionPath:q},className:R?"node-active":q?"node-execution-path":void 0}}const $=e.agents[D.id];if(!$)return D;const O=c===D.id||c&&$.sub_agents?.includes(c),B=c&&$.sub_agents?.includes(c)?c:void 0,G=k.includes(D.id);return{...D,data:{...D.data,isActive:O,activeSubAgent:B,currentIteration:$.type==="loop"?f:void 0,thought:D.type==="llm"?m[D.id]:void 0,isInExecutionPath:G},className:O?"node-active":G?"node-execution-path":void 0}}))},[e,c,f,m,k,r]),P.useEffect(()=>{e&&l(e.workflow.edges.map((N,D)=>{const z=c&&N.to===c||p==="input"&&N.from==="START"||p==="output"&&N.to==="END",$=g?.get(N.from)||[],O=k.indexOf(N.from),B=k.indexOf(N.to),G=O!==-1&&B!==-1&&B===O+1,R=_&&z;return{id:`e${D}-${C}`,source:N.from,target:N.to,type:v?"dataflow":"animated",data:{animated:z||R,stateKeys:$,showOverlay:v,highlightedKey:b,onKeyHover:w,isExecutionPath:G&&!R},sourceHandle:S?"right":"bottom",targetHandle:S?"left":"top"}}))},[e?.workflow.edges,p,c,l,C,S,g,v,b,w,k,_]),{nodes:n,edges:s,setNodes:r,setEdges:l,onNodesChange:i,onEdgesChange:u}}function m9(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:r,removeEdge:i,selectNode:s}=wt(),l=P.useCallback((c="llm")=>{if(!e)return;const f=Object.keys(e.agents).length,m=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[c]||"agent"}_${f+1}`;if(["sequential","loop","parallel"].includes(c)){const v=`${m}_agent_1`,b=`${m}_agent_2`,w=c==="loop";t(v,{type:"llm",model:"gemini-2.0-flash",instruction:w?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(b,{type:"llm",model:"gemini-2.0-flash",instruction:w?"Review. Call exit_loop when done.":"Agent 2.",tools:w?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(m,{type:c,instruction:"",tools:[],sub_agents:[v,b],position:{x:50,y:150+f*180},max_iterations:w?3:void 0})}else c==="router"?t(m,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+f*120},routes:[{condition:"default",target:"END"}]}):t(m,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+f*120}});const g=e.workflow.edges.find(v=>v.to==="END");g?(i(g.from,"END"),r(g.from,m)):r("START",m),r(m,"END"),s(m)},[e,t,r,i,s]),u=P.useCallback(c=>{if(!e)return null;const f=e.agents[c];if(!f)return null;const p=`${c}_copy`;return t(p,{...f,position:{x:(f.position?.x||50)+50,y:(f.position?.y||50)+50}}),p},[e,t]);return{createAgent:l,duplicateAgent:u,removeAgent:n}}function g9(e,t){const n=Xi(),r={showMinimap:e?.showMinimap??n.showMinimap,showDataFlowOverlay:e?.showDataFlowOverlay??n.showDataFlowOverlay,showTimeline:e?.showTimeline??n.showTimeline,showConsole:!0},[i,s]=P.useState({x:0,y:0,zoom:1}),[l,u]=P.useState(r);P.useEffect(()=>{e&&u(_=>({..._,showMinimap:e.showMinimap??_.showMinimap,showDataFlowOverlay:e.showDataFlowOverlay??_.showDataFlowOverlay,showTimeline:e.showTimeline??_.showTimeline}))},[e?.showMinimap,e?.showDataFlowOverlay,e?.showTimeline]);const c=P.useCallback(()=>{u(_=>{const C=!_.showMinimap;return t?.("showMinimap",C),{..._,showMinimap:C}})},[t]),f=P.useCallback(()=>{u(_=>{const C=!_.showDataFlowOverlay;return t?.("showDataFlowOverlay",C),{..._,showDataFlowOverlay:C}})},[t]),p=P.useCallback(()=>{u(_=>{const C=!_.showTimeline;return t?.("showTimeline",C),{..._,showTimeline:C}})},[t]),m=P.useCallback(()=>{u(_=>({..._,showConsole:!_.showConsole}))},[]),g=P.useCallback(_=>{u(C=>({...C,showMinimap:_})),t?.("showMinimap",_)},[t]),v=P.useCallback(_=>{u(C=>({...C,showDataFlowOverlay:_})),t?.("showDataFlowOverlay",_)},[t]),b=P.useCallback(_=>{u(C=>({...C,showTimeline:_})),t?.("showTimeline",_)},[t]),w=P.useCallback(_=>{u(C=>({...C,showConsole:_}))},[]),k=P.useCallback(_=>{s(_)},[]);return{viewport:i,setViewport:s,onViewportChange:k,showMinimap:l.showMinimap,showDataFlowOverlay:l.showDataFlowOverlay,showTimeline:l.showTimeline,showConsole:l.showConsole,toggleMinimap:c,toggleDataFlowOverlay:f,toggleTimeline:p,toggleConsole:m,setShowMinimap:g,setShowDataFlowOverlay:v,setShowTimeline:b,setShowConsole:w}}function y9(){return Xi().autobuildTriggers}const kA="adk-studio-autobuild";function v9(){try{const e=localStorage.getItem(kA);return e!==null?e==="true":Xi().autobuildEnabled}catch{return!0}}function x9(e){try{localStorage.setItem(kA,String(e))}catch{}}function b9(e,t,n,r){const[i,s]=P.useState(!1),[l,u]=P.useState(null),[c,f]=P.useState(null),[p,m]=P.useState(null),[g,v]=P.useState(()=>n!==void 0?n:v9()),[b,w]=P.useState(!1),k=P.useRef(null),_=P.useRef(null);P.useEffect(()=>{n!==void 0&&v(n)},[n]);const C=P.useCallback(async()=>{if(!e)return null;try{const B=await to.projects.compile(e);return m(B),B}catch(B){return alert("Compile failed: "+B.message),null}},[e]),S=P.useCallback(async B=>{if(!e||i||r&&!r())return;s(!0),w(B),B||u({success:!1,output:"",path:null}),_.current&&_.current.close();const G=new EventSource(`/api/projects/${e}/build-stream`);_.current=G;let R="";G.addEventListener("status",q=>{R+=q.data+`
`,(!B||j.current)&&u({success:!1,output:R,path:null})}),G.addEventListener("output",q=>{R+=q.data+`
`,(!B||j.current)&&u({success:!1,output:R,path:null})}),G.addEventListener("done",q=>{(!B||j.current)&&u({success:!0,output:R,path:q.data}),f(q.data),s(!1),w(!1),G.close(),_.current=null}),G.addEventListener("error",q=>{R+=`
Error: `+(q.data||"Build failed"),u({success:!1,output:R,path:null}),s(!1),w(!1),G.close(),_.current=null}),G.onerror=()=>{s(!1),w(!1),G.close(),_.current=null}},[e,i,r]),j=P.useRef(!1);P.useEffect(()=>{j.current=l!==null},[l]);const A=P.useCallback(async()=>{await S(!1)},[S]),T=P.useCallback(B=>{!g||i||B&&!(t||y9())[B]||(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{S(!0)},1e3))},[g,i,S,t]),N=P.useCallback(()=>{u(null)},[]),D=P.useCallback(()=>{m(null)},[]),z=P.useCallback(B=>{f(null),T(B)},[T]),$=P.useCallback(()=>{const B=!g;v(B),x9(B),B&&!c&&!i&&T()},[g,c,i,T]),O=P.useCallback(()=>{i&&b&&u({success:!1,output:"Build in progress...",path:null})},[i,b]);return P.useEffect(()=>()=>{k.current&&clearTimeout(k.current),_.current&&_.current.close()},[]),{building:i,buildOutput:l,builtBinaryPath:c,compiledCode:p,autobuildEnabled:g,isAutobuild:b,build:A,compile:C,clearBuildOutput:N,clearCompiledCode:D,invalidateBuild:z,toggleAutobuild:$,showBuildProgress:O,needsBuild:!c}}const pN={path:[],activeNodeId:null,isExecuting:!1};function w9(){const[e,t]=P.useState(pN),n=P.useCallback(()=>{t({path:["START"],activeNodeId:"START",isExecuting:!0})},[]),r=P.useCallback(v=>{t(b=>({...b,path:[...b.path,v],activeNodeId:v}))},[]),i=P.useCallback(()=>{t(v=>({...v,path:[...v.path,"END"],activeNodeId:null,isExecuting:!1}))},[]),s=P.useCallback(()=>{t(pN)},[]),l=P.useCallback(v=>e.path.includes(v),[e.path]),u=P.useCallback(v=>e.activeNodeId===v,[e.activeNodeId]),c=P.useCallback((v,b)=>{const w=e.path.indexOf(v),k=e.path.indexOf(b);return w!==-1&&k!==-1&&k===w+1},[e.path]),f=P.useCallback((v,b)=>e.isExecuting&&b===e.activeNodeId&&e.path.includes(v),[e.isExecuting,e.activeNodeId,e.path]),p=P.useCallback(v=>v.filter(b=>c(b.from,b.to)),[c]),m=P.useCallback(v=>u(v)?"active":l(v)?"path":"none",[u,l]),g=P.useCallback((v,b)=>f(v,b)?"animated":c(v,b)?"path":"none",[f,c]);return{...e,startExecution:n,moveToNode:r,completeExecution:i,resetPath:s,isNodeInPath:l,isNodeActive:u,isEdgeInPath:c,isEdgeAnimated:f,getPathEdges:p,getNodeStatus:m,getEdgeStatus:g}}const ou=20,SA=Bu((e,t)=>({undoStack:[],redoStack:[],canUndo:!1,canRedo:!1,recordAddNode:(n,r,i,s)=>{const l={type:"add_node",timestamp:Date.now(),nodeId:n,agent:r,edges:i,edgesBefore:s};e(u=>{const c=[...u.undoStack,l];return c.length>ou&&c.shift(),{undoStack:c,redoStack:[],canUndo:!0,canRedo:!1}})},recordDeleteNode:(n,r,i,s)=>{const l={type:"delete_node",timestamp:Date.now(),nodeId:n,agent:r,edges:i,edgesBefore:s};e(u=>{const c=[...u.undoStack,l];return c.length>ou&&c.shift(),{undoStack:c,redoStack:[],canUndo:!0,canRedo:!1}})},popUndo:()=>{const{undoStack:n}=t();if(n.length===0)return null;const r=n[n.length-1];return e(i=>({undoStack:i.undoStack.slice(0,-1),canUndo:i.undoStack.length>1})),r},popRedo:()=>{const{redoStack:n}=t();if(n.length===0)return null;const r=n[n.length-1];return e(i=>({redoStack:i.redoStack.slice(0,-1),canRedo:i.redoStack.length>1})),r},pushRedo:n=>{e(r=>{const i=[...r.redoStack,n];return i.length>ou&&i.shift(),{redoStack:i,canRedo:!0}})},pushUndo:n=>{e(r=>{const i=[...r.undoStack,n];return i.length>ou&&i.shift(),{undoStack:i,canUndo:!0}})},clearHistory:()=>{e({undoStack:[],redoStack:[],canUndo:!1,canRedo:!1})}}));function _9(e){const t=SA();return{undo:()=>{const l=t.popUndo();l&&(l.type==="add_node"?(e.onRemoveNode(l.nodeId),e.onSetEdges(l.edgesBefore)):l.type==="delete_node"&&(e.onAddNode(l.nodeId,l.agent),e.onSetEdges(l.edgesBefore)),t.pushRedo(l))},redo:()=>{const l=t.popRedo();if(l){if(l.type==="add_node"){e.onAddNode(l.nodeId,l.agent);const u=[...l.edgesBefore];l.edges.forEach(c=>{const f=u.findIndex(p=>c.from===l.nodeId&&p.to===c.to||c.to===l.nodeId&&p.from===c.from);f>=0&&u.splice(f,1)}),l.edges.forEach(c=>{u.some(f=>f.from===c.from&&f.to===c.to)||u.push(c)}),e.onSetEdges(u)}else if(l.type==="delete_node"){e.onRemoveNode(l.nodeId);const u=l.edgesBefore.filter(c=>c.from!==l.nodeId&&c.to!==l.nodeId);e.onSetEdges(u)}t.pushUndo(l)}},recordAddNode:(l,u,c,f)=>{t.recordAddNode(l,u,c,f)},recordDeleteNode:(l,u)=>{const c=e.getAgent(l);if(!c)return;const f=e.getEdgesForNode(l);t.recordDeleteNode(l,c,f,u)},canUndo:t.canUndo,canRedo:t.canRedo,clearHistory:t.clearHistory}}const k9={mode:"stop",retryCount:3,retryDelay:1e3},S9={enabled:!1,logLevel:"error"},C9={},E9={timeout:3e4};function N9(e,t,n){return{id:e,name:t,errorHandling:{...k9},tracing:{...S9},callbacks:{...C9},execution:{...E9},mapping:{outputKey:n}}}function j9(e,t){if(e==="START")return!1;const n=t[e];return!(n&&n.type==="trigger")}function T9(e){return e!=="END"}function A9(e,t){if(e==="START")return 0;const n=t[e];if(n){if(n.type==="trigger")return 0;if(n.type==="merge")return 1/0}return 1}function P9(e,t,n,r,i){if(e===t)return{valid:!1,reason:"Cannot connect a node to itself"};if(!T9(e))return{valid:!1,reason:"Source node cannot have outgoing connections"};if(!j9(t,r))return r[t]?.type==="trigger"?{valid:!1,reason:"Trigger nodes are entry points and cannot have incoming connections"}:{valid:!1,reason:"Target node cannot have incoming connections"};if(i.some(u=>u.from===e&&u.to===t))return{valid:!1,reason:"Connection already exists"};const l=A9(t,r);return l!==1/0&&i.filter(c=>c.to===t).length>=l?{valid:!1,reason:`Target node already has maximum inputs (${l})`}:{valid:!0}}function I9(){const{currentProject:e,openProject:t,closeProject:n,saveProject:r,selectNode:i,selectedNodeId:s,updateAgent:l,renameAgent:u,addEdge:c,removeEdge:f,addToolToAgent:p,removeToolFromAgent:m,addSubAgentToContainer:g,selectedToolId:v,selectTool:b,updateToolConfig:w,addAgent:k,snapToGrid:_,gridSize:C,addActionNode:S,selectedActionNodeId:j,selectActionNode:A,showDataFlowOverlay:T,setShowDataFlowOverlay:N,updateProjectMeta:D,updateProjectSettings:z}=wt(),$=P.useCallback((le,me)=>{z({[le]:me})},[z]),{showConsole:O,toggleConsole:B,showMinimap:G,toggleMinimap:R,showTimeline:q}=g9(e?.settings,$),V=P.useCallback(()=>{if(!e)return!1;const le=Object.keys(e.agents).length,me=e.workflow.edges.length;return le>0&&me>0},[e]),{building:Y,buildOutput:H,builtBinaryPath:X,compiledCode:I,autobuildEnabled:F,isAutobuild:K,build:L,compile:U,clearBuildOutput:ee,clearCompiledCode:J,invalidateBuild:Q,toggleAutobuild:ne,showBuildProgress:ae}=b9(e?.id,e?.settings?.autobuildTriggers,e?.settings?.autobuildEnabled,V),fe=Y?"building":H?.success?"success":H&&!H.success?"error":X?"success":"none",[ve,Ce]=P.useState(!1),[xe,Ae]=P.useState("idle"),[we,Le]=P.useState(null),[Ne,it]=P.useState(0),[We,dt]=P.useState({}),Fe=w9(),st=P.useCallback(le=>{Ae(le),le==="input"?Fe.startExecution():le==="idle"&&Fe.isExecuting&&Fe.completeExecution()},[Fe]),He=P.useCallback(le=>{Le(le),le&&Fe.isExecuting&&!Fe.path.includes(le)&&Fe.moveToNode(le)},[Fe]),[gt,ye]=P.useState(!1),[ie,de]=P.useState(!1),[je,Re]=P.useState(!1),[De,ft]=P.useState(!1),[Xe,et]=P.useState([]),[Ke,kn]=P.useState(-1),[at,$t]=P.useState(null),[St,kr]=P.useState(!0),[ao,Bn]=P.useState(new Map),[$n,Qo]=P.useState(null),Zo=P.useCallback(le=>{Qo(le)},[]),Jo=P.useCallback(()=>{N(!T)},[T,N]),ei=P.useCallback((le,me,vt,$e)=>{if(et(le),kn(me),$t(()=>vt),$e&&Bn($e),le.length>0){Fe.resetPath(),Fe.startExecution(),le.forEach(ar=>{Fe.moveToNode(ar.nodeId)});const tt=le[le.length-1];tt&&tt.status==="success"&&le.length-1}},[Fe]),ti=P.useMemo(()=>Ke<0||Ke>=Xe.length?null:Xe[Ke],[Xe,Ke]),lo=P.useMemo(()=>{const le=Ke-1;return le<0||le>=Xe.length?null:Xe[le]},[Xe,Ke]),ni=P.useCallback(le=>{at&&at(le)},[at]),{nodes:nr,edges:uo,onNodesChange:rr,onEdgesChange:os}=h9(e,{activeAgent:we,iteration:Ne,flowPhase:xe,thoughts:We,stateKeys:ao,showDataFlowOverlay:T,highlightedKey:$n,onKeyHover:Zo,executionPath:Fe.path,isExecuting:Fe.isExecuting}),{applyLayout:qt,fitToView:or,zoomIn:Sr,zoomOut:co}=_A(),{createAgent:fo,duplicateAgent:is,removeAgent:ri}=m9(),{clearHistory:pn}=SA(),po=P.useCallback(le=>e?e.workflow.edges.filter(me=>me.from===le||me.to===le):[],[e]),ho=P.useCallback(()=>e?.workflow.edges||[],[e]),ss=P.useCallback(le=>e?.agents[le],[e]),oi=P.useCallback(le=>{wt.getState().setEdges(le)},[]),Sn=_9({onAddNode:(le,me)=>{k(le,me)},onRemoveNode:le=>{wt.getState().removeAgent(le)},onAddEdge:c,onRemoveEdge:f,onSetEdges:oi,getAgent:ss,getEdgesForNode:po,getAllEdges:ho}),mo=P.useCallback(le=>{const me=[...e?.workflow.edges||[]];fo(le),setTimeout(()=>{const $e=wt.getState().currentProject;if(!$e)return;const tt=$e.workflow.edges.filter(bo=>!me.some(fs=>fs.from===bo.from&&fs.to===bo.to)),ar=tt.find(bo=>bo.to==="END")?.from;ar&&$e.agents[ar]&&Sn.recordAddNode(ar,$e.agents[ar],tt,me)},0)},[fo,e,Sn]),Cr=P.useCallback(le=>{if(le==="START"||le==="END")return;const me=[...e?.workflow.edges||[]];Sn.recordDeleteNode(le,me),ri(le)},[ri,Sn,e]),ii=P.useRef(null);e?.id!==ii.current&&(ii.current=e?.id||null,pn());const si=P.useCallback((le,me)=>{dt(vt=>me?{...vt,[le]:me}:Object.fromEntries(Object.entries(vt).filter(([$e])=>$e!==le)))},[]),Ye=P.useRef(null),Er=P.useCallback(()=>{Ye.current&&clearTimeout(Ye.current),Ye.current=setTimeout(()=>r(),500)},[r]),go=P.useCallback((le,me)=>{l(le,me),Q("onAgentUpdate"),Er()},[l,Q,Er]),yo=P.useCallback((le,me)=>{w(le,me),Q("onToolUpdate"),Er()},[w,Q,Er]);yB({selectedNodeId:s,selectedToolId:v,onDeleteNode:Cr,onDeleteTool:m,onDuplicateNode:is,onSelectNode:i,onSelectTool:b,onAutoLayout:qt,onFitView:or,onZoomIn:Sr,onZoomOut:co,onUndo:Sn.undo,onRedo:Sn.redo});const Nr=(le,me)=>{le.dataTransfer.setData("application/reactflow",me),le.dataTransfer.effectAllowed="move"},as=(le,me)=>{le.dataTransfer.setData("application/actionnode",me),le.dataTransfer.effectAllowed="move"},jr=P.useCallback(le=>{const me=`${le}_${Date.now()}`,vt=le.charAt(0).toUpperCase()+le.slice(1),$e=N9(me,vt,`${le}Result`);let tt;switch(le){case"trigger":tt={...$e,type:"trigger",triggerType:"manual"};break;case"http":tt={...$e,type:"http",method:"GET",url:"https://api.example.com",auth:{type:"none"},headers:{},body:{type:"none"},response:{type:"json"}};break;case"set":tt={...$e,type:"set",mode:"set",variables:[]};break;case"transform":tt={...$e,type:"transform",transformType:"jsonpath",expression:""};break;case"switch":tt={...$e,type:"switch",evaluationMode:"first_match",conditions:[]};break;case"loop":tt={...$e,type:"loop",loopType:"forEach",forEach:{sourceArray:"",itemVar:"item",indexVar:"index"},parallel:{enabled:!1},results:{collect:!0}};break;case"merge":tt={...$e,type:"merge",mode:"wait_all",combineStrategy:"array",timeout:{enabled:!1,ms:3e4,behavior:"error"}};break;case"wait":tt={...$e,type:"wait",waitType:"fixed",fixed:{duration:1e3,unit:"ms"}};break;case"code":tt={...$e,type:"code",language:"javascript",code:`// Your code here
return input;`,sandbox:{networkAccess:!1,fileSystemAccess:!1,memoryLimit:128,timeLimit:5e3}};break;case"database":tt={...$e,type:"database",dbType:"postgresql",connection:{connectionString:""}};break;default:return}S(me,tt),A(me),setTimeout(()=>qt(),100)},[S,A,qt]),ir=P.useCallback(le=>{le.preventDefault(),le.dataTransfer.dropEffect=le.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),Ht=P.useCallback(le=>{le.preventDefault();const me=le.dataTransfer.getData("text/plain");if(me.startsWith("tool:")&&s&&e?.agents[s]){p(s,me.slice(5)),Q("onToolAdd");return}const vt=le.dataTransfer.getData("application/actionnode");if(vt){jr(vt);return}const $e=le.dataTransfer.getData("application/reactflow");$e&&(mo($e),Q("onAgentAdd"),setTimeout(()=>qt(),100))},[mo,jr,s,e,p,qt,Q]),ls=P.useCallback(le=>{if(le.source&&le.target&&e){const me=P9(le.source,le.target,e.agents,e.actionNodes||{},e.workflow.edges);if(!me.valid){console.warn("Invalid connection:",me.reason);return}c(le.source,le.target),Q("onEdgeAdd")}},[c,Q,e]),zt=P.useCallback(le=>{le.forEach(me=>f(me.source,me.target)),le.length>0&&Q("onEdgeDelete")},[f,Q]),us=P.useCallback(le=>{le.forEach(me=>me.id!=="START"&&me.id!=="END"&&Cr(me.id)),le.some(me=>me.id!=="START"&&me.id!=="END")&&Q("onAgentDelete")},[Cr,Q]),cs=P.useCallback((le,me)=>{f(me.source,me.target),Q("onEdgeDelete")},[f,Q]),ds=P.useCallback((le,me)=>i(me.id!=="START"&&me.id!=="END"?me.id:null),[i]),Tr=P.useCallback(()=>i(null),[i]),Ar=P.useCallback(le=>{if(!s)return;p(s,le);const me=e?.agents[s]?.tools||[],$e=le==="function"||le==="mcp"?`${s}_${le}_${me.filter(tt=>tt.startsWith(le)).length+1}`:`${s}_${le}`;setTimeout(()=>b($e),0)},[s,e,p,b]);if(!e)return null;const Cn=s?e.agents[s]:null,En=Object.keys(e.agents).length>0,ai=s?e.agents[s]?.tools||[]:[],li=v&&e.tool_configs?.[v]?.type==="function"?e.tool_configs[v]:null,{mode:vo}=oo(),Nn=vo==="light",xo=Nn?"#E3E6EA":"#333",sr="#4ade80",ui=Nn?"#94a3b8":"#666";return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(RB,{onExportCode:()=>ye(!0),onNewProject:()=>de(!0),onTemplateApplied:()=>setTimeout(()=>qt(),100),onRunTemplate:()=>{O||B(),X||L()},buildStatus:fe,onBuildStatusClick:()=>{Y&&K?ae():H||X||L()}}),h.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[h.jsxs("div",{className:"w-48 border-r p-2 flex flex-col overflow-y-auto",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[h.jsx(K$,{onDragStart:Nr,onCreate:fo}),h.jsx("div",{className:"my-2"}),h.jsx(_6,{onDragStart:as,onCreate:jr}),h.jsx("div",{className:"my-2"}),h.jsx(Y$,{selectedNodeId:s,agentTools:ai,onAdd:Ar,onRemove:le=>s&&m(s,le)}),h.jsxs("div",{className:"mt-auto space-y-1.5 pt-2",children:[h.jsx("button",{onClick:U,className:"w-full px-2 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-xs text-white font-medium",children:" View Code"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>{Y&&K?ae():L()},disabled:Y&&!K,className:`flex-1 px-2 py-1.5 rounded text-xs text-white font-medium ${Y?"cursor-pointer":X?"bg-green-600 hover:bg-green-700":"bg-orange-500 hover:bg-orange-600 animate-pulse"}`,style:Y?{backgroundColor:"#3B82F6"}:void 0,title:Y&&K?"Click to view build progress":void 0,children:Y?" Building...":X?" Build":" Build Required"}),h.jsx("button",{onClick:ne,className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${F?"bg-green-600 hover:bg-green-700 text-white":""}`,style:F?void 0:{backgroundColor:"var(--bg-secondary)",color:"var(--text-muted)",border:"1px solid var(--border-default)"},title:F?"Autobuild ON - builds automatically on changes":"Autobuild OFF - click to enable",children:""})]}),h.jsx("button",{onClick:B,className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:O?"Hide Console":"Show Console"}),O&&Xe.length>0&&h.jsx("button",{onClick:()=>kr(!St),className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:St?" Hide Inspector":" Show Inspector"}),h.jsx("button",{onClick:()=>Re(!0),className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:" Settings"}),h.jsx("button",{onClick:n,className:"w-full px-2 py-1.5 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Back"})]})]}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsxs(F3,{nodes:nr,edges:uo,nodeTypes:U$,edgeTypes:G$,onNodesChange:rr,onEdgesChange:os,onEdgesDelete:zt,onNodesDelete:us,onEdgeDoubleClick:cs,onConnect:ls,onNodeClick:ds,onPaneClick:Tr,onDrop:Ht,onDragOver:ir,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,snapToGrid:_,snapGrid:[C,C],children:[h.jsx(Q3,{color:xo,gap:C}),h.jsx(o4,{}),G&&h.jsx(y4,{nodeColor:le=>le.data?.isActive?sr:ui,maskColor:Nn?"rgba(247, 248, 250, 0.8)":"rgba(0, 0, 0, 0.8)",style:{background:Nn?"#F7F8FA":"#1a1a2e"}})]}),h.jsx(f9,{onFitView:or,showDataFlowOverlay:T,onToggleDataFlowOverlay:Jo,showMinimap:G,onToggleMinimap:R,isRunning:xe!=="idle",onRun:()=>{O||B()},onStop:()=>{}})]}),Cn&&s&&h.jsx(Z$,{nodeId:s,agent:Cn,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:go,onRename:u,onAddSubAgent:()=>g(s),onClose:()=>i(null),onSelectTool:b,onRemoveTool:le=>m(s,le)}),v&&e&&h.jsx(i6,{toolId:v,config:e.tool_configs?.[v]||null,onUpdate:le=>yo(v,le),onClose:()=>b(null),onOpenCodeEditor:()=>ye(!0)}),O&&St&&Xe.length>0&&h.jsx("div",{className:"w-72 flex-shrink-0",children:h.jsx(c6,{snapshot:ti,previousSnapshot:lo,snapshots:Xe,currentIndex:Ke,onHistorySelect:ni,onClose:()=>kr(!1)})})]}),O&&q&&En&&X&&Xe.length>0&&h.jsx(U8,{snapshots:Xe,currentIndex:Ke,onScrub:at||(()=>{}),isCollapsed:De,onToggleCollapse:()=>ft(!De)}),O&&En&&X&&h.jsx("div",{className:ve?"":"h-64",children:h.jsx(hB,{onFlowPhase:st,onActiveAgent:He,onIteration:it,onThought:si,binaryPath:X,onSnapshotsChange:ei,buildStatus:fe,isCollapsed:ve,onCollapseChange:Ce})}),O&&En&&!X&&h.jsx("div",{className:"h-32 border-t flex items-center justify-center",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-muted)"},children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{children:"Build the project first to test it"}),h.jsx("button",{onClick:L,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm font-medium",children:"Build Project"})]})}),O&&!En&&h.jsx("div",{className:"h-32 border-t flex items-center justify-center",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-muted)"},children:'Drag "LLM Agent" onto the canvas to get started'}),I&&h.jsx(B8,{code:I,onClose:J}),H&&h.jsx($8,{building:Y,success:H.success,output:H.output,path:H.path,onClose:ee,isAutobuild:K}),gt&&li&&h.jsx(H8,{config:li,onUpdate:le=>yo(v,le),onClose:()=>ye(!1)}),ie&&h.jsx(I6,{onConfirm:async le=>{de(!1);const me=await to.projects.create(le);await t(me.id);const vt=G2.find($e=>$e.id==="simple_chat");vt&&(Object.entries(vt.agents).forEach(([$e,tt])=>{k($e,tt)}),vt.edges.forEach($e=>c($e.from,$e.to)),setTimeout(()=>qt(),100))},onClose:()=>de(!1)}),je&&e&&h.jsx(l2,{settings:e.settings,projectName:e.name,projectDescription:e.description,onSave:(le,me,vt)=>{D(me,vt),z(le),Re(!1)},onClose:()=>Re(!1)})]})}function R9({children:e}){const t=oo(n=>n.mode);return P.useEffect(()=>{document.documentElement.setAttribute("data-theme",t);const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",t==="light"?"#F7F8FA":"#1a1a2e")},[t]),h.jsx(h.Fragment,{children:e})}function M9({className:e="",size:t=18}){const{mode:n,toggle:r}=oo(),i=n==="light";return h.jsx("button",{onClick:r,className:`p-2 rounded-md transition-colors ${e}`,style:{color:"var(--text-secondary)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="var(--bg-secondary)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",title:i?"Switch to dark mode":"Switch to light mode","aria-label":i?"Switch to dark mode":"Switch to light mode",children:i?h.jsx(SB,{size:t,className:"transition-transform"}):h.jsx(jB,{size:t,className:"transition-transform"})})}function O9(){const{setMode:e}=oo();return P.useEffect(()=>{const t=Xi();if(t.theme==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e(n?"dark":"light")}else e(t.theme)},[e]),null}function L9(){const{currentProject:e,fetchProjects:t}=wt(),[n,r]=P.useState(!1),{isVisible:i,complete:s,skip:l,hide:u,shouldShowOnFirstRun:c,show:f}=W2();return P.useEffect(()=>{t()},[t]),P.useEffect(()=>{c()&&f()},[c,f]),h.jsxs(R9,{children:[h.jsx(O9,{}),h.jsxs("div",{className:"h-screen flex flex-col",style:{backgroundColor:"var(--bg-primary)"},children:[h.jsxs("header",{className:"h-12 border-b flex items-center justify-between px-4",style:{backgroundColor:"var(--surface-panel)",borderColor:"var(--border-default)",color:"var(--text-primary)"},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("h1",{className:"text-lg font-bold flex items-center gap-2",children:[h.jsx("img",{src:"https://adk-rust.com/icon.svg",alt:"ADK",className:"w-7 h-7"})," ADK Studio"]}),e&&h.jsxs("span",{className:"ml-4",style:{color:"var(--text-secondary)"},children:["/ ",e.name]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>r(!0),className:"p-1.5 rounded hover:opacity-80 transition-opacity",style:{color:"var(--text-secondary)"},title:"Global Settings",children:""}),h.jsx(M9,{size:20})]})]}),h.jsx("main",{className:"flex-1 overflow-hidden",style:{backgroundColor:"var(--bg-canvas)"},children:e?h.jsx(Jj,{children:h.jsx(I9,{})}):h.jsx(H4,{})}),i&&h.jsx(V8,{onComplete:s,onSkip:l,onClose:u}),n&&h.jsx(c2,{onClose:()=>r(!1)})]})]})}dI.createRoot(document.getElementById("root")).render(h.jsx(At.StrictMode,{children:h.jsx(L9,{})}));
