(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tk={exports:{}},Tl={},nk={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),dj=Symbol.for("react.portal"),hj=Symbol.for("react.fragment"),pj=Symbol.for("react.strict_mode"),gj=Symbol.for("react.profiler"),mj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),vj=Symbol.for("react.forward_ref"),xj=Symbol.for("react.suspense"),wj=Symbol.for("react.memo"),_j=Symbol.for("react.lazy"),qv=Symbol.iterator;function bj(e){return e===null||typeof e!="object"?null:(e=qv&&e[qv]||e["@@iterator"],typeof e=="function"?e:null)}var rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ik=Object.assign,ok={};function Wi(e,t,n){this.props=e,this.context=t,this.refs=ok,this.updater=n||rk}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ak(){}ak.prototype=Wi.prototype;function $m(e,t,n){this.props=e,this.context=t,this.refs=ok,this.updater=n||rk}var Fm=$m.prototype=new ak;Fm.constructor=$m;ik(Fm,Wi.prototype);Fm.isPureReactComponent=!0;var $v=Array.isArray,sk=Object.prototype.hasOwnProperty,Bm={current:null},lk={key:!0,ref:!0,__self:!0,__source:!0};function uk(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)sk.call(t,r)&&!lk.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xa,type:e,key:o,ref:a,props:i,_owner:Bm.current}}function Sj(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hm(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function Ej(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fv=/\/+/g;function Iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ej(""+e.key):t.toString(36)}function xs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xa:case dj:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Iu(a,0):r,$v(i)?(n="",e!=null&&(n=e.replace(Fv,"$&/")+"/"),xs(i,t,n,"",function(u){return u})):i!=null&&(Hm(i)&&(i=Sj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fv,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",$v(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Iu(o,s);a+=xs(o,t,n,l,i)}else if(l=bj(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Iu(o,s++),a+=xs(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $a(e,t,n){if(e==null)return e;var r=[],i=0;return xs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},ws={transition:null},Cj={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:ws,ReactCurrentOwner:Bm};function ck(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:$a,forEach:function(e,t,n){$a(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!Hm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Wi;ye.Fragment=hj;ye.Profiler=gj;ye.PureComponent=$m;ye.StrictMode=pj;ye.Suspense=xj;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj;ye.act=ck;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ik({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Bm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)sk.call(t,l)&&!lk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:xa,type:e.type,key:i,ref:o,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:yj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mj,_context:e},e.Consumer=e};ye.createElement=uk;ye.createFactory=function(e){var t=uk.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:vj,render:e}};ye.isValidElement=Hm;ye.lazy=function(e){return{$$typeof:_j,_payload:{_status:-1,_result:e},_init:kj}};ye.memo=function(e,t){return{$$typeof:wj,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};ye.unstable_act=ck;ye.useCallback=function(e,t){return dt.current.useCallback(e,t)};ye.useContext=function(e){return dt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return dt.current.useEffect(e,t)};ye.useId=function(){return dt.current.useId()};ye.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return dt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};ye.useRef=function(e){return dt.current.useRef(e)};ye.useState=function(e){return dt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return dt.current.useTransition()};ye.version="18.3.1";nk.exports=ye;var L=nk.exports;const Vt=va(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj=L,Tj=Symbol.for("react.element"),Pj=Symbol.for("react.fragment"),Ij=Object.prototype.hasOwnProperty,jj=Nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Aj={key:!0,ref:!0,__self:!0,__source:!0};function fk(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ij.call(t,r)&&!Aj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tj,type:e,key:o,ref:a,props:i,_owner:jj.current}}Tl.Fragment=Pj;Tl.jsx=fk;Tl.jsxs=fk;tk.exports=Tl;var v=tk.exports,wg={},dk={exports:{}},Dt={},hk={exports:{}},pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,j){var S=C.length;C.push(j);e:for(;0<S;){var $=S-1>>>1,F=C[$];if(0<i(F,j))C[$]=j,C[S]=F,S=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],S=C.pop();if(S!==j){C[0]=S;e:for(var $=0,F=C.length,N=F>>>1;$<N;){var H=2*($+1)-1,X=C[H],Y=H+1,Q=C[Y];if(0>i(X,S))Y<F&&0>i(Q,X)?(C[$]=Q,C[Y]=S,$=Y):(C[$]=X,C[H]=S,$=H);else if(Y<F&&0>i(Q,S))C[$]=Q,C[Y]=S,$=Y;else break e}}return j}function i(C,j){var S=C.sortIndex-j.sortIndex;return S!==0?S:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function b(C){if(m=!1,y(C),!p)if(n(l)!==null)p=!0,D(k);else{var j=n(u);j!==null&&R(b,j.startTime-C)}}function k(C,j){p=!1,m&&(m=!1,g(P),P=-1),h=!0;var S=d;try{for(y(j),f=n(l);f!==null&&(!(f.expirationTime>j)||C&&!T());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var F=$(f.expirationTime<=j);j=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),y(j)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var H=n(u);H!==null&&R(b,H.startTime-j),N=!1}return N}finally{f=null,d=S,h=!1}}var _=!1,E=null,P=-1,M=5,z=-1;function T(){return!(e.unstable_now()-z<M)}function O(){if(E!==null){var C=e.unstable_now();z=C;var j=!0;try{j=E(!0,C)}finally{j?q():(_=!1,E=null)}}else _=!1}var q;if(typeof x=="function")q=function(){x(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,A=I.port2;I.port1.onmessage=O,q=function(){A.postMessage(null)}}else q=function(){w(O,0)};function D(C){E=C,_||(_=!0,q())}function R(C,j){P=w(function(){C(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,D(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var S=d;d=j;try{return C()}finally{d=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var S=d;d=C;try{return j()}finally{d=S}},e.unstable_scheduleCallback=function(C,j,S){var $=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?$+S:$):S=$,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=S+F,C={id:c++,callback:j,priorityLevel:C,startTime:S,expirationTime:F,sortIndex:-1},S>$?(C.sortIndex=S,t(u,C),n(l)===null&&C===n(u)&&(m?(g(P),P=-1):m=!0,R(b,S-$))):(C.sortIndex=F,t(l,C),p||h||(p=!0,D(k))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var j=d;return function(){var S=d;d=j;try{return C.apply(this,arguments)}finally{d=S}}}})(pk);hk.exports=pk;var Rj=hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj=L,Lt=Rj;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gk=new Set,Vo={};function Xr(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(Vo[e]=t,e=0;e<t.length;e++)gk.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_g=Object.prototype.hasOwnProperty,Lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bv={},Hv={};function Oj(e){return _g.call(Hv,e)?!0:_g.call(Bv,e)?!1:Lj.test(e)?Hv[e]=!0:(Bv[e]=!0,!1)}function Dj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zj(e,t,n,r){if(t===null||typeof t>"u"||Dj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vm=/[\-:]([a-z])/g;function Um(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vm,Um);nt[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vm,Um);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vm,Um);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gm(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zj(t,n,i,r)&&(n=null),r||i===null?Oj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=Mj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),si=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),yk=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),Km=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),vk=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=Vv&&e[Vv]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,ju;function mo(e){if(ju===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ju=t&&t[1]||""}return`
`+ju+e}var Au=!1;function Ru(e,t){if(!e||Au)return"";Au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Au=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mo(e):""}function qj(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Ru(e.type,!1),e;case 11:return e=Ru(e.type.render,!1),e;case 1:return e=Ru(e.type,!0),e;default:return""}}function kg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case li:return"Fragment";case si:return"Portal";case bg:return"Profiler";case Wm:return"StrictMode";case Sg:return"Suspense";case Eg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yk:return(e.displayName||"Context")+".Consumer";case mk:return(e._context.displayName||"Context")+".Provider";case Ym:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Km:return t=e.displayName||null,t!==null?t:kg(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return kg(e(t))}catch{}}return null}function $j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kg(t);case 8:return t===Wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fj(e){var t=xk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){e._valueTracker||(e._valueTracker=Fj(e))}function wk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cg(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _k(e,t){t=t.checked,t!=null&&Gm(e,"checked",t,!1)}function Ng(e,t){_k(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tg(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tg(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yo=Array.isArray;function bi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(yo(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function bk(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ha,Ek=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bj=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){Bj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function kk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Ck(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Hj=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jg(e,t){if(t){if(Hj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Xm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mg=null,Si=null,Ei=null;function Kv(e){if(e=ba(e)){if(typeof Mg!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Rl(t),Mg(e.stateNode,e.type,t))}}function Nk(e){Si?Ei?Ei.push(e):Ei=[e]:Si=e}function Tk(){if(Si){var e=Si,t=Ei;if(Ei=Si=null,Kv(e),t)for(e=0;e<t.length;e++)Kv(t[e])}}function Pk(e,t){return e(t)}function Ik(){}var Mu=!1;function jk(e,t,n){if(Mu)return e(t,n);Mu=!0;try{return Pk(e,t,n)}finally{Mu=!1,(Si!==null||Ei!==null)&&(Ik(),Tk())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Lg=!1;if(On)try{var io={};Object.defineProperty(io,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Lg=!1}function Vj(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Io=!1,qs=null,$s=!1,Og=null,Uj={onError:function(e){Io=!0,qs=e}};function Gj(e,t,n,r,i,o,a,s,l){Io=!1,qs=null,Vj.apply(Uj,arguments)}function Wj(e,t,n,r,i,o,a,s,l){if(Gj.apply(this,arguments),Io){if(Io){var u=qs;Io=!1,qs=null}else throw Error(V(198));$s||($s=!0,Og=u)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ak(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xv(e){if(Qr(e)!==e)throw Error(V(188))}function Yj(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xv(i),e;if(o===r)return Xv(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Rk(e){return e=Yj(e),e!==null?Mk(e):null}function Mk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mk(e);if(t!==null)return t;e=e.sibling}return null}var Lk=Lt.unstable_scheduleCallback,Qv=Lt.unstable_cancelCallback,Kj=Lt.unstable_shouldYield,Xj=Lt.unstable_requestPaint,Fe=Lt.unstable_now,Qj=Lt.unstable_getCurrentPriorityLevel,Qm=Lt.unstable_ImmediatePriority,Ok=Lt.unstable_UserBlockingPriority,Fs=Lt.unstable_NormalPriority,Zj=Lt.unstable_LowPriority,Dk=Lt.unstable_IdlePriority,Pl=null,xn=null;function Jj(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:nA,eA=Math.log,tA=Math.LN2;function nA(e){return e>>>=0,e===0?32:31-(eA(e)/tA|0)|0}var Va=64,Ua=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=vo(s):(o&=a,o!==0&&(r=vo(o)))}else a=n&~i,a!==0?r=vo(a):o!==0&&(r=vo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function rA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-on(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=rA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zk(){var e=Va;return Va<<=1,!(Va&4194240)&&(Va=64),e}function Lu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function oA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Zm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function qk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $k,Jm,Fk,Bk,Hk,zg=!1,Ga=[],ar=null,sr=null,lr=null,Wo=new Map,Yo=new Map,Jn=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zv(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function oo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ba(t),t!==null&&Jm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sA(e,t,n,r,i){switch(t){case"focusin":return ar=oo(ar,e,t,n,r,i),!0;case"dragenter":return sr=oo(sr,e,t,n,r,i),!0;case"mouseover":return lr=oo(lr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wo.set(o,oo(Wo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yo.set(o,oo(Yo.get(o)||null,e,t,n,r,i)),!0}return!1}function Vk(e){var t=Ar(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ak(n),t!==null){e.blockedOn=t,Hk(e.priority,function(){Fk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rg=r,n.target.dispatchEvent(r),Rg=null}else return t=ba(n),t!==null&&Jm(t),e.blockedOn=n,!1;t.shift()}return!0}function Jv(e,t,n){_s(e)&&n.delete(t)}function lA(){zg=!1,ar!==null&&_s(ar)&&(ar=null),sr!==null&&_s(sr)&&(sr=null),lr!==null&&_s(lr)&&(lr=null),Wo.forEach(Jv),Yo.forEach(Jv)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,zg||(zg=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,lA)))}function Ko(e){function t(i){return ao(i,e)}if(0<Ga.length){ao(Ga[0],e);for(var n=1;n<Ga.length;n++){var r=Ga[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ar!==null&&ao(ar,e),sr!==null&&ao(sr,e),lr!==null&&ao(lr,e),Wo.forEach(t),Yo.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)Vk(n),n.blockedOn===null&&Jn.shift()}var ki=Bn.ReactCurrentBatchConfig,Hs=!0;function uA(e,t,n,r){var i=be,o=ki.transition;ki.transition=null;try{be=1,ey(e,t,n,r)}finally{be=i,ki.transition=o}}function cA(e,t,n,r){var i=be,o=ki.transition;ki.transition=null;try{be=4,ey(e,t,n,r)}finally{be=i,ki.transition=o}}function ey(e,t,n,r){if(Hs){var i=qg(e,t,n,r);if(i===null)Uu(e,t,r,Vs,n),Zv(e,r);else if(sA(i,e,t,n,r))r.stopPropagation();else if(Zv(e,r),t&4&&-1<aA.indexOf(e)){for(;i!==null;){var o=ba(i);if(o!==null&&$k(o),o=qg(e,t,n,r),o===null&&Uu(e,t,r,Vs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Uu(e,t,r,null,n)}}var Vs=null;function qg(e,t,n,r){if(Vs=null,e=Xm(r),e=Ar(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ak(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vs=e,null}function Uk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qj()){case Qm:return 1;case Ok:return 4;case Fs:case Zj:return 16;case Dk:return 536870912;default:return 16}default:return 16}}var ir=null,ty=null,bs=null;function Gk(){if(bs)return bs;var e,t=ty,n=t.length,r,i="value"in ir?ir.value:ir.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return bs=i.slice(e,1<r?1-r:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function e0(){return!1}function zt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wa:e0,this.isPropagationStopped=e0,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=zt(Yi),_a=ze({},Yi,{view:0,detail:0}),fA=zt(_a),Ou,Du,so,Il=ze({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Ou=e.screenX-so.screenX,Du=e.screenY-so.screenY):Du=Ou=0,so=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),t0=zt(Il),dA=ze({},Il,{dataTransfer:0}),hA=zt(dA),pA=ze({},_a,{relatedTarget:0}),zu=zt(pA),gA=ze({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=zt(gA),yA=ze({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vA=zt(yA),xA=ze({},Yi,{data:0}),n0=zt(xA),wA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bA[e])?!!t[e]:!1}function ry(){return SA}var EA=ze({},_a,{key:function(e){if(e.key){var t=wA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_A[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kA=zt(EA),CA=ze({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=zt(CA),NA=ze({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),TA=zt(NA),PA=ze({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),IA=zt(PA),jA=ze({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AA=zt(jA),RA=[9,13,27,32],iy=On&&"CompositionEvent"in window,jo=null;On&&"documentMode"in document&&(jo=document.documentMode);var MA=On&&"TextEvent"in window&&!jo,Wk=On&&(!iy||jo&&8<jo&&11>=jo),i0=" ",o0=!1;function Yk(e,t){switch(e){case"keyup":return RA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function LA(e,t){switch(e){case"compositionend":return Kk(t);case"keypress":return t.which!==32?null:(o0=!0,i0);case"textInput":return e=t.data,e===i0&&o0?null:e;default:return null}}function OA(e,t){if(ui)return e==="compositionend"||!iy&&Yk(e,t)?(e=Gk(),bs=ty=ir=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wk&&t.locale!=="ko"?null:t.data;default:return null}}var DA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DA[e.type]:t==="textarea"}function Xk(e,t,n,r){Nk(r),t=Us(t,"onChange"),0<t.length&&(n=new ny("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Xo=null;function zA(e){sC(e,0)}function jl(e){var t=di(e);if(wk(t))return e}function qA(e,t){if(e==="change")return t}var Qk=!1;if(On){var qu;if(On){var $u="oninput"in document;if(!$u){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),$u=typeof s0.oninput=="function"}qu=$u}else qu=!1;Qk=qu&&(!document.documentMode||9<document.documentMode)}function l0(){Ao&&(Ao.detachEvent("onpropertychange",Zk),Xo=Ao=null)}function Zk(e){if(e.propertyName==="value"&&jl(Xo)){var t=[];Xk(t,Xo,e,Xm(e)),jk(zA,t)}}function $A(e,t,n){e==="focusin"?(l0(),Ao=t,Xo=n,Ao.attachEvent("onpropertychange",Zk)):e==="focusout"&&l0()}function FA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Xo)}function BA(e,t){if(e==="click")return jl(t)}function HA(e,t){if(e==="input"||e==="change")return jl(t)}function VA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:VA;function Qo(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_g.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function u0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c0(e,t){var n=u0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u0(n)}}function Jk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eC(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function oy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UA(e){var t=eC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jk(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=c0(n,o);var a=c0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GA=On&&"documentMode"in document&&11>=document.documentMode,ci=null,$g=null,Ro=null,Fg=!1;function f0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fg||ci==null||ci!==zs(r)||(r=ci,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ro&&Qo(Ro,r)||(Ro=r,r=Us($g,"onSelect"),0<r.length&&(t=new ny("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ci)))}function Ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},Fu={},tC={};On&&(tC=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Al(e){if(Fu[e])return Fu[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tC)return Fu[e]=t[n];return e}var nC=Al("animationend"),rC=Al("animationiteration"),iC=Al("animationstart"),oC=Al("transitionend"),aC=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){aC.set(e,t),Xr(t,[e])}for(var Bu=0;Bu<d0.length;Bu++){var Hu=d0[Bu],WA=Hu.toLowerCase(),YA=Hu[0].toUpperCase()+Hu.slice(1);wr(WA,"on"+YA)}wr(nC,"onAnimationEnd");wr(rC,"onAnimationIteration");wr(iC,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(oC,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function h0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wj(r,t,void 0,e),e.currentTarget=null}function sC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;h0(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;h0(i,s,u),o=l}}}if($s)throw e=Og,$s=!1,Og=null,e}function Ne(e,t){var n=t[Gg];n===void 0&&(n=t[Gg]=new Set);var r=e+"__bubble";n.has(r)||(lC(t,e,2,!1),n.add(r))}function Vu(e,t,n){var r=0;t&&(r|=4),lC(n,e,r,t)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[Ka]){e[Ka]=!0,gk.forEach(function(n){n!=="selectionchange"&&(KA.has(n)||Vu(n,!1,e),Vu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ka]||(t[Ka]=!0,Vu("selectionchange",!1,t))}}function lC(e,t,n,r){switch(Uk(t)){case 1:var i=uA;break;case 4:i=cA;break;default:i=ey}n=i.bind(null,t,n,e),i=void 0,!Lg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ar(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}jk(function(){var u=o,c=Xm(n),f=[];e:{var d=aC.get(e);if(d!==void 0){var h=ny,p=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":h=kA;break;case"focusin":p="focus",h=zu;break;case"focusout":p="blur",h=zu;break;case"beforeblur":case"afterblur":h=zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TA;break;case nC:case rC:case iC:h=mA;break;case oC:h=IA;break;case"scroll":h=fA;break;case"wheel":h=AA;break;case"copy":case"cut":case"paste":h=vA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=r0}var m=(t&4)!==0,w=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var x=u,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=Go(x,g),b!=null&&m.push(Jo(x,b,y)))),w)break;x=x.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Rg&&(p=n.relatedTarget||n.fromElement)&&(Ar(p)||p[Dn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Ar(p):null,p!==null&&(w=Qr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=t0,b="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=r0,b="onPointerLeave",g="onPointerEnter",x="pointer"),w=h==null?d:di(h),y=p==null?d:di(p),d=new m(b,x+"leave",h,n,c),d.target=w,d.relatedTarget=y,b=null,Ar(c)===u&&(m=new m(g,x+"enter",p,n,c),m.target=y,m.relatedTarget=w,b=m),w=b,h&&p)t:{for(m=h,g=p,x=0,y=m;y;y=ii(y))x++;for(y=0,b=g;b;b=ii(b))y++;for(;0<x-y;)m=ii(m),x--;for(;0<y-x;)g=ii(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=ii(m),g=ii(g)}m=null}else m=null;h!==null&&p0(f,d,h,m,!1),p!==null&&w!==null&&p0(f,w,p,m,!0)}}e:{if(d=u?di(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=qA;else if(a0(d))if(Qk)k=HA;else{k=FA;var _=$A}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=BA);if(k&&(k=k(e,u))){Xk(f,k,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Tg(d,"number",d.value)}switch(_=u?di(u):window,e){case"focusin":(a0(_)||_.contentEditable==="true")&&(ci=_,$g=u,Ro=null);break;case"focusout":Ro=$g=ci=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,f0(f,n,c);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":f0(f,n,c)}var E;if(iy)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ui?Yk(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Wk&&n.locale!=="ko"&&(ui||P!=="onCompositionStart"?P==="onCompositionEnd"&&ui&&(E=Gk()):(ir=c,ty="value"in ir?ir.value:ir.textContent,ui=!0)),_=Us(u,P),0<_.length&&(P=new n0(P,e,null,n,c),f.push({event:P,listeners:_}),E?P.data=E:(E=Kk(n),E!==null&&(P.data=E)))),(E=MA?LA(e,n):OA(e,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(c=new n0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}sC(f,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Go(e,n),o!=null&&r.unshift(Jo(e,o,i)),o=Go(e,t),o!=null&&r.push(Jo(e,o,i))),e=e.return}return r}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p0(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Go(n,o),l!=null&&a.unshift(Jo(n,l,s))):i||(l=Go(n,o),l!=null&&a.push(Jo(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var XA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function g0(e){return(typeof e=="string"?e:""+e).replace(XA,`
`).replace(QA,"")}function Xa(e,t,n){if(t=g0(t),g0(e)!==t&&n)throw Error(V(425))}function Gs(){}var Bg=null,Hg=null;function Vg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(e){return m0.resolve(null).then(e).catch(eR)}:Ug;function eR(e){setTimeout(function(){throw e})}function Gu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ki,ea="__reactProps$"+Ki,Dn="__reactContainer$"+Ki,Gg="__reactEvents$"+Ki,tR="__reactListeners$"+Ki,nR="__reactHandles$"+Ki;function Ar(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=y0(e);e!==null;){if(n=e[mn])return n;e=y0(e)}return t}e=n,n=e.parentNode}return null}function ba(e){return e=e[mn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Rl(e){return e[ea]||null}var Wg=[],hi=-1;function _r(e){return{current:e}}function Te(e){0>hi||(e.current=Wg[hi],Wg[hi]=null,hi--)}function ke(e,t){hi++,Wg[hi]=e.current,e.current=t}var vr={},at=_r(vr),wt=_r(!1),Fr=vr;function Ri(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Ws(){Te(wt),Te(at)}function v0(e,t,n){if(at.current!==vr)throw Error(V(168));ke(at,t),ke(wt,n)}function uC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,$j(e)||"Unknown",i));return ze({},n,r)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Fr=at.current,ke(at,e),ke(wt,wt.current),!0}function x0(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=uC(e,t,Fr),r.__reactInternalMemoizedMergedChildContext=e,Te(wt),Te(at),ke(at,e)):Te(wt),ke(wt,n)}var Pn=null,Ml=!1,Wu=!1;function cC(e){Pn===null?Pn=[e]:Pn.push(e)}function rR(e){Ml=!0,cC(e)}function br(){if(!Wu&&Pn!==null){Wu=!0;var e=0,t=be;try{var n=Pn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pn=null,Ml=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(e+1)),Lk(Qm,br),i}finally{be=t,Wu=!1}}return null}var pi=[],gi=0,Ks=null,Xs=0,$t=[],Ft=0,Br=null,In=1,jn="";function Nr(e,t){pi[gi++]=Xs,pi[gi++]=Ks,Ks=e,Xs=t}function fC(e,t,n){$t[Ft++]=In,$t[Ft++]=jn,$t[Ft++]=Br,Br=e;var r=In;e=jn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var o=32-on(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,In=1<<32-on(t)+i|n<<i|r,jn=o+e}else In=1<<o|n<<i|r,jn=e}function ay(e){e.return!==null&&(Nr(e,1),fC(e,1,0))}function sy(e){for(;e===Ks;)Ks=pi[--gi],pi[gi]=null,Xs=pi[--gi],pi[gi]=null;for(;e===Br;)Br=$t[--Ft],$t[Ft]=null,jn=$t[--Ft],$t[Ft]=null,In=$t[--Ft],$t[Ft]=null}var Mt=null,At=null,je=!1,en=null;function dC(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function w0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,At=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:In,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,At=null,!0):!1;default:return!1}}function Yg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kg(e){if(je){var t=At;if(t){var n=t;if(!w0(e,t)){if(Yg(e))throw Error(V(418));t=ur(n.nextSibling);var r=Mt;t&&w0(e,t)?dC(r,n):(e.flags=e.flags&-4097|2,je=!1,Mt=e)}}else{if(Yg(e))throw Error(V(418));e.flags=e.flags&-4097|2,je=!1,Mt=e}}}function _0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Qa(e){if(e!==Mt)return!1;if(!je)return _0(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vg(e.type,e.memoizedProps)),t&&(t=At)){if(Yg(e))throw hC(),Error(V(418));for(;t;)dC(e,t),t=ur(t.nextSibling)}if(_0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=Mt?ur(e.stateNode.nextSibling):null;return!0}function hC(){for(var e=At;e;)e=ur(e.nextSibling)}function Mi(){At=Mt=null,je=!1}function ly(e){en===null?en=[e]:en.push(e)}var iR=Bn.ReactCurrentBatchConfig;function lo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function b0(e){var t=e._init;return t(e._payload)}function pC(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=hr(g,x),g.index=0,g.sibling=null,g}function o(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,x,y,b){return x===null||x.tag!==6?(x=ec(y,g.mode,b),x.return=g,x):(x=i(x,y),x.return=g,x)}function l(g,x,y,b){var k=y.type;return k===li?c(g,x,y.props.children,b,y.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&b0(k)===x.type)?(b=i(x,y.props),b.ref=lo(g,x,y),b.return=g,b):(b=Is(y.type,y.key,y.props,null,g.mode,b),b.ref=lo(g,x,y),b.return=g,b)}function u(g,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=tc(y,g.mode,b),x.return=g,x):(x=i(x,y.children||[]),x.return=g,x)}function c(g,x,y,b,k){return x===null||x.tag!==7?(x=zr(y,g.mode,b,k),x.return=g,x):(x=i(x,y),x.return=g,x)}function f(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ec(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fa:return y=Is(x.type,x.key,x.props,null,g.mode,y),y.ref=lo(g,null,x),y.return=g,y;case si:return x=tc(x,g.mode,y),x.return=g,x;case Qn:var b=x._init;return f(g,b(x._payload),y)}if(yo(x)||ro(x))return x=zr(x,g.mode,y,null),x.return=g,x;Za(g,x)}return null}function d(g,x,y,b){var k=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:s(g,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fa:return y.key===k?l(g,x,y,b):null;case si:return y.key===k?u(g,x,y,b):null;case Qn:return k=y._init,d(g,x,k(y._payload),b)}if(yo(y)||ro(y))return k!==null?null:c(g,x,y,b,null);Za(g,y)}return null}function h(g,x,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,s(x,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fa:return g=g.get(b.key===null?y:b.key)||null,l(x,g,b,k);case si:return g=g.get(b.key===null?y:b.key)||null,u(x,g,b,k);case Qn:var _=b._init;return h(g,x,y,_(b._payload),k)}if(yo(b)||ro(b))return g=g.get(y)||null,c(x,g,b,k,null);Za(x,b)}return null}function p(g,x,y,b){for(var k=null,_=null,E=x,P=x=0,M=null;E!==null&&P<y.length;P++){E.index>P?(M=E,E=null):M=E.sibling;var z=d(g,E,y[P],b);if(z===null){E===null&&(E=M);break}e&&E&&z.alternate===null&&t(g,E),x=o(z,x,P),_===null?k=z:_.sibling=z,_=z,E=M}if(P===y.length)return n(g,E),je&&Nr(g,P),k;if(E===null){for(;P<y.length;P++)E=f(g,y[P],b),E!==null&&(x=o(E,x,P),_===null?k=E:_.sibling=E,_=E);return je&&Nr(g,P),k}for(E=r(g,E);P<y.length;P++)M=h(E,g,P,y[P],b),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?P:M.key),x=o(M,x,P),_===null?k=M:_.sibling=M,_=M);return e&&E.forEach(function(T){return t(g,T)}),je&&Nr(g,P),k}function m(g,x,y,b){var k=ro(y);if(typeof k!="function")throw Error(V(150));if(y=k.call(y),y==null)throw Error(V(151));for(var _=k=null,E=x,P=x=0,M=null,z=y.next();E!==null&&!z.done;P++,z=y.next()){E.index>P?(M=E,E=null):M=E.sibling;var T=d(g,E,z.value,b);if(T===null){E===null&&(E=M);break}e&&E&&T.alternate===null&&t(g,E),x=o(T,x,P),_===null?k=T:_.sibling=T,_=T,E=M}if(z.done)return n(g,E),je&&Nr(g,P),k;if(E===null){for(;!z.done;P++,z=y.next())z=f(g,z.value,b),z!==null&&(x=o(z,x,P),_===null?k=z:_.sibling=z,_=z);return je&&Nr(g,P),k}for(E=r(g,E);!z.done;P++,z=y.next())z=h(E,g,P,z.value,b),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?P:z.key),x=o(z,x,P),_===null?k=z:_.sibling=z,_=z);return e&&E.forEach(function(O){return t(g,O)}),je&&Nr(g,P),k}function w(g,x,y,b){if(typeof y=="object"&&y!==null&&y.type===li&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Fa:e:{for(var k=y.key,_=x;_!==null;){if(_.key===k){if(k=y.type,k===li){if(_.tag===7){n(g,_.sibling),x=i(_,y.props.children),x.return=g,g=x;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&b0(k)===_.type){n(g,_.sibling),x=i(_,y.props),x.ref=lo(g,_,y),x.return=g,g=x;break e}n(g,_);break}else t(g,_);_=_.sibling}y.type===li?(x=zr(y.props.children,g.mode,b,y.key),x.return=g,g=x):(b=Is(y.type,y.key,y.props,null,g.mode,b),b.ref=lo(g,x,y),b.return=g,g=b)}return a(g);case si:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),x=i(x,y.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=tc(y,g.mode,b),x.return=g,g=x}return a(g);case Qn:return _=y._init,w(g,x,_(y._payload),b)}if(yo(y))return p(g,x,y,b);if(ro(y))return m(g,x,y,b);Za(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,y),x.return=g,g=x):(n(g,x),x=ec(y,g.mode,b),x.return=g,g=x),a(g)):n(g,x)}return w}var Li=pC(!0),gC=pC(!1),Qs=_r(null),Zs=null,mi=null,uy=null;function cy(){uy=mi=Zs=null}function fy(e){var t=Qs.current;Te(Qs),e._currentValue=t}function Xg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Zs=e,uy=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(uy!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(Zs===null)throw Error(V(308));mi=e,Zs.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var Rr=null;function dy(e){Rr===null?Rr=[e]:Rr.push(e)}function mC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dy(t)):(n.next=i.next,i.next=n),t.interleaved=n,zn(e,r)}function zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zn=!1;function hy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zn(e,n)}return i=r.interleaved,i===null?(t.next=t,dy(r)):(t.next=i.next,i.next=t),r.interleaved=t,zn(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zm(e,n)}}function S0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var i=e.updateQueue;Zn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ze({},f,d);break e;case 2:Zn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Vr|=a,e.lanes=a,e.memoizedState=f}}function E0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Sa={},wn=_r(Sa),ta=_r(Sa),na=_r(Sa);function Mr(e){if(e===Sa)throw Error(V(174));return e}function py(e,t){switch(ke(na,t),ke(ta,e),ke(wn,Sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ig(t,e)}Te(wn),ke(wn,t)}function Oi(){Te(wn),Te(ta),Te(na)}function vC(e){Mr(na.current);var t=Mr(wn.current),n=Ig(t,e.type);t!==n&&(ke(ta,e),ke(wn,n))}function gy(e){ta.current===e&&(Te(wn),Te(ta))}var Oe=_r(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yu=[];function my(){for(var e=0;e<Yu.length;e++)Yu[e]._workInProgressVersionPrimary=null;Yu.length=0}var ks=Bn.ReactCurrentDispatcher,Ku=Bn.ReactCurrentBatchConfig,Hr=0,De=null,We=null,Ze=null,tl=!1,Mo=!1,ra=0,oR=0;function rt(){throw Error(V(321))}function yy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function vy(e,t,n,r,i,o){if(Hr=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?uR:cR,e=n(r,i),Mo){o=0;do{if(Mo=!1,ra=0,25<=o)throw Error(V(301));o+=1,Ze=We=null,t.updateQueue=null,ks.current=fR,e=n(r,i)}while(Mo)}if(ks.current=nl,t=We!==null&&We.next!==null,Hr=0,Ze=We=De=null,tl=!1,t)throw Error(V(300));return e}function xy(){var e=ra!==0;return ra=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?De.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Wt(){if(We===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ze===null?De.memoizedState:Ze.next;if(t!==null)Ze=t,We=e;else{if(e===null)throw Error(V(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ze===null?De.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ia(e,t){return typeof t=="function"?t(e):t}function Xu(e){var t=Wt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,De.lanes|=c,Vr|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ln(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,De.lanes|=o,Vr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qu(e){var t=Wt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ln(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xC(){}function wC(e,t){var n=De,r=Wt(),i=t(),o=!ln(r.memoizedState,i);if(o&&(r.memoizedState=i,vt=!0),r=r.queue,wy(SC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,oa(9,bC.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(V(349));Hr&30||_C(n,t,i)}return i}function _C(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bC(e,t,n,r){t.value=n,t.getSnapshot=r,EC(t)&&kC(e)}function SC(e,t,n){return n(function(){EC(t)&&kC(e)})}function EC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function kC(e){var t=zn(e,1);t!==null&&an(t,e,1,-1)}function k0(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=lR.bind(null,De,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CC(){return Wt().memoizedState}function Cs(e,t,n,r){var i=hn();De.flags|=e,i.memoizedState=oa(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(We!==null){var a=We.memoizedState;if(o=a.destroy,r!==null&&yy(r,a.deps)){i.memoizedState=oa(t,n,o,r);return}}De.flags|=e,i.memoizedState=oa(1|t,n,o,r)}function C0(e,t){return Cs(8390656,8,e,t)}function wy(e,t){return Ll(2048,8,e,t)}function NC(e,t){return Ll(4,2,e,t)}function TC(e,t){return Ll(4,4,e,t)}function PC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IC(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,PC.bind(null,t,e),n)}function _y(){}function jC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function AC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RC(e,t,n){return Hr&21?(ln(n,t)||(n=zk(),De.lanes|=n,Vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function aR(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Ku.transition;Ku.transition={};try{e(!1),t()}finally{be=n,Ku.transition=r}}function MC(){return Wt().memoizedState}function sR(e,t,n){var r=dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LC(e))OC(t,n);else if(n=mC(e,t,n,r),n!==null){var i=ft();an(n,e,r,i),DC(n,t,r)}}function lR(e,t,n){var r=dr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LC(e))OC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ln(s,a)){var l=t.interleaved;l===null?(i.next=i,dy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=mC(e,t,i,r),n!==null&&(i=ft(),an(n,e,r,i),DC(n,t,r))}}function LC(e){var t=e.alternate;return e===De||t!==null&&t===De}function OC(e,t){Mo=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zm(e,n)}}var nl={readContext:Gt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},uR={readContext:Gt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:C0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,PC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sR.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:k0,useDebugValue:_y,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=k0(!1),t=e[0];return e=aR.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=hn();if(je){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Je===null)throw Error(V(349));Hr&30||_C(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,C0(SC.bind(null,r,o,e),[e]),r.flags|=2048,oa(9,bC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=hn(),t=Je.identifierPrefix;if(je){var n=jn,r=In;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cR={readContext:Gt,useCallback:jC,useContext:Gt,useEffect:wy,useImperativeHandle:IC,useInsertionEffect:NC,useLayoutEffect:TC,useMemo:AC,useReducer:Xu,useRef:CC,useState:function(){return Xu(ia)},useDebugValue:_y,useDeferredValue:function(e){var t=Wt();return RC(t,We.memoizedState,e)},useTransition:function(){var e=Xu(ia)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:xC,useSyncExternalStore:wC,useId:MC,unstable_isNewReconciler:!1},fR={readContext:Gt,useCallback:jC,useContext:Gt,useEffect:wy,useImperativeHandle:IC,useInsertionEffect:NC,useLayoutEffect:TC,useMemo:AC,useReducer:Qu,useRef:CC,useState:function(){return Qu(ia)},useDebugValue:_y,useDeferredValue:function(e){var t=Wt();return We===null?t.memoizedState=e:RC(t,We.memoizedState,e)},useTransition:function(){var e=Qu(ia)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:xC,useSyncExternalStore:wC,useId:MC,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ol={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),i=dr(e),o=Ln(r,i);o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(an(t,e,i,r),Es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),i=dr(e),o=Ln(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(an(t,e,i,r),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=dr(e),i=Ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=cr(e,i,r),t!==null&&(an(t,e,r,n),Es(t,e,r))}};function N0(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Qo(n,r)||!Qo(i,o):!0}function zC(e,t,n){var r=!1,i=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=_t(t)?Fr:at.current,r=t.contextTypes,o=(r=r!=null)?Ri(e,i):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function T0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function Zg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},hy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=_t(t)?Fr:at.current,i.context=Ri(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ol.enqueueReplaceState(i,i.state,null),Js(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var n="",r=t;do n+=qj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dR=typeof WeakMap=="function"?WeakMap:Map;function qC(e,t,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,um=r),Jg(e,t)},n}function $C(e,t,n){n=Ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Jg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jg(e,t),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function P0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=CR.bind(null,e,t,n),t.then(e,e))}function I0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ln(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var hR=Bn.ReactCurrentOwner,vt=!1;function ct(e,t,n,r){t.child=e===null?gC(t,null,n,r):Li(t,e.child,n,r)}function A0(e,t,n,r,i){n=n.render;var o=t.ref;return Ci(t,i),r=vy(e,t,n,r,o,i),n=xy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(je&&n&&ay(t),t.flags|=1,ct(e,t,r,i),t.child)}function R0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Py(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,FC(e,t,o,r,i)):(e=Is(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(a,r)&&e.ref===t.ref)return qn(e,t,i)}return t.flags|=1,e=hr(o,r),e.ref=t.ref,e.return=t,t.child=e}function FC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Qo(o,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,qn(e,t,i)}return em(e,t,n,r,i)}function BC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(vi,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(vi,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(vi,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ke(vi,Tt),Tt|=r;return ct(e,t,i,n),t.child}function HC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function em(e,t,n,r,i){var o=_t(n)?Fr:at.current;return o=Ri(t,o),Ci(t,i),n=vy(e,t,n,r,o,i),r=xy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(je&&r&&ay(t),t.flags|=1,ct(e,t,n,i),t.child)}function M0(e,t,n,r,i){if(_t(n)){var o=!0;Ys(t)}else o=!1;if(Ci(t,i),t.stateNode===null)Ns(e,t),zC(t,n,r),Zg(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=_t(n)?Fr:at.current,u=Ri(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&T0(t,a,r,u),Zn=!1;var d=t.memoizedState;a.state=d,Js(t,r,a,i),l=t.memoizedState,s!==r||d!==l||wt.current||Zn?(typeof c=="function"&&(Qg(t,n,c,r),l=t.memoizedState),(s=Zn||N0(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qt(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=_t(n)?Fr:at.current,l=Ri(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&T0(t,a,r,l),Zn=!1,d=t.memoizedState,a.state=d,Js(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||wt.current||Zn?(typeof h=="function"&&(Qg(t,n,h,r),p=t.memoizedState),(u=Zn||N0(t,n,u,r,d,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return tm(e,t,n,r,o,i)}function tm(e,t,n,r,i,o){HC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&x0(t,n,!1),qn(e,t,o);r=t.stateNode,hR.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Li(t,e.child,null,o),t.child=Li(t,null,s,o)):ct(e,t,s,o),t.memoizedState=r.state,i&&x0(t,n,!0),t.child}function VC(e){var t=e.stateNode;t.pendingContext?v0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&v0(e,t.context,!1),py(e,t.containerInfo)}function L0(e,t,n,r,i){return Mi(),ly(i),t.flags|=256,ct(e,t,n,r),t.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(e){return{baseLanes:e,cachePool:null,transitions:null}}function UC(e,t,n){var r=t.pendingProps,i=Oe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Oe,i&1),e===null)return Kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ql(a,r,0,null),e=zr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rm(n),t.memoizedState=nm,e):by(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pR(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=hr(s,o):(o=zr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?rm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=nm,r}return o=e.child,e=o.sibling,r=hr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function by(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,r){return r!==null&&ly(r),Li(t,e.child,null,n),e=by(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pR(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Zu(Error(V(422))),Ja(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ql({mode:"visible",children:r.children},i,0,null),o=zr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Li(t,e.child,null,a),t.child.memoizedState=rm(a),t.memoizedState=nm,o);if(!(t.mode&1))return Ja(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(V(419)),r=Zu(o,r,void 0),Ja(e,t,a,r)}if(s=(a&e.childLanes)!==0,vt||s){if(r=Je,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zn(e,i),an(r,e,i,-1))}return Ty(),r=Zu(Error(V(421))),Ja(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=NR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,At=ur(i.nextSibling),Mt=t,je=!0,en=null,e!==null&&($t[Ft++]=In,$t[Ft++]=jn,$t[Ft++]=Br,In=e.id,jn=e.overflow,Br=t),t=by(t,r.children),t.flags|=4096,t)}function O0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xg(e.return,t,n)}function Ju(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function GC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O0(e,n,t);else if(e.tag===19)O0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&el(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ju(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&el(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ju(t,!0,n,null,o);break;case"together":Ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gR(e,t,n){switch(t.tag){case 3:VC(t),Mi();break;case 5:vC(t);break;case 1:_t(t.type)&&Ys(t);break;case 4:py(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(Qs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?UC(e,t,n):(ke(Oe,Oe.current&1),e=qn(e,t,n),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,BC(e,t,n)}return qn(e,t,n)}var WC,im,YC,KC;WC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};im=function(){};YC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mr(wn.current);var o=null;switch(n){case"input":i=Cg(e,i),r=Cg(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Pg(e,i),r=Pg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gs)}jg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};KC=function(e,t,n,r){n!==r&&(t.flags|=4)};function uo(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mR(e,t,n){var r=t.pendingProps;switch(sy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return _t(t.type)&&Ws(),it(t),null;case 3:return r=t.stateNode,Oi(),Te(wt),Te(at),my(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(dm(en),en=null))),im(e,t),it(t),null;case 5:gy(t);var i=Mr(na.current);if(n=t.type,e!==null&&t.stateNode!=null)YC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return it(t),null}if(e=Mr(wn.current),Qa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[mn]=t,r[ea]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<xo.length;i++)Ne(xo[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Uv(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":Wv(r,o),Ne("invalid",r)}jg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,s,e),i=["children",""+s]):Vo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ba(r),Gv(r,o,!0);break;case"textarea":Ba(r),Yv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mn]=t,e[ea]=r,WC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ag(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<xo.length;i++)Ne(xo[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Uv(e,r),i=Cg(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":Wv(e,r),i=Pg(e,r),Ne("invalid",e);break;default:i=r}jg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Ck(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ek(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uo(e,l):typeof l=="number"&&Uo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",e):l!=null&&Gm(e,o,l,a))}switch(n){case"input":Ba(e),Gv(e,r,!1);break;case"textarea":Ba(e),Yv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?bi(e,!!r.multiple,o,!1):r.defaultValue!=null&&bi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)KC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Mr(na.current),Mr(wn.current),Qa(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(o=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return it(t),null;case 13:if(Te(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&At!==null&&t.mode&1&&!(t.flags&128))hC(),Mi(),t.flags|=98560,o=!1;else if(o=Qa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[mn]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else en!==null&&(dm(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ye===0&&(Ye=3):Ty())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Oi(),im(e,t),e===null&&Zo(t.stateNode.containerInfo),it(t),null;case 10:return fy(t.type._context),it(t),null;case 17:return _t(t.type)&&Ws(),it(t),null;case 19:if(Te(Oe),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)uo(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=el(e),a!==null){for(t.flags|=128,uo(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>zi&&(t.flags|=128,r=!0,uo(o,!1),t.lanes=4194304)}else{if(!r)if(e=el(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!je)return it(t),null}else 2*Fe()-o.renderingStartTime>zi&&n!==1073741824&&(t.flags|=128,r=!0,uo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Ny(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function yR(e,t){switch(sy(t),t.tag){case 1:return _t(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),Te(wt),Te(at),my(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gy(t),null;case 13:if(Te(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Oe),null;case 4:return Oi(),null;case 10:return fy(t.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var es=!1,ot=!1,vR=typeof WeakSet=="function"?WeakSet:Set,J=null;function yi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function om(e,t,n){try{n()}catch(r){qe(e,t,r)}}var D0=!1;function xR(e,t){if(Bg=Hs,e=eC(),oy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hg={focusedElem:e,selectionRange:n},Hs=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Qt(t.type,m),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(b){qe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return p=D0,D0=!1,p}function Lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&om(t,n,o)}i=i.next}while(i!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function am(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XC(e){var t=e.alternate;t!==null&&(e.alternate=null,XC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[ea],delete t[Gg],delete t[tR],delete t[nR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QC(e){return e.tag===5||e.tag===3||e.tag===4}function z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gs));else if(r!==4&&(e=e.child,e!==null))for(sm(e,t,n),e=e.sibling;e!==null;)sm(e,t,n),e=e.sibling}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}var et=null,Zt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)ZC(e,t,n),n=n.sibling}function ZC(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:ot||yi(n,t);case 6:var r=et,i=Zt;et=null,Gn(e,t,n),et=r,Zt=i,et!==null&&(Zt?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Zt?(e=et,n=n.stateNode,e.nodeType===8?Gu(e.parentNode,n):e.nodeType===1&&Gu(e,n),Ko(e)):Gu(et,n.stateNode));break;case 4:r=et,i=Zt,et=n.stateNode.containerInfo,Zt=!0,Gn(e,t,n),et=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&om(n,t,a),i=i.next}while(i!==r)}Gn(e,t,n);break;case 1:if(!ot&&(yi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qe(n,t,s)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Gn(e,t,n),ot=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vR),t.forEach(function(r){var i=TR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:et=s.stateNode,Zt=!1;break e;case 3:et=s.stateNode.containerInfo,Zt=!0;break e;case 4:et=s.stateNode.containerInfo,Zt=!0;break e}s=s.return}if(et===null)throw Error(V(160));ZC(o,a,i),et=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JC(t,e),t=t.sibling}function JC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),dn(e),r&4){try{Lo(3,e,e.return),Dl(3,e)}catch(m){qe(e,e.return,m)}try{Lo(5,e,e.return)}catch(m){qe(e,e.return,m)}}break;case 1:Xt(t,e),dn(e),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Xt(t,e),dn(e),r&512&&n!==null&&yi(n,n.return),e.flags&32){var i=e.stateNode;try{Uo(i,"")}catch(m){qe(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&_k(i,o),Ag(s,a);var u=Ag(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Ck(i,f):c==="dangerouslySetInnerHTML"?Ek(i,f):c==="children"?Uo(i,f):Gm(i,c,f,u)}switch(s){case"input":Ng(i,o);break;case"textarea":bk(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?bi(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?bi(i,!!o.multiple,o.defaultValue,!0):bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ea]=o}catch(m){qe(e,e.return,m)}}break;case 6:if(Xt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){qe(e,e.return,m)}}break;case 3:if(Xt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(m){qe(e,e.return,m)}break;case 4:Xt(t,e),dn(e);break;case 13:Xt(t,e),dn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ky=Fe())),r&4&&q0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||c,Xt(t,e),ot=u):Xt(t,e),dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:Lo(4,d,d.return);break;case 1:yi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){qe(r,n,m)}}break;case 5:yi(d,d.return);break;case 22:if(d.memoizedState!==null){F0(f);continue}}h!==null?(h.return=d,J=h):F0(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=kk("display",a))}catch(m){qe(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){qe(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(t,e),dn(e),r&4&&q0(e);break;case 21:break;default:Xt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(QC(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var o=z0(e);lm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=z0(e);sm(e,s,a);break;default:throw Error(V(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wR(e,t,n){J=e,eN(e)}function eN(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||es;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ot;s=es;var u=ot;if(es=a,(ot=l)&&!u)for(J=i;J!==null;)a=J,l=a.child,a.tag===22&&a.memoizedState!==null?B0(i):l!==null?(l.return=a,J=l):B0(i);for(;o!==null;)J=o,eN(o),o=o.sibling;J=i,es=s,ot=u}$0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):$0(e)}}function $0(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&E0(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}E0(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}ot||t.flags&512&&am(t)}catch(d){qe(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function F0(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function B0(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var o=t.return;try{am(t)}catch(l){qe(t,o,l)}break;case 5:var a=t.return;try{am(t)}catch(l){qe(t,a,l)}}}catch(l){qe(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var _R=Math.ceil,rl=Bn.ReactCurrentDispatcher,Sy=Bn.ReactCurrentOwner,Ut=Bn.ReactCurrentBatchConfig,xe=0,Je=null,He=null,tt=0,Tt=0,vi=_r(0),Ye=0,aa=null,Vr=0,zl=0,Ey=0,Oo=null,yt=null,ky=0,zi=1/0,Tn=null,il=!1,um=null,fr=null,ts=!1,or=null,ol=0,Do=0,cm=null,Ts=-1,Ps=0;function ft(){return xe&6?Fe():Ts!==-1?Ts:Ts=Fe()}function dr(e){return e.mode&1?xe&2&&tt!==0?tt&-tt:iR.transition!==null?(Ps===0&&(Ps=zk()),Ps):(e=be,e!==0||(e=window.event,e=e===void 0?16:Uk(e.type)),e):1}function an(e,t,n,r){if(50<Do)throw Do=0,cm=null,Error(V(185));wa(e,n,r),(!(xe&2)||e!==Je)&&(e===Je&&(!(xe&2)&&(zl|=n),Ye===4&&er(e,tt)),bt(e,r),n===1&&xe===0&&!(t.mode&1)&&(zi=Fe()+500,Ml&&br()))}function bt(e,t){var n=e.callbackNode;iA(e,t);var r=Bs(e,e===Je?tt:0);if(r===0)n!==null&&Qv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qv(n),t===1)e.tag===0?rR(H0.bind(null,e)):cC(H0.bind(null,e)),JA(function(){!(xe&6)&&br()}),n=null;else{switch(qk(r)){case 1:n=Qm;break;case 4:n=Ok;break;case 16:n=Fs;break;case 536870912:n=Dk;break;default:n=Fs}n=lN(n,tN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tN(e,t){if(Ts=-1,Ps=0,xe&6)throw Error(V(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=Bs(e,e===Je?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=al(e,r);else{t=r;var i=xe;xe|=2;var o=rN();(Je!==e||tt!==t)&&(Tn=null,zi=Fe()+500,Dr(e,t));do try{ER();break}catch(s){nN(e,s)}while(!0);cy(),rl.current=o,xe=i,He!==null?t=0:(Je=null,tt=0,t=Ye)}if(t!==0){if(t===2&&(i=Dg(e),i!==0&&(r=i,t=fm(e,i))),t===1)throw n=aa,Dr(e,0),er(e,r),bt(e,Fe()),n;if(t===6)er(e,r);else{if(i=e.current.alternate,!(r&30)&&!bR(i)&&(t=al(e,r),t===2&&(o=Dg(e),o!==0&&(r=o,t=fm(e,o))),t===1))throw n=aa,Dr(e,0),er(e,r),bt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Tr(e,yt,Tn);break;case 3:if(er(e,r),(r&130023424)===r&&(t=ky+500-Fe(),10<t)){if(Bs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ug(Tr.bind(null,e,yt,Tn),t);break}Tr(e,yt,Tn);break;case 4:if(er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-on(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_R(r/1960))-r,10<r){e.timeoutHandle=Ug(Tr.bind(null,e,yt,Tn),r);break}Tr(e,yt,Tn);break;case 5:Tr(e,yt,Tn);break;default:throw Error(V(329))}}}return bt(e,Fe()),e.callbackNode===n?tN.bind(null,e):null}function fm(e,t){var n=Oo;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=al(e,t),e!==2&&(t=yt,yt=n,t!==null&&dm(t)),e}function dm(e){yt===null?yt=e:yt.push.apply(yt,e)}function bR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ln(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~Ey,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function H0(e){if(xe&6)throw Error(V(327));Ni();var t=Bs(e,0);if(!(t&1))return bt(e,Fe()),null;var n=al(e,t);if(e.tag!==0&&n===2){var r=Dg(e);r!==0&&(t=r,n=fm(e,r))}if(n===1)throw n=aa,Dr(e,0),er(e,t),bt(e,Fe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,yt,Tn),bt(e,Fe()),null}function Cy(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(zi=Fe()+500,Ml&&br())}}function Ur(e){or!==null&&or.tag===0&&!(xe&6)&&Ni();var t=xe;xe|=1;var n=Ut.transition,r=be;try{if(Ut.transition=null,be=1,e)return e()}finally{be=r,Ut.transition=n,xe=t,!(xe&6)&&br()}}function Ny(){Tt=vi.current,Te(vi)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZA(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:Oi(),Te(wt),Te(at),my();break;case 5:gy(r);break;case 4:Oi();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:fy(r.type._context);break;case 22:case 23:Ny()}n=n.return}if(Je=e,He=e=hr(e.current,null),tt=Tt=t,Ye=0,aa=null,Ey=zl=Vr=0,yt=Oo=null,Rr!==null){for(t=0;t<Rr.length;t++)if(n=Rr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Rr=null}return e}function nN(e,t){do{var n=He;try{if(cy(),ks.current=nl,tl){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tl=!1}if(Hr=0,Ze=We=De=null,Mo=!1,ra=0,Sy.current=null,n===null||n.return===null){Ye=1,aa=t,He=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=I0(a);if(h!==null){h.flags&=-257,j0(h,a,s,o,t),h.mode&1&&P0(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){P0(o,u,t),Ty();break e}l=Error(V(426))}}else if(je&&s.mode&1){var w=I0(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),j0(w,a,s,o,t),ly(Di(l,s));break e}}o=l=Di(l,s),Ye!==4&&(Ye=2),Oo===null?Oo=[o]:Oo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=qC(o,l,t);S0(o,g);break e;case 1:s=l;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fr===null||!fr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=$C(o,s,t);S0(o,b);break e}}o=o.return}while(o!==null)}oN(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function rN(){var e=rl.current;return rl.current=nl,e===null?nl:e}function Ty(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||!(Vr&268435455)&&!(zl&268435455)||er(Je,tt)}function al(e,t){var n=xe;xe|=2;var r=rN();(Je!==e||tt!==t)&&(Tn=null,Dr(e,t));do try{SR();break}catch(i){nN(e,i)}while(!0);if(cy(),xe=n,rl.current=r,He!==null)throw Error(V(261));return Je=null,tt=0,Ye}function SR(){for(;He!==null;)iN(He)}function ER(){for(;He!==null&&!Kj();)iN(He)}function iN(e){var t=sN(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?oN(e):He=t,Sy.current=null}function oN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yR(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,He=null;return}}else if(n=mR(n,t,Tt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ye===0&&(Ye=5)}function Tr(e,t,n){var r=be,i=Ut.transition;try{Ut.transition=null,be=1,kR(e,t,n,r)}finally{Ut.transition=i,be=r}return null}function kR(e,t,n,r){do Ni();while(or!==null);if(xe&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oA(e,o),e===Je&&(He=Je=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,lN(Fs,function(){return Ni(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ut.transition,Ut.transition=null;var a=be;be=1;var s=xe;xe|=4,Sy.current=null,xR(e,n),JC(n,e),UA(Hg),Hs=!!Bg,Hg=Bg=null,e.current=n,wR(n),Xj(),xe=s,be=a,Ut.transition=o}else e.current=n;if(ts&&(ts=!1,or=e,ol=i),o=e.pendingLanes,o===0&&(fr=null),Jj(n.stateNode),bt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(il)throw il=!1,e=um,um=null,e;return ol&1&&e.tag!==0&&Ni(),o=e.pendingLanes,o&1?e===cm?Do++:(Do=0,cm=e):Do=0,br(),null}function Ni(){if(or!==null){var e=qk(ol),t=Ut.transition,n=be;try{if(Ut.transition=null,be=16>e?16:e,or===null)var r=!1;else{if(e=or,or=null,ol=0,xe&6)throw Error(V(331));var i=xe;for(xe|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Lo(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,h=c.return;if(XC(c),c===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lo(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var x=e.current;for(J=x;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=x;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Dl(9,s)}}catch(k){qe(s,s.return,k)}if(s===a){J=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,J=b;break e}J=s.return}}if(xe=i,br(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Pl,e)}catch{}r=!0}return r}finally{be=n,Ut.transition=t}}return!1}function V0(e,t,n){t=Di(n,t),t=qC(e,t,1),e=cr(e,t,1),t=ft(),e!==null&&(wa(e,1,t),bt(e,t))}function qe(e,t,n){if(e.tag===3)V0(e,e,n);else for(;t!==null;){if(t.tag===3){V0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){e=Di(n,e),e=$C(t,e,1),t=cr(t,e,1),e=ft(),t!==null&&(wa(t,1,e),bt(t,e));break}}t=t.return}}function CR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(tt&n)===n&&(Ye===4||Ye===3&&(tt&130023424)===tt&&500>Fe()-ky?Dr(e,0):Ey|=n),bt(e,t)}function aN(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var n=ft();e=zn(e,t),e!==null&&(wa(e,t,n),bt(e,n))}function NR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aN(e,n)}function TR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),aN(e,n)}var sN;sN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,gR(e,t,n);vt=!!(e.flags&131072)}else vt=!1,je&&t.flags&1048576&&fC(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var i=Ri(t,at.current);Ci(t,n),i=vy(null,t,r,e,i,n);var o=xy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(o=!0,Ys(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(t),i.updater=Ol,t.stateNode=i,i._reactInternals=t,Zg(t,r,e,n),t=tm(null,t,r,!0,o,n)):(t.tag=0,je&&o&&ay(t),ct(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=IR(r),e=Qt(r,e),i){case 0:t=em(null,t,r,e,n);break e;case 1:t=M0(null,t,r,e,n);break e;case 11:t=A0(null,t,r,e,n);break e;case 14:t=R0(null,t,r,Qt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),em(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),M0(e,t,r,i,n);case 3:e:{if(VC(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yC(e,t),Js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Di(Error(V(423)),t),t=L0(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(V(424)),t),t=L0(e,t,r,n,i);break e}else for(At=ur(t.stateNode.containerInfo.firstChild),Mt=t,je=!0,en=null,n=gC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===i){t=qn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return vC(t),e===null&&Kg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Vg(r,i)?a=null:o!==null&&Vg(r,o)&&(t.flags|=32),HC(e,t),ct(e,t,a,n),t.child;case 6:return e===null&&Kg(t),null;case 13:return UC(e,t,n);case 4:return py(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),A0(e,t,r,i,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ke(Qs,r._currentValue),r._currentValue=a,o!==null)if(ln(o.value,a)){if(o.children===i.children&&!wt.current){t=qn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ln(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xg(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Xg(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ci(t,n),i=Gt(i),r=r(i),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,i=Qt(r,t.pendingProps),i=Qt(r.type,i),R0(e,t,r,i,n);case 15:return FC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),Ns(e,t),t.tag=1,_t(r)?(e=!0,Ys(t)):e=!1,Ci(t,n),zC(t,r,i),Zg(t,r,i,n),tm(null,t,r,!0,e,n);case 19:return GC(e,t,n);case 22:return BC(e,t,n)}throw Error(V(156,t.tag))};function lN(e,t){return Lk(e,t)}function PR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new PR(e,t,n,r)}function Py(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IR(e){if(typeof e=="function")return Py(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ym)return 11;if(e===Km)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Py(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case li:return zr(n.children,i,o,t);case Wm:a=8,i|=8;break;case bg:return e=Ht(12,n,t,i|2),e.elementType=bg,e.lanes=o,e;case Sg:return e=Ht(13,n,t,i),e.elementType=Sg,e.lanes=o,e;case Eg:return e=Ht(19,n,t,i),e.elementType=Eg,e.lanes=o,e;case vk:return ql(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mk:a=10;break e;case yk:a=9;break e;case Ym:a=11;break e;case Km:a=14;break e;case Qn:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Ht(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function zr(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function ql(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=vk,e.lanes=n,e.stateNode={isHidden:!1},e}function ec(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function tc(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lu(0),this.expirationTimes=Lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iy(e,t,n,r,i,o,a,s,l){return e=new jR(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(o),e}function AR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uN(e){if(!e)return vr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(_t(n))return uC(e,n,t)}return t}function cN(e,t,n,r,i,o,a,s,l){return e=Iy(n,r,!0,e,i,o,a,s,l),e.context=uN(null),n=e.current,r=ft(),i=dr(n),o=Ln(r,i),o.callback=t??null,cr(n,o,i),e.current.lanes=i,wa(e,i,r),bt(e,r),e}function $l(e,t,n,r){var i=t.current,o=ft(),a=dr(i);return n=uN(n),t.context===null?t.context=n:t.pendingContext=n,t=Ln(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(i,t,a),e!==null&&(an(e,i,a,o),Es(e,i,a)),a}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function U0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jy(e,t){U0(e,t),(e=e.alternate)&&U0(e,t)}function RR(){return null}var fN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ay(e){this._internalRoot=e}Fl.prototype.render=Ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));$l(e,t,null,null)};Fl.prototype.unmount=Ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){$l(null,e,null,null)}),t[Dn]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&Vk(e)}};function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G0(){}function MR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sl(a);o.call(u)}}var a=cN(t,r,e,0,null,!1,!1,"",G0);return e._reactRootContainer=a,e[Dn]=a.current,Zo(e.nodeType===8?e.parentNode:e),Ur(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=sl(l);s.call(u)}}var l=Iy(e,0,!1,null,null,!1,!1,"",G0);return e._reactRootContainer=l,e[Dn]=l.current,Zo(e.nodeType===8?e.parentNode:e),Ur(function(){$l(t,l,n,r)}),l}function Hl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=sl(a);s.call(l)}}$l(t,a,e,i)}else a=MR(n,t,e,i,r);return sl(a)}$k=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(Zm(t,n|1),bt(t,Fe()),!(xe&6)&&(zi=Fe()+500,br()))}break;case 13:Ur(function(){var r=zn(e,1);if(r!==null){var i=ft();an(r,e,1,i)}}),jy(e,1)}};Jm=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var n=ft();an(t,e,134217728,n)}jy(e,134217728)}};Fk=function(e){if(e.tag===13){var t=dr(e),n=zn(e,t);if(n!==null){var r=ft();an(n,e,t,r)}jy(e,t)}};Bk=function(){return be};Hk=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};Mg=function(e,t,n){switch(t){case"input":if(Ng(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rl(r);if(!i)throw Error(V(90));wk(r),Ng(r,i)}}}break;case"textarea":bk(e,n);break;case"select":t=n.value,t!=null&&bi(e,!!n.multiple,t,!1)}};Pk=Cy;Ik=Ur;var LR={usingClientEntryPoint:!1,Events:[ba,di,Rl,Nk,Tk,Cy]},co={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OR={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rk(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Pl=ns.inject(OR),xn=ns}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LR;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(t))throw Error(V(200));return AR(e,t,null,n)};Dt.createRoot=function(e,t){if(!Ry(e))throw Error(V(299));var n=!1,r="",i=fN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Iy(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,Zo(e.nodeType===8?e.parentNode:e),new Ay(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Rk(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Ur(e)};Dt.hydrate=function(e,t,n){if(!Bl(t))throw Error(V(200));return Hl(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!Ry(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=fN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=cN(t,null,e,1,n??null,i,!1,o,a),e[Dn]=t.current,Zo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fl(t)};Dt.render=function(e,t,n){if(!Bl(t))throw Error(V(200));return Hl(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(V(40));return e._reactRootContainer?(Ur(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Cy;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Hl(e,t,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function dN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dN)}catch(e){console.error(e)}}dN(),dk.exports=Dt;var DR=dk.exports,W0=DR;wg.createRoot=W0.createRoot,wg.hydrateRoot=W0.hydrateRoot;function Ve(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ve(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var zR={value:()=>{}};function Vl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new js(n)}function js(e){this._=e}function qR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}js.prototype=Vl.prototype={constructor:js,on:function(e,t){var n=this._,r=qR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=$R(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Y0(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Y0(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new js(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function $R(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Y0(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=zR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var hm="http://www.w3.org/1999/xhtml";const K0={svg:"http://www.w3.org/2000/svg",xhtml:hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ul(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),K0.hasOwnProperty(t)?{space:K0[t],local:e}:e}function FR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hm&&t.documentElement.namespaceURI===hm?t.createElement(e):t.createElementNS(n,e)}}function BR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hN(e){var t=Ul(e);return(t.local?BR:FR)(t)}function HR(){}function My(e){return e==null?HR:function(){return this.querySelector(e)}}function VR(e){typeof e!="function"&&(e=My(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Ot(r,this._parents)}function UR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GR(){return[]}function pN(e){return e==null?GR:function(){return this.querySelectorAll(e)}}function WR(e){return function(){return UR(e.apply(this,arguments))}}function YR(e){typeof e=="function"?e=WR(e):e=pN(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new Ot(r,i)}function gN(e){return function(){return this.matches(e)}}function mN(e){return function(t){return t.matches(e)}}var KR=Array.prototype.find;function XR(e){return function(){return KR.call(this.children,e)}}function QR(){return this.firstElementChild}function ZR(e){return this.select(e==null?QR:XR(typeof e=="function"?e:mN(e)))}var JR=Array.prototype.filter;function eM(){return Array.from(this.children)}function tM(e){return function(){return JR.call(this.children,e)}}function nM(e){return this.selectAll(e==null?eM:tM(typeof e=="function"?e:mN(e)))}function rM(e){typeof e!="function"&&(e=gN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Ot(r,this._parents)}function yN(e){return new Array(e.length)}function iM(){return new Ot(this._enter||this._groups.map(yN),this._parents)}function ll(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ll.prototype={constructor:ll,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function oM(e){return function(){return e}}function aM(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new ll(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function sM(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new ll(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function lM(e){return e.__data__}function uM(e,t){if(!arguments.length)return Array.from(this,lM);var n=t?sM:aM,r=this._parents,i=this._groups;typeof e!="function"&&(e=oM(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=cM(e.call(c,c&&c.__data__,u,r)),p=h.length,m=s[u]=new Array(p),w=a[u]=new Array(p),g=l[u]=new Array(d);n(c,f,m,w,g,h,t);for(var x=0,y=0,b,k;x<p;++x)if(b=m[x]){for(x>=y&&(y=x+1);!(k=w[y])&&++y<p;);b._next=k||null}}return a=new Ot(a,r),a._enter=s,a._exit=l,a}function cM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fM(){return new Ot(this._exit||this._groups.map(yN),this._parents)}function dM(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function hM(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new Ot(s,this._parents)}function pM(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function gM(e){e||(e=mM);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new Ot(i,this._parents).order()}function mM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vM(){return Array.from(this)}function xM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function wM(){let e=0;for(const t of this)++e;return e}function _M(){return!this.node()}function bM(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function SM(e){return function(){this.removeAttribute(e)}}function EM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kM(e,t){return function(){this.setAttribute(e,t)}}function CM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function NM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function TM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function PM(e,t){var n=Ul(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?EM:SM:typeof t=="function"?n.local?TM:NM:n.local?CM:kM)(n,t))}function vN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function IM(e){return function(){this.style.removeProperty(e)}}function jM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function AM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function RM(e,t,n){return arguments.length>1?this.each((t==null?IM:typeof t=="function"?AM:jM)(e,t,n??"")):qi(this.node(),e)}function qi(e,t){return e.style.getPropertyValue(t)||vN(e).getComputedStyle(e,null).getPropertyValue(t)}function MM(e){return function(){delete this[e]}}function LM(e,t){return function(){this[e]=t}}function OM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function DM(e,t){return arguments.length>1?this.each((t==null?MM:typeof t=="function"?OM:LM)(e,t)):this.node()[e]}function xN(e){return e.trim().split(/^|\s+/)}function Ly(e){return e.classList||new wN(e)}function wN(e){this._node=e,this._names=xN(e.getAttribute("class")||"")}wN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _N(e,t){for(var n=Ly(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function bN(e,t){for(var n=Ly(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function zM(e){return function(){_N(this,e)}}function qM(e){return function(){bN(this,e)}}function $M(e,t){return function(){(t.apply(this,arguments)?_N:bN)(this,e)}}function FM(e,t){var n=xN(e+"");if(arguments.length<2){for(var r=Ly(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?$M:t?zM:qM)(n,t))}function BM(){this.textContent=""}function HM(e){return function(){this.textContent=e}}function VM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function UM(e){return arguments.length?this.each(e==null?BM:(typeof e=="function"?VM:HM)(e)):this.node().textContent}function GM(){this.innerHTML=""}function WM(e){return function(){this.innerHTML=e}}function YM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function KM(e){return arguments.length?this.each(e==null?GM:(typeof e=="function"?YM:WM)(e)):this.node().innerHTML}function XM(){this.nextSibling&&this.parentNode.appendChild(this)}function QM(){return this.each(XM)}function ZM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JM(){return this.each(ZM)}function eL(e){var t=typeof e=="function"?e:hN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tL(){return null}function nL(e,t){var n=typeof e=="function"?e:hN(e),r=t==null?tL:typeof t=="function"?t:My(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rL(){var e=this.parentNode;e&&e.removeChild(this)}function iL(){return this.each(rL)}function oL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sL(e){return this.select(e?aL:oL)}function lL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uL(e){return function(t){e.call(this,t,this.__data__)}}function cL(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fL(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function dL(e,t,n){return function(){var r=this.__on,i,o=uL(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function hL(e,t,n){var r=cL(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?dL:fL,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function SN(e,t,n){var r=vN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function pL(e,t){return function(){return SN(this,e,t)}}function gL(e,t){return function(){return SN(this,e,t.apply(this,arguments))}}function mL(e,t){return this.each((typeof t=="function"?gL:pL)(e,t))}function*yL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var EN=[null];function Ot(e,t){this._groups=e,this._parents=t}function Ea(){return new Ot([[document.documentElement]],EN)}function vL(){return this}Ot.prototype=Ea.prototype={constructor:Ot,select:VR,selectAll:YR,selectChild:ZR,selectChildren:nM,filter:rM,data:uM,enter:iM,exit:fM,join:dM,merge:hM,selection:vL,order:pM,sort:gM,call:yM,nodes:vM,node:xM,size:wM,empty:_M,each:bM,attr:PM,style:RM,property:DM,classed:FM,text:UM,html:KM,raise:QM,lower:JM,append:eL,insert:nL,remove:iL,clone:sL,datum:lL,on:hL,dispatch:mL,[Symbol.iterator]:yL};function jt(e){return typeof e=="string"?new Ot([[document.querySelector(e)]],[document.documentElement]):new Ot([[e]],EN)}function xL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jt(e,t){if(e=xL(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const wL={passive:!1},sa={capture:!0,passive:!1};function nc(e){e.stopImmediatePropagation()}function Ti(e){e.preventDefault(),e.stopImmediatePropagation()}function kN(e){var t=e.document.documentElement,n=jt(e).on("dragstart.drag",Ti,sa);"onselectstart"in t?n.on("selectstart.drag",Ti,sa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function CN(e,t){var n=e.document.documentElement,r=jt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ti,sa),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rs=e=>()=>e;function pm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}pm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _L(e){return!e.ctrlKey&&!e.button}function bL(){return this.parentNode}function SL(e,t){return t??{x:e.x,y:e.y}}function EL(){return navigator.maxTouchPoints||"ontouchstart"in this}function NN(){var e=_L,t=bL,n=SL,r=EL,i={},o=Vl("start","drag","end"),a=0,s,l,u,c,f=0;function d(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,wL).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,k){if(!(c||!e.call(this,b,k))){var _=y(this,t.call(this,b,k),b,k,"mouse");_&&(jt(b.view).on("mousemove.drag",p,sa).on("mouseup.drag",m,sa),kN(b.view),nc(b),u=!1,s=b.clientX,l=b.clientY,_("start",b))}}function p(b){if(Ti(b),!u){var k=b.clientX-s,_=b.clientY-l;u=k*k+_*_>f}i.mouse("drag",b)}function m(b){jt(b.view).on("mousemove.drag mouseup.drag",null),CN(b.view,u),Ti(b),i.mouse("end",b)}function w(b,k){if(e.call(this,b,k)){var _=b.changedTouches,E=t.call(this,b,k),P=_.length,M,z;for(M=0;M<P;++M)(z=y(this,E,b,k,_[M].identifier,_[M]))&&(nc(b),z("start",b,_[M]))}}function g(b){var k=b.changedTouches,_=k.length,E,P;for(E=0;E<_;++E)(P=i[k[E].identifier])&&(Ti(b),P("drag",b,k[E]))}function x(b){var k=b.changedTouches,_=k.length,E,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<_;++E)(P=i[k[E].identifier])&&(nc(b),P("end",b,k[E]))}function y(b,k,_,E,P,M){var z=o.copy(),T=Jt(M||_,k),O,q,I;if((I=n.call(b,new pm("beforestart",{sourceEvent:_,target:d,identifier:P,active:a,x:T[0],y:T[1],dx:0,dy:0,dispatch:z}),E))!=null)return O=I.x-T[0]||0,q=I.y-T[1]||0,function A(D,R,C){var j=T,S;switch(D){case"start":i[P]=A,S=a++;break;case"end":delete i[P],--a;case"drag":T=Jt(C||R,k),S=a;break}z.call(D,b,new pm(D,{sourceEvent:R,subject:I,target:d,identifier:P,active:S,x:T[0]+O,y:T[1]+q,dx:T[0]-j[0],dy:T[1]-j[1],dispatch:z}),E)}}return d.filter=function(b){return arguments.length?(e=typeof b=="function"?b:rs(!!b),d):e},d.container=function(b){return arguments.length?(t=typeof b=="function"?b:rs(b),d):t},d.subject=function(b){return arguments.length?(n=typeof b=="function"?b:rs(b),d):n},d.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:rs(!!b),d):r},d.on=function(){var b=o.on.apply(o,arguments);return b===o?d:b},d.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,d):Math.sqrt(f)},d}function Oy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function TN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ka(){}var la=.7,ul=1/la,Pi="\\s*([+-]?\\d+)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kL=/^#([0-9a-f]{3,8})$/,CL=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),NL=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),TL=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${ua}\\)$`),PL=new RegExp(`^rgba\\(${_n},${_n},${_n},${ua}\\)$`),IL=new RegExp(`^hsl\\(${ua},${_n},${_n}\\)$`),jL=new RegExp(`^hsla\\(${ua},${_n},${_n},${ua}\\)$`),X0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oy(ka,Gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Q0,formatHex:Q0,formatHex8:AL,formatHsl:RL,formatRgb:Z0,toString:Z0});function Q0(){return this.rgb().formatHex()}function AL(){return this.rgb().formatHex8()}function RL(){return PN(this).formatHsl()}function Z0(){return this.rgb().formatRgb()}function Gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?J0(t):n===3?new xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?is(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?is(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CL.exec(e))?new xt(t[1],t[2],t[3],1):(t=NL.exec(e))?new xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TL.exec(e))?is(t[1],t[2],t[3],t[4]):(t=PL.exec(e))?is(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IL.exec(e))?nx(t[1],t[2]/100,t[3]/100,1):(t=jL.exec(e))?nx(t[1],t[2]/100,t[3]/100,t[4]):X0.hasOwnProperty(e)?J0(X0[e]):e==="transparent"?new xt(NaN,NaN,NaN,0):null}function J0(e){return new xt(e>>16&255,e>>8&255,e&255,1)}function is(e,t,n,r){return r<=0&&(e=t=n=NaN),new xt(e,t,n,r)}function ML(e){return e instanceof ka||(e=Gr(e)),e?(e=e.rgb(),new xt(e.r,e.g,e.b,e.opacity)):new xt}function gm(e,t,n,r){return arguments.length===1?ML(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Oy(xt,gm,TN(ka,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?la:Math.pow(la,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xt(qr(this.r),qr(this.g),qr(this.b),cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ex,formatHex:ex,formatHex8:LL,formatRgb:tx,toString:tx}));function ex(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function LL(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function tx(){const e=cl(this.opacity);return`${e===1?"rgb(":"rgba("}${qr(this.r)}, ${qr(this.g)}, ${qr(this.b)}${e===1?")":`, ${e})`}`}function cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lr(e){return e=qr(e),(e<16?"0":"")+e.toString(16)}function nx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,n,r)}function PN(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof ka||(e=Gr(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new tn(a,s,l,e.opacity)}function OL(e,t,n,r){return arguments.length===1?PN(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Oy(tn,OL,TN(ka,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?la:Math.pow(la,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xt(rc(e>=240?e-240:e+120,i,r),rc(e,i,r),rc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tn(rx(this.h),os(this.s),os(this.l),cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cl(this.opacity);return`${e===1?"hsl(":"hsla("}${rx(this.h)}, ${os(this.s)*100}%, ${os(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rx(e){return e=(e||0)%360,e<0?e+360:e}function os(e){return Math.max(0,Math.min(1,e||0))}function rc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dy=e=>()=>e;function DL(e,t){return function(n){return e+n*t}}function zL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qL(e){return(e=+e)==1?IN:function(t,n){return n-t?zL(t,n,e):Dy(isNaN(t)?n:t)}}function IN(e,t){var n=t-e;return n?DL(e,n):Dy(isNaN(e)?t:e)}const fl=function e(t){var n=qL(t);function r(i,o){var a=n((i=gm(i)).r,(o=gm(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=IN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function $L(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function FL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=zo(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function HL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function VL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ic=new RegExp(mm.source,"g");function UL(e){return function(){return e}}function GL(e){return function(t){return e(t)+""}}function jN(e,t){var n=mm.lastIndex=ic.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=mm.exec(e))&&(i=ic.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:gn(r,i)})),n=ic.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?GL(l[0].x):UL(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function zo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dy(t):(n==="number"?gn:n==="string"?(r=Gr(t))?(t=r,fl):jN:t instanceof Gr?fl:t instanceof Date?HL:FL(t)?$L:Array.isArray(t)?BL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VL:gn)(e,t)}var ix=180/Math.PI,ym={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AN(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ix,skewX:Math.atan(l)*ix,scaleX:a,scaleY:s}}var as;function WL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ym:AN(t.a,t.b,t.c,t.d,t.e,t.f)}function YL(e){return e==null||(as||(as=document.createElementNS("http://www.w3.org/2000/svg","g")),as.setAttribute("transform",e),!(e=as.transform.baseVal.consolidate()))?ym:(e=e.matrix,AN(e.a,e.b,e.c,e.d,e.e,e.f))}function RN(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:gn(u,f)},{i:m-2,x:gn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:gn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:gn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:gn(u,f)},{i:m-2,x:gn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,m=d.length,w;++p<m;)f[(w=d[p]).i]=w.x(h);return f.join("")}}}var KL=RN(WL,"px, ","px)","deg)"),XL=RN(YL,", ",")",")"),QL=1e-12;function ox(e){return((e=Math.exp(e))+1/e)/2}function ZL(e){return((e=Math.exp(e))-1/e)/2}function JL(e){return((e=Math.exp(2*e))-1)/(e+1)}const As=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,m=h*h+p*p,w,g;if(m<QL)g=Math.log(d/u)/t,w=function(E){return[s+E*h,l+E*p,u*Math.exp(t*E*g)]};else{var x=Math.sqrt(m),y=(d*d-u*u+r*m)/(2*u*n*x),b=(d*d-u*u-r*m)/(2*d*n*x),k=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(b*b+1)-b);g=(_-k)/t,w=function(E){var P=E*g,M=ox(k),z=u/(n*x)*(M*JL(t*P+k)-ZL(k));return[s+z*h,l+z*p,u*M/ox(t*P+k)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var $i=0,wo=0,fo=0,MN=1e3,dl,_o,hl=0,Wr=0,Gl=0,ca=typeof performance=="object"&&performance.now?performance:Date,LN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zy(){return Wr||(LN(eO),Wr=ca.now()+Gl)}function eO(){Wr=0}function pl(){this._call=this._time=this._next=null}pl.prototype=ON.prototype={constructor:pl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zy():+n)+(t==null?0:+t),!this._next&&_o!==this&&(_o?_o._next=this:dl=this,_o=this),this._call=e,this._time=n,vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,vm())}};function ON(e,t,n){var r=new pl;return r.restart(e,t,n),r}function tO(){zy(),++$i;for(var e=dl,t;e;)(t=Wr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$i}function ax(){Wr=(hl=ca.now())+Gl,$i=wo=0;try{tO()}finally{$i=0,rO(),Wr=0}}function nO(){var e=ca.now(),t=e-hl;t>MN&&(Gl-=t,hl=e)}function rO(){for(var e,t=dl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dl=n);_o=e,vm(r)}function vm(e){if(!$i){wo&&(wo=clearTimeout(wo));var t=e-Wr;t>24?(e<1/0&&(wo=setTimeout(ax,e-ca.now()-Gl)),fo&&(fo=clearInterval(fo))):(fo||(hl=ca.now(),fo=setInterval(nO,MN)),$i=1,LN(ax))}}function sx(e,t,n){var r=new pl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var iO=Vl("start","end","cancel","interrupt"),oO=[],DN=0,lx=1,xm=2,Rs=3,ux=4,wm=5,Ms=6;function Wl(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;aO(e,n,{name:t,index:r,group:i,on:iO,tween:oO,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:DN})}function qy(e,t){var n=un(e,t);if(n.state>DN)throw new Error("too late; already scheduled");return n}function En(e,t){var n=un(e,t);if(n.state>Rs)throw new Error("too late; already running");return n}function un(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function aO(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ON(o,0,n.time);function o(u){n.state=lx,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==lx)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Rs)return sx(a);h.state===ux?(h.state=Ms,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ms,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(sx(function(){n.state===Rs&&(n.state=ux,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=xm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===xm){for(n.state=Rs,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=wm,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===wm&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ms,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ls(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>xm&&r.state<wm,r.state=Ms,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function sO(e){return this.each(function(){Ls(this,e)})}function lO(e,t){var n,r;return function(){var i=En(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function uO(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=En(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function cO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=un(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?lO:uO)(n,e,t))}function $y(e,t,n){var r=e._id;return e.each(function(){var i=En(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return un(i,r).value[t]}}function zN(e,t){var n;return(typeof t=="number"?gn:t instanceof Gr?fl:(n=Gr(t))?(t=n,fl):jN)(e,t)}function fO(e){return function(){this.removeAttribute(e)}}function dO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function pO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function gO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function mO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function yO(e,t){var n=Ul(e),r=n==="transform"?XL:zN;return this.attrTween(e,typeof t=="function"?(n.local?mO:gO)(n,r,$y(this,"attr."+e,t)):t==null?(n.local?dO:fO)(n):(n.local?pO:hO)(n,r,t))}function vO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wO(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xO(e,o)),n}return i._value=t,i}function _O(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vO(e,o)),n}return i._value=t,i}function bO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ul(e);return this.tween(n,(r.local?wO:_O)(r,t))}function SO(e,t){return function(){qy(this,e).delay=+t.apply(this,arguments)}}function EO(e,t){return t=+t,function(){qy(this,e).delay=t}}function kO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SO:EO)(t,e)):un(this.node(),t).delay}function CO(e,t){return function(){En(this,e).duration=+t.apply(this,arguments)}}function NO(e,t){return t=+t,function(){En(this,e).duration=t}}function TO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CO:NO)(t,e)):un(this.node(),t).duration}function PO(e,t){if(typeof t!="function")throw new Error;return function(){En(this,e).ease=t}}function IO(e){var t=this._id;return arguments.length?this.each(PO(t,e)):un(this.node(),t).ease}function jO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;En(this,e).ease=n}}function AO(e){if(typeof e!="function")throw new Error;return this.each(jO(this._id,e))}function RO(e){typeof e!="function"&&(e=gN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new $n(r,this._parents,this._name,this._id)}function MO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new $n(a,this._parents,this._name,this._id)}function LO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function OO(e,t,n){var r,i,o=LO(t)?qy:En;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function DO(e,t){var n=this._id;return arguments.length<2?un(this.node(),n).on.on(e):this.each(OO(n,e,t))}function zO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qO(){return this.on("end.remove",zO(this._id))}function $O(e){var t=this._name,n=this._id;typeof e!="function"&&(e=My(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Wl(u[d],t,n,d,u,un(c,n)));return new $n(o,this._parents,t,n)}function FO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pN(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=un(c,n),m=0,w=d.length;m<w;++m)(h=d[m])&&Wl(h,t,n,m,d,p);o.push(d),a.push(c)}return new $n(o,a,t,n)}var BO=Ea.prototype.constructor;function HO(){return new BO(this._groups,this._parents)}function VO(e,t){var n,r,i;return function(){var o=qi(this,e),a=(this.style.removeProperty(e),qi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function qN(e){return function(){this.style.removeProperty(e)}}function UO(e,t,n){var r,i=n+"",o;return function(){var a=qi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function GO(e,t,n){var r,i,o;return function(){var a=qi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),qi(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function WO(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=En(this,e),u=l.on,c=l.value[o]==null?s||(s=qN(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function YO(e,t,n){var r=(e+="")=="transform"?KL:zN;return t==null?this.styleTween(e,VO(e,r)).on("end.style."+e,qN(e)):typeof t=="function"?this.styleTween(e,GO(e,r,$y(this,"style."+e,t))).each(WO(this._id,e)):this.styleTween(e,UO(e,r,t),n).on("end.style."+e,null)}function KO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function XO(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&KO(e,a,n)),r}return o._value=t,o}function QO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,XO(e,t,n??""))}function ZO(e){return function(){this.textContent=e}}function JO(e){return function(){var t=e(this);this.textContent=t??""}}function e4(e){return this.tween("text",typeof e=="function"?JO($y(this,"text",e)):ZO(e==null?"":e+""))}function t4(e){return function(t){this.textContent=e.call(this,t)}}function n4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&t4(i)),t}return r._value=e,r}function r4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,n4(e))}function i4(){for(var e=this._name,t=this._id,n=$N(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=un(l,t);Wl(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $n(r,this._parents,e,n)}function o4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=En(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var a4=0;function $n(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $N(){return++a4}var Cn=Ea.prototype;$n.prototype={constructor:$n,select:$O,selectAll:FO,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:RO,merge:MO,selection:HO,transition:i4,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:DO,attr:yO,attrTween:bO,style:YO,styleTween:QO,text:e4,textTween:r4,remove:qO,tween:cO,delay:kO,duration:TO,ease:IO,easeVarying:AO,end:o4,[Symbol.iterator]:Cn[Symbol.iterator]};function s4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var l4={time:null,delay:0,duration:250,ease:s4};function u4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function c4(e){var t,n;e instanceof $n?(t=e._id,e=e._name):(t=$N(),(n=l4).time=zy(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Wl(l,e,t,u,a,n||u4(l,t));return new $n(r,this._parents,e,t)}Ea.prototype.interrupt=sO;Ea.prototype.transition=c4;const ss=e=>()=>e;function f4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function An(e,t,n){this.k=e,this.x=t,this.y=n}An.prototype={constructor:An,scale:function(e){return e===1?this:new An(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new An(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yl=new An(1,0,0);FN.prototype=An.prototype;function FN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Yl;return e.__zoom}function oc(e){e.stopImmediatePropagation()}function ho(e){e.preventDefault(),e.stopImmediatePropagation()}function d4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function h4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function cx(){return this.__zoom||Yl}function p4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g4(){return navigator.maxTouchPoints||"ontouchstart"in this}function m4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function BN(){var e=d4,t=h4,n=m4,r=p4,i=g4,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=As,u=Vl("start","zoom","end"),c,f,d,h=500,p=150,m=0,w=10;function g(I){I.property("__zoom",cx).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(I,A,D,R){var C=I.selection?I.selection():I;C.property("__zoom",cx),I!==C?k(I,A,D,R):C.interrupt().each(function(){_(this,arguments).event(R).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(I,A,D,R){g.scaleTo(I,function(){var C=this.__zoom.k,j=typeof A=="function"?A.apply(this,arguments):A;return C*j},D,R)},g.scaleTo=function(I,A,D,R){g.transform(I,function(){var C=t.apply(this,arguments),j=this.__zoom,S=D==null?b(C):typeof D=="function"?D.apply(this,arguments):D,$=j.invert(S),F=typeof A=="function"?A.apply(this,arguments):A;return n(y(x(j,F),S,$),C,a)},D,R)},g.translateBy=function(I,A,D,R){g.transform(I,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,R)},g.translateTo=function(I,A,D,R,C){g.transform(I,function(){var j=t.apply(this,arguments),S=this.__zoom,$=R==null?b(j):typeof R=="function"?R.apply(this,arguments):R;return n(Yl.translate($[0],$[1]).scale(S.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof D=="function"?-D.apply(this,arguments):-D),j,a)},R,C)};function x(I,A){return A=Math.max(o[0],Math.min(o[1],A)),A===I.k?I:new An(A,I.x,I.y)}function y(I,A,D){var R=A[0]-D[0]*I.k,C=A[1]-D[1]*I.k;return R===I.x&&C===I.y?I:new An(I.k,R,C)}function b(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function k(I,A,D,R){I.on("start.zoom",function(){_(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(R).end()}).tween("zoom",function(){var C=this,j=arguments,S=_(C,j).event(R),$=t.apply(C,j),F=D==null?b($):typeof D=="function"?D.apply(C,j):D,N=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),H=C.__zoom,X=typeof A=="function"?A.apply(C,j):A,Y=l(H.invert(F).concat(N/H.k),X.invert(F).concat(N/X.k));return function(Q){if(Q===1)Q=X;else{var W=Y(Q),ee=N/W[2];Q=new An(ee,F[0]-W[0]*ee,F[1]-W[1]*ee)}S.zoom(null,Q)}})}function _(I,A,D){return!D&&I.__zooming||new E(I,A)}function E(I,A){this.that=I,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,A),this.taps=0}E.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,A){return this.mouse&&I!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var A=jt(this.that).datum();u.call(I,this.that,new f4(I,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),A)}};function P(I,...A){if(!e.apply(this,arguments))return;var D=_(this,A).event(I),R=this.__zoom,C=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),j=Jt(I);if(D.wheel)(D.mouse[0][0]!==j[0]||D.mouse[0][1]!==j[1])&&(D.mouse[1]=R.invert(D.mouse[0]=j)),clearTimeout(D.wheel);else{if(R.k===C)return;D.mouse=[j,R.invert(j)],Ls(this),D.start()}ho(I),D.wheel=setTimeout(S,p),D.zoom("mouse",n(y(x(R,C),D.mouse[0],D.mouse[1]),D.extent,a));function S(){D.wheel=null,D.end()}}function M(I,...A){if(d||!e.apply(this,arguments))return;var D=I.currentTarget,R=_(this,A,!0).event(I),C=jt(I.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",N,!0),j=Jt(I,D),S=I.clientX,$=I.clientY;kN(I.view),oc(I),R.mouse=[j,this.__zoom.invert(j)],Ls(this),R.start();function F(H){if(ho(H),!R.moved){var X=H.clientX-S,Y=H.clientY-$;R.moved=X*X+Y*Y>m}R.event(H).zoom("mouse",n(y(R.that.__zoom,R.mouse[0]=Jt(H,D),R.mouse[1]),R.extent,a))}function N(H){C.on("mousemove.zoom mouseup.zoom",null),CN(H.view,R.moved),ho(H),R.event(H).end()}}function z(I,...A){if(e.apply(this,arguments)){var D=this.__zoom,R=Jt(I.changedTouches?I.changedTouches[0]:I,this),C=D.invert(R),j=D.k*(I.shiftKey?.5:2),S=n(y(x(D,j),R,C),t.apply(this,A),a);ho(I),s>0?jt(this).transition().duration(s).call(k,S,R,I):jt(this).call(g.transform,S,R,I)}}function T(I,...A){if(e.apply(this,arguments)){var D=I.touches,R=D.length,C=_(this,A,I.changedTouches.length===R).event(I),j,S,$,F;for(oc(I),S=0;S<R;++S)$=D[S],F=Jt($,this),F=[F,this.__zoom.invert(F),$.identifier],C.touch0?!C.touch1&&C.touch0[2]!==F[2]&&(C.touch1=F,C.taps=0):(C.touch0=F,j=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),j&&(C.taps<2&&(f=F[0],c=setTimeout(function(){c=null},h)),Ls(this),C.start())}}function O(I,...A){if(this.__zooming){var D=_(this,A).event(I),R=I.changedTouches,C=R.length,j,S,$,F;for(ho(I),j=0;j<C;++j)S=R[j],$=Jt(S,this),D.touch0&&D.touch0[2]===S.identifier?D.touch0[0]=$:D.touch1&&D.touch1[2]===S.identifier&&(D.touch1[0]=$);if(S=D.that.__zoom,D.touch1){var N=D.touch0[0],H=D.touch0[1],X=D.touch1[0],Y=D.touch1[1],Q=(Q=X[0]-N[0])*Q+(Q=X[1]-N[1])*Q,W=(W=Y[0]-H[0])*W+(W=Y[1]-H[1])*W;S=x(S,Math.sqrt(Q/W)),$=[(N[0]+X[0])/2,(N[1]+X[1])/2],F=[(H[0]+Y[0])/2,(H[1]+Y[1])/2]}else if(D.touch0)$=D.touch0[0],F=D.touch0[1];else return;D.zoom("touch",n(y(S,$,F),D.extent,a))}}function q(I,...A){if(this.__zooming){var D=_(this,A).event(I),R=I.changedTouches,C=R.length,j,S;for(oc(I),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),j=0;j<C;++j)S=R[j],D.touch0&&D.touch0[2]===S.identifier?delete D.touch0:D.touch1&&D.touch1[2]===S.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(S=Jt(S,this),Math.hypot(f[0]-S[0],f[1]-S[1])<w)){var $=jt(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return g.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:ss(+I),g):r},g.filter=function(I){return arguments.length?(e=typeof I=="function"?I:ss(!!I),g):e},g.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:ss(!!I),g):i},g.extent=function(I){return arguments.length?(t=typeof I=="function"?I:ss([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),g):t},g.scaleExtent=function(I){return arguments.length?(o[0]=+I[0],o[1]=+I[1],g):[o[0],o[1]]},g.translateExtent=function(I){return arguments.length?(a[0][0]=+I[0][0],a[1][0]=+I[1][0],a[0][1]=+I[0][1],a[1][1]=+I[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(I){return arguments.length?(n=I,g):n},g.duration=function(I){return arguments.length?(s=+I,g):s},g.interpolate=function(I){return arguments.length?(l=I,g):l},g.on=function(){var I=u.on.apply(u,arguments);return I===u?g:I},g.clickDistance=function(I){return arguments.length?(m=(I=+I)*I,g):Math.sqrt(m)},g.tapDistance=function(I){return arguments.length?(w=+I,g):w},g}const bn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},fa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],HN=["Enter"," ","Escape"],VN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Fi;(function(e){e.Strict="strict",e.Loose="loose"})(Fi||(Fi={}));var $r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($r||($r={}));var da;(function(e){e.Partial="partial",e.Full="full"})(da||(da={}));const UN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var tr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(tr||(tr={}));var gl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gl||(gl={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const fx={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function GN(e){return e===null?null:e?"valid":"invalid"}const WN=e=>"id"in e&&"source"in e&&"target"in e,y4=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ca=(e,t=[0,0])=>{const{width:n,height:r}=Hn(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},v4=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):Fy(i)?i:t.nodeLookup.get(i.id));const s=a?ml(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Kl(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Xl(n)},Na=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Kl(n,ml(i)),r=!0)}),r?Xl(n):{x:0,y:0,width:0,height:0}},By=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...Pa(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,p=c.height??u.height??u.initialHeight??null,m=ha(s,Hi(u)),w=(h??0)*(p??0),g=o&&m>0;(!u.internals.handleBounds||g||m>=w||u.dragging)&&l.push(u)}return l},x4=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function w4(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function _4({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!0);const s=w4(e,a),l=Na(s),u=Hy(l,t,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function YN({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",bn.error005());else{const h=s.measured.width,p=s.measured.height;h&&p&&(f=[[l,u],[l+h,u+p]])}else s&&Vi(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=Vi(f)?Yr(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(o==null||o("015",bn.error015())),{position:{x:d.x-l+(a.measured.width??0)*c[0],y:d.y-u+(a.measured.height??0)*c[1]},positionAbsolute:d}}async function b4({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const h=o.has(d.id),p=!h&&d.parentId&&a.find(m=>m.id===d.parentId);(h||p)&&a.push(d)}const s=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=x4(a,l);for(const d of l)s.has(d.id)&&!c.find(p=>p.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:a};const f=await i({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const Bi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yr=(e={x:0,y:0},t,n)=>({x:Bi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Bi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function KN(e,t,n){const{width:r,height:i}=Hn(n),{x:o,y:a}=n.internals.positionAbsolute;return Yr(e,[[o,a],[o+r,a+i]],t)}const dx=(e,t,n)=>e<t?Bi(Math.abs(e-t),1,t)/t:e>n?-Bi(Math.abs(e-n),1,t)/t:0,XN=(e,t,n=15,r=40)=>{const i=dx(e.x,r,t.width-r)*n,o=dx(e.y,r,t.height-r)*n;return[i,o]},Kl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_m=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Xl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Hi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Fy(e)?e.internals.positionAbsolute:Ca(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},ml=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Fy(e)?e.internals.positionAbsolute:Ca(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},QN=(e,t)=>Xl(Kl(_m(e),_m(t))),ha=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},hx=e=>nn(e.width)&&nn(e.height)&&nn(e.x)&&nn(e.y),nn=e=>!isNaN(e)&&isFinite(e),S4=(e,t)=>{},Ta=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Pa=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Ta(s,a):s},yl=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function oi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function E4(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=oi(e,n),i=oi(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=oi(e.top??e.y??0,n),i=oi(e.bottom??e.y??0,n),o=oi(e.left??e.x??0,t),a=oi(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function k4(e,t,n,r,i,o){const{x:a,y:s}=yl(e,[t,n,r]),{x:l,y:u}=yl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-l,f=o-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(f)}}const Hy=(e,t,n,r,i,o)=>{const a=E4(o,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,u=Math.min(s,l),c=Bi(u,r,i),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,p=n/2-d*c,m=k4(e,h,p,c,t,n),w={left:Math.min(m.left-a.left,0),top:Math.min(m.top-a.top,0),right:Math.min(m.right-a.right,0),bottom:Math.min(m.bottom-a.bottom,0)};return{x:h-w.left+w.right,y:p-w.top+w.bottom,zoom:c}},pa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Vi(e){return e!=null&&e!=="parent"}function Hn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ZN(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function JN(e,t={width:0,height:0},n,r,i){const o={...e},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function px(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function C4(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function N4(e){return{...VN,...e||{}}}function qo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=rn(e),s=Pa({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?Ta(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Vy=e=>({width:e.offsetWidth,height:e.offsetHeight}),e2=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},T4=["INPUT","SELECT","TEXTAREA"];function t2(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:T4.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const n2=e=>"clientX"in e,rn=(e,t)=>{var o,a;const n=n2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},gx=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Vy(a)}})};function r2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function ls(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function mx({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case K.Left:return[t-ls(t-r,o),n];case K.Right:return[t+ls(r-t,o),n];case K.Top:return[t,n-ls(n-i,o)];case K.Bottom:return[t,n+ls(i-n,o)]}}function i2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,curvature:a=.25}){const[s,l]=mx({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,c]=mx({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[f,d,h,p]=r2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${i}`,f,d,h,p]}function o2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function P4({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const a=i&&n?r+1e3:r,s=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return a+s}function I4({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Kl(ml(e),ml(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ha(a,Xl(o))>0}const j4=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,A4=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),R4=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||j4;let i;return WN(e)?i={...e}:i={...e,id:r(e)},A4(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function a2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=o2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const yx={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},M4=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},vx=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function L4({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:o,stepPosition:a}){const s=yx[t],l=yx[r],u={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+l.x*o,y:n.y+l.y*o},f=M4({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let p=[],m,w;const g={x:0,y:0},x={x:0,y:0},[,,y,b]=o2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){d==="x"?(m=i.x??u.x+(c.x-u.x)*a,w=i.y??(u.y+c.y)/2):(m=i.x??(u.x+c.x)/2,w=i.y??u.y+(c.y-u.y)*a);const _=[{x:m,y:u.y},{x:m,y:c.y}],E=[{x:u.x,y:w},{x:c.x,y:w}];s[d]===h?p=d==="x"?_:E:p=d==="x"?E:_}else{const _=[{x:u.x,y:c.y}],E=[{x:c.x,y:u.y}];if(d==="x"?p=s.x===h?E:_:p=s.y===h?_:E,t===r){const O=Math.abs(e[d]-n[d]);if(O<=o){const q=Math.min(o-1,o-O);s[d]===h?g[d]=(u[d]>e[d]?-1:1)*q:x[d]=(c[d]>n[d]?-1:1)*q}}if(t!==r){const O=d==="x"?"y":"x",q=s[d]===l[O],I=u[O]>c[O],A=u[O]<c[O];(s[d]===1&&(!q&&I||q&&A)||s[d]!==1&&(!q&&A||q&&I))&&(p=d==="x"?_:E)}const P={x:u.x+g.x,y:u.y+g.y},M={x:c.x+x.x,y:c.y+x.y},z=Math.max(Math.abs(P.x-p[0].x),Math.abs(M.x-p[0].x)),T=Math.max(Math.abs(P.y-p[0].y),Math.abs(M.y-p[0].y));z>=T?(m=(P.x+M.x)/2,w=p[0].y):(m=p[0].x,w=(P.y+M.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:c.x+x.x,y:c.y+x.y},n],m,w,y,b]}function O4(e,t,n,r){const i=Math.min(vx(e,t)/2,vx(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function vl({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,p,m]=L4({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u,stepPosition:c});return[f.reduce((g,x,y)=>{let b="";return y>0&&y<f.length-1?b=O4(f[y-1],x,f[y+1],a):b=`${y===0?"M":"L"}${x.x} ${x.y}`,g+=b,g},""),d,h,p,m]}function xx(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function D4(e){var f;const{sourceNode:t,targetNode:n}=e;if(!xx(t)||!xx(n))return null;const r=t.internals.handleBounds||wx(t.handles),i=n.internals.handleBounds||wx(n.handles),o=_x((r==null?void 0:r.source)??[],e.sourceHandle),a=_x(e.connectionMode===Fi.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!a)return(f=e.onError)==null||f.call(e,"008",bn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||K.Bottom,l=(a==null?void 0:a.position)||K.Top,u=Kr(t,o,s),c=Kr(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function wx(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kr(e,t,n=K.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Hn(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case K.Top:return{x:i+a/2,y:o};case K.Right:return{x:i+a,y:o+s/2};case K.Bottom:return{x:i+a/2,y:o+s};case K.Left:return{x:i,y:o+s/2}}}function _x(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function bm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function z4(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=bm(l,t);o.has(u)||(a.push({id:u,color:l.color||n,...l}),o.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const s2=1e3,q4=10,Uy={nodeOrigin:[0,0],nodeExtent:fa,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},$4={...Uy,checkEquality:!0};function Gy(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function F4(e,t,n){const r=Gy(Uy,n);for(const i of e.values())if(i.parentId)Yy(i,e,t,r);else{const o=Ca(i,r.nodeOrigin),a=Vi(i.extent)?i.extent:r.nodeExtent,s=Yr(o,a,Hn(i));i.internals.positionAbsolute=s}}function B4(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Wy(e){return e==="manual"}function Sm(e,t,n,r={}){var u,c;const i=Gy($4,r),o={i:0},a=new Map(t),s=i!=null&&i.elevateNodesOnSelect&&!Wy(i.zIndexMode)?s2:0;let l=e.length>0;t.clear(),n.clear();for(const f of e){let d=a.get(f.id);if(i.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const h=Ca(f,i.nodeOrigin),p=Vi(f.extent)?f.extent:i.nodeExtent,m=Yr(h,p,Hn(f));d={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(c=f.measured)==null?void 0:c.height},internals:{positionAbsolute:m,handleBounds:B4(f,d),z:l2(f,s,i.zIndexMode),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),f.parentId&&Yy(d,t,n,r,o)}return l}function H4(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Yy(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:s,zIndexMode:l}=Gy(Uy,r),u=e.parentId,c=t.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}H4(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&l==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*q4),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=o&&!Wy(l)?s2:0,{x:d,y:h,z:p}=V4(e,c,a,s,f,l),{positionAbsolute:m}=e.internals,w=d!==m.x||h!==m.y;(w||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:h}:m,z:p}})}function l2(e,t,n){const r=nn(e.zIndex)?e.zIndex:0;return Wy(n)?r:r+(e.selected?t:0)}function V4(e,t,n,r,i,o){const{x:a,y:s}=t.internals.positionAbsolute,l=Hn(e),u=Ca(e,n),c=Vi(e.extent)?Yr(u,e.extent,l):u;let f=Yr({x:a+c.x,y:s+c.y},r,l);e.extent==="parent"&&(f=KN(f,l,t));const d=l2(e,i,o),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function Ky(e,t,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const u=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??Hi(l),c=QN(u,s.rect);o.set(s.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:s,parent:l},u)=>{var y;const c=l.internals.positionAbsolute,f=Hn(l),d=l.origin??r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,p=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,m=Math.max(f.width,Math.round(s.width)),w=Math.max(f.height,Math.round(s.height)),g=(m-f.width)*d[0],x=(w-f.height)*d[1];(h>0||p>0||g||x)&&(i.push({id:u,type:"position",position:{x:l.position.x-h+g,y:l.position.y-p+x}}),(y=n.get(u))==null||y.forEach(b=>{e.some(k=>k.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+h,y:b.position.y+p}})})),(f.width<s.width||f.height<s.height||h||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?d[0]*h-g:0),height:w+(p?d[1]*p-x:0)}})}),i}function U4(e,t,n,r,i,o,a){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const u=[],c=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),l=!0;continue}const m=Vy(h.nodeElement),w=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(w||!p.internals.handleBounds||h.force))){const x=h.nodeElement.getBoundingClientRect(),y=Vi(p.extent)?p.extent:o;let{positionAbsolute:b}=p.internals;p.parentId&&p.extent==="parent"?b=KN(b,m,t.get(p.parentId)):y&&(b=Yr(b,y,m));const k={...p,measured:m,internals:{...p.internals,positionAbsolute:b,handleBounds:{source:gx("source",h.nodeElement,x,f,p.id),target:gx("target",h.nodeElement,x,f,p.id)}}};t.set(p.id,k),p.parentId&&Yy(k,t,n,{nodeOrigin:i,zIndexMode:a}),l=!0,w&&(u.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Hi(k,i)}))}}if(d.length>0){const h=Ky(d,t,n,i);u.push(...h)}return{changes:u,updatedInternals:l}}async function G4({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function bx(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),o){a=`${i}-${e}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function u2(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;bx("source",l,c,e,i,a),bx("target",l,u,e,o,s),t.set(r.id,r)}}function c2(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:c2(n,t):!1}function Sx(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function W4(e,t,n,r){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!c2(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function ac({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,l;const i=[];for(const[u,c]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(s=n.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Y4({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},a=Ta(o,t);return{x:a.x-o.x,y:a.y-o.y}}function K4({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,p=!1,m=null;function w({noDragClassName:x,handleSelector:y,domNode:b,isSelectable:k,nodeId:_,nodeClickDistance:E=0}){d=jt(b);function P({x:O,y:q}){const{nodeLookup:I,nodeExtent:A,snapGrid:D,snapToGrid:R,nodeOrigin:C,onNodeDrag:j,onSelectionDrag:S,onError:$,updateNodePositions:F}=t();o={x:O,y:q};let N=!1;const H=s.size>1,X=H&&A?_m(Na(s)):null,Y=H&&R?Y4({dragItems:s,snapGrid:D,x:O,y:q}):null;for(const[Q,W]of s){if(!I.has(Q))continue;let ee={x:O-W.distance.x,y:q-W.distance.y};R&&(ee=Y?{x:Math.round(ee.x+Y.x),y:Math.round(ee.y+Y.y)}:Ta(ee,D));let le=null;if(H&&A&&!W.extent&&X){const{positionAbsolute:ie}=W.internals,ge=ie.x-X.x+A[0][0],ne=ie.x+W.measured.width-X.x2+A[1][0],fe=ie.y-X.y+A[0][1],se=ie.y+W.measured.height-X.y2+A[1][1];le=[[ge,fe],[ne,se]]}const{position:oe,positionAbsolute:te}=YN({nodeId:Q,nextPosition:ee,nodeLookup:I,nodeExtent:le||A,nodeOrigin:C,onError:$});N=N||W.position.x!==oe.x||W.position.y!==oe.y,W.position=oe,W.internals.positionAbsolute=te}if(p=p||N,!!N&&(F(s,!0),m&&(r||j||!_&&S))){const[Q,W]=ac({nodeId:_,dragItems:s,nodeLookup:I});r==null||r(m,s,Q,W),j==null||j(m,Q,W),_||S==null||S(m,W)}}async function M(){if(!c)return;const{transform:O,panBy:q,autoPanSpeed:I,autoPanOnNodeDrag:A}=t();if(!A){l=!1,cancelAnimationFrame(a);return}const[D,R]=XN(u,c,I);(D!==0||R!==0)&&(o.x=(o.x??0)-D/O[2],o.y=(o.y??0)-R/O[2],await q({x:D,y:R})&&P(o)),a=requestAnimationFrame(M)}function z(O){var H;const{nodeLookup:q,multiSelectionActive:I,nodesDraggable:A,transform:D,snapGrid:R,snapToGrid:C,selectNodesOnDrag:j,onNodeDragStart:S,onSelectionDragStart:$,unselectNodesAndEdges:F}=t();f=!0,(!j||!k)&&!I&&_&&((H=q.get(_))!=null&&H.selected||F()),k&&j&&_&&(e==null||e(_));const N=qo(O.sourceEvent,{transform:D,snapGrid:R,snapToGrid:C,containerBounds:c});if(o=N,s=W4(q,A,N,_),s.size>0&&(n||S||!_&&$)){const[X,Y]=ac({nodeId:_,dragItems:s,nodeLookup:q});n==null||n(O.sourceEvent,s,X,Y),S==null||S(O.sourceEvent,X,Y),_||$==null||$(O.sourceEvent,Y)}}const T=NN().clickDistance(E).on("start",O=>{const{domNode:q,nodeDragThreshold:I,transform:A,snapGrid:D,snapToGrid:R}=t();c=(q==null?void 0:q.getBoundingClientRect())||null,h=!1,p=!1,m=O.sourceEvent,I===0&&z(O),o=qo(O.sourceEvent,{transform:A,snapGrid:D,snapToGrid:R,containerBounds:c}),u=rn(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:q,transform:I,snapGrid:A,snapToGrid:D,nodeDragThreshold:R,nodeLookup:C}=t(),j=qo(O.sourceEvent,{transform:I,snapGrid:A,snapToGrid:D,containerBounds:c});if(m=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||_&&!C.has(_))&&(h=!0),!h){if(!l&&q&&f&&(l=!0,M()),!f){const S=rn(O.sourceEvent,c),$=S.x-u.x,F=S.y-u.y;Math.sqrt($*$+F*F)>R&&z(O)}(o.x!==j.xSnapped||o.y!==j.ySnapped)&&s&&f&&(u=rn(O.sourceEvent,c),P(j))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:q,updateNodePositions:I,onNodeDragStop:A,onSelectionDragStop:D}=t();if(p&&(I(s,!1),p=!1),i||A||!_&&D){const[R,C]=ac({nodeId:_,dragItems:s,nodeLookup:q,dragging:!1});i==null||i(O.sourceEvent,s,R,C),A==null||A(O.sourceEvent,R,C),_||D==null||D(O.sourceEvent,C)}}}).filter(O=>{const q=O.target;return!O.button&&(!x||!Sx(q,`.${x}`,b))&&(!y||Sx(q,y,b))});d.call(T)}function g(){d==null||d.on(".drag",null)}return{update:w,destroy:g}}function X4(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())ha(i,Hi(o))>0&&r.push(o);return r}const Q4=250;function Z4(e,t,n,r){var s,l;let i=[],o=1/0;const a=X4(e,n,t+Q4);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Kr(u,f,f.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<o?(i=[{...f,x:d,y:h}],o=p):p===o&&i.push({...f,x:d,y:h}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function f2(e,t,n,r,i,o=!1){var u,c,f;const a=r.get(e);if(!a)return null;const s=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&o?{...l,...Kr(a,l,l.position,!0)}:l}function d2(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function J4(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const h2=()=>!0;function eD(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:m,onConnectEnd:w,isValidConnection:g=h2,onReconnectEnd:x,updateConnection:y,getTransform:b,getFromHandle:k,autoPanSpeed:_,dragThreshold:E=1,handleDomNode:P}){const M=e2(e.target);let z=0,T;const{x:O,y:q}=rn(e),I=d2(o,P),A=s==null?void 0:s.getBoundingClientRect();let D=!1;if(!A||!I)return;const R=f2(i,I,r,l,t);if(!R)return;let C=rn(e,A),j=!1,S=null,$=!1,F=null;function N(){if(!c||!A)return;const[oe,te]=XN(C,A,_);d({x:oe,y:te}),z=requestAnimationFrame(N)}const H={...R,nodeId:i,type:I,position:R.position},X=l.get(i);let Q={inProgress:!0,isValid:null,from:Kr(X,H,K.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:X,to:C,toHandle:null,toPosition:fx[H.position],toNode:null,pointer:C};function W(){D=!0,y(Q),p==null||p(e,{nodeId:i,handleId:r,handleType:I})}E===0&&W();function ee(oe){if(!D){const{x:se,y:Ge}=rn(oe),$e=se-O,pt=Ge-q;if(!($e*$e+pt*pt>E*E))return;W()}if(!k()||!H){le(oe);return}const te=b();C=rn(oe,A),T=Z4(Pa(C,te,!1,[1,1]),n,l,H),j||(N(),j=!0);const ie=p2(oe,{handle:T,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:g,doc:M,lib:u,flowId:f,nodeLookup:l});F=ie.handleDomNode,S=ie.connection,$=J4(!!T,ie.isValid);const ge=l.get(i),ne=ge?Kr(ge,H,K.Left,!0):Q.from,fe={...Q,from:ne,isValid:$,to:ie.toHandle&&$?yl({x:ie.toHandle.x,y:ie.toHandle.y},te):C,toHandle:ie.toHandle,toPosition:$&&ie.toHandle?ie.toHandle.position:fx[H.position],toNode:ie.toHandle?l.get(ie.toHandle.nodeId):null,pointer:C};y(fe),Q=fe}function le(oe){if(!("touches"in oe&&oe.touches.length>0)){if(D){(T||F)&&S&&$&&(m==null||m(S));const{inProgress:te,...ie}=Q,ge={...ie,toPosition:Q.toHandle?Q.toPosition:null};w==null||w(oe,ge),o&&(x==null||x(oe,ge))}h(),cancelAnimationFrame(z),j=!1,$=!1,S=null,F=null,M.removeEventListener("mousemove",ee),M.removeEventListener("mouseup",le),M.removeEventListener("touchmove",ee),M.removeEventListener("touchend",le)}}M.addEventListener("mousemove",ee),M.addEventListener("mouseup",le),M.addEventListener("touchmove",ee),M.addEventListener("touchend",le)}function p2(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:u=h2,nodeLookup:c}){const f=o==="target",d=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=rn(e),m=a.elementFromPoint(h,p),w=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:d,g={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=d2(void 0,w),y=w.getAttribute("data-nodeid"),b=w.getAttribute("data-handleid"),k=w.classList.contains("connectable"),_=w.classList.contains("connectableend");if(!y||!x)return g;const E={source:f?y:r,sourceHandle:f?b:i,target:f?r:y,targetHandle:f?i:b};g.connection=E;const M=k&&_&&(n===Fi.Strict?f&&x==="source"||!f&&x==="target":y!==r||b!==i);g.isValid=M&&u(E),g.toHandle=f2(y,x,b,c,n,!0)}return g}const Em={onPointerDown:eD,isValid:p2};function tD({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=jt(e);function o({translateExtent:s,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const b=n(),k=y.sourceEvent.ctrlKey&&pa()?10:1,_=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,E=b[2]*Math.pow(2,_*k);t.scaleTo(E)};let m=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(m=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},g=y=>{const b=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const k=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],_=[k[0]-m[0],k[1]-m[1]];m=k;const E=r()*Math.max(b[2],Math.log(b[2]))*(h?-1:1),P={x:b[0]-_[0]*E,y:b[1]-_[1]*E},M=[[0,0],[l,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:b[2]},M,s)},x=BN().on("start",w).on("zoom",f?g:null).on("zoom.wheel",d?p:null);i.call(x,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:Jt}}const Ql=e=>({x:e.x,y:e.y,zoom:e.k}),sc=({x:e,y:t,zoom:n})=>Yl.translate(e,t).scale(n),xi=(e,t)=>e.target.closest(`.${t}`),g2=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),nD=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,lc=(e,t=0,n=nD,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},m2=e=>{const t=e.ctrlKey&&pa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function rD({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(xi(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const w=Jt(c),g=m2(c),x=f*Math.pow(2,g);r.scaleTo(n,x,w,c);return}const d=c.deltaMode===1?20:1;let h=i===$r.Vertical?0:c.deltaX*d,p=i===$r.Horizontal?0:c.deltaY*d;!pa()&&c.shiftKey&&i!==$r.Vertical&&(h=c.deltaY*d,p=0),r.translateBy(n,-(h/f)*o,-(p/f)*o,{internal:!0});const m=Ql(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(c,m),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s==null||s(c,m))}}function iD({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",a=!t&&o&&!r.ctrlKey,s=xi(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}function oD({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Ql(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function aD({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;e.usedRightMouseButton=!!(n&&g2(t,e.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,Ql(o.transform)))}}function sD({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&g2(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const l=Ql(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,l)},n?150:0)}}}function lD({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u,connectionInProgress:c}){return f=>{var w;const d=e||t,h=n&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(xi(f,`${u}-flow__node`)||xi(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||a||c&&!p||xi(f,s)&&p||xi(f,l)&&(!p||i&&p&&!e)||!n&&f.ctrlKey&&p)return!1;if(!n&&f.type==="touchstart"&&((w=f.touches)==null?void 0:w.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&p||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&m}}function uD({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),f=BN().scaleExtent([t,n]).translateExtent(r),d=jt(e).call(f);x({x:i.x,y:i.y,zoom:Bi(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const h=d.on("wheel.zoom"),p=d.on("dblclick.zoom");f.wheelDelta(m2);function m(T,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).transform(lc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),T)}):Promise.resolve(!1)}function w({noWheelClassName:T,noPanClassName:O,onPaneContextMenu:q,userSelectionActive:I,panOnScroll:A,panOnDrag:D,panOnScrollMode:R,panOnScrollSpeed:C,preventScrolling:j,zoomOnPinch:S,zoomOnScroll:$,zoomOnDoubleClick:F,zoomActivationKeyPressed:N,lib:H,onTransformChange:X,connectionInProgress:Y,paneClickDistance:Q,selectionOnDrag:W}){I&&!u.isZoomingOrPanning&&g();const ee=A&&!N&&!I;f.clickDistance(W?1/0:!nn(Q)||Q<0?0:Q);const le=ee?rD({zoomPanValues:u,noWheelClassName:T,d3Selection:d,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:C,zoomOnPinch:S,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:s}):iD({noWheelClassName:T,preventScrolling:j,d3ZoomHandler:h});if(d.on("wheel.zoom",le,{passive:!1}),!I){const te=oD({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:a});f.on("start",te);const ie=aD({zoomPanValues:u,panOnDrag:D,onPaneContextMenu:!!q,onPanZoom:o,onTransformChange:X});f.on("zoom",ie);const ge=sD({zoomPanValues:u,panOnDrag:D,panOnScroll:A,onPaneContextMenu:q,onPanZoomEnd:s,onDraggingChange:l});f.on("end",ge)}const oe=lD({zoomActivationKeyPressed:N,panOnDrag:D,zoomOnScroll:$,panOnScroll:A,zoomOnDoubleClick:F,zoomOnPinch:S,userSelectionActive:I,noPanClassName:O,noWheelClassName:T,lib:H,connectionInProgress:Y});f.filter(oe),F?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function x(T,O,q){const I=sc(T),A=f==null?void 0:f.constrain()(I,O,q);return A&&await m(A),new Promise(D=>D(A))}async function y(T,O){const q=sc(T);return await m(q,O),new Promise(I=>I(q))}function b(T){if(d){const O=sc(T),q=d.property("__zoom");(q.k!==T.zoom||q.x!==T.x||q.y!==T.y)&&(f==null||f.transform(d,O,null,{sync:!0}))}}function k(){const T=d?FN(d.node()):{x:0,y:0,k:1};return{x:T.x,y:T.y,zoom:T.k}}function _(T,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).scaleTo(lc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),T)}):Promise.resolve(!1)}function E(T,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).scaleBy(lc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),T)}):Promise.resolve(!1)}function P(T){f==null||f.scaleExtent(T)}function M(T){f==null||f.translateExtent(T)}function z(T){const O=!nn(T)||T<0?0:T;f==null||f.clickDistance(O)}return{update:w,destroy:g,setViewport:y,setViewportConstrained:x,getViewport:k,scaleTo:_,scaleBy:E,setScaleExtent:P,setTranslateExtent:M,syncViewport:b,setClickDistance:z}}var Ui;(function(e){e.Line="line",e.Handle="handle"})(Ui||(Ui={}));function cD({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(l[0]=l[0]*-1),s&&o&&(l[1]=l[1]*-1),l}function Ex(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Wn(e,t){return Math.max(0,t-e)}function Yn(e,t){return Math.max(0,e-t)}function us(e,t,n){return Math.max(0,t-e,e-n)}function kx(e,t){return e?!t:t}function fD(e,t,n,r,i,o,a,s){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:m,maxWidth:w,minHeight:g,maxHeight:x}=r,{x:y,y:b,width:k,height:_,aspectRatio:E}=e;let P=Math.floor(c?h-e.pointerX:0),M=Math.floor(f?p-e.pointerY:0);const z=k+(l?-P:P),T=_+(u?-M:M),O=-o[0]*k,q=-o[1]*_;let I=us(z,m,w),A=us(T,g,x);if(a){let C=0,j=0;l&&P<0?C=Wn(y+P+O,a[0][0]):!l&&P>0&&(C=Yn(y+z+O,a[1][0])),u&&M<0?j=Wn(b+M+q,a[0][1]):!u&&M>0&&(j=Yn(b+T+q,a[1][1])),I=Math.max(I,C),A=Math.max(A,j)}if(s){let C=0,j=0;l&&P>0?C=Yn(y+P,s[0][0]):!l&&P<0&&(C=Wn(y+z,s[1][0])),u&&M>0?j=Yn(b+M,s[0][1]):!u&&M<0&&(j=Wn(b+T,s[1][1])),I=Math.max(I,C),A=Math.max(A,j)}if(i){if(c){const C=us(z/E,g,x)*E;if(I=Math.max(I,C),a){let j=0;!l&&!u||l&&!u&&d?j=Yn(b+q+z/E,a[1][1])*E:j=Wn(b+q+(l?P:-P)/E,a[0][1])*E,I=Math.max(I,j)}if(s){let j=0;!l&&!u||l&&!u&&d?j=Wn(b+z/E,s[1][1])*E:j=Yn(b+(l?P:-P)/E,s[0][1])*E,I=Math.max(I,j)}}if(f){const C=us(T*E,m,w)/E;if(A=Math.max(A,C),a){let j=0;!l&&!u||u&&!l&&d?j=Yn(y+T*E+O,a[1][0])/E:j=Wn(y+(u?M:-M)*E+O,a[0][0])/E,A=Math.max(A,j)}if(s){let j=0;!l&&!u||u&&!l&&d?j=Wn(y+T*E,s[1][0])/E:j=Yn(y+(u?M:-M)*E,s[0][0])/E,A=Math.max(A,j)}}}M=M+(M<0?A:-A),P=P+(P<0?I:-I),i&&(d?z>T*E?M=(kx(l,u)?-P:P)/E:P=(kx(l,u)?-M:M)*E:c?(M=P/E,u=l):(P=M*E,l=u));const D=l?y+P:y,R=u?b+M:b;return{width:k+(l?-P:P),height:_+(u?-M:M),x:o[0]*P*(l?-1:1)+D,y:o[1]*M*(u?-1:1)+R}}const y2={width:0,height:0,x:0,y:0},dD={...y2,pointerX:0,pointerY:0,aspectRatio:1};function hD(e){return[[0,0],[e.measured.width,e.measured.height]]}function pD(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,l=n[1]*a;return[[r-s,i-l],[r+o-s,i+a-l]]}function gD({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=jt(e);let a={controlDirection:Ex("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:u,boundaries:c,keepAspectRatio:f,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:m,shouldResize:w}){let g={...y2},x={...dD};a={boundaries:c,resizeDirection:d,keepAspectRatio:f,controlDirection:Ex(u)};let y,b=null,k=[],_,E,P,M=!1;const z=NN().on("start",T=>{const{nodeLookup:O,transform:q,snapGrid:I,snapToGrid:A,nodeOrigin:D,paneDomNode:R}=n();if(y=O.get(t),!y)return;b=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:j}=qo(T.sourceEvent,{transform:q,snapGrid:I,snapToGrid:A,containerBounds:b});g={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},x={...g,pointerX:C,pointerY:j,aspectRatio:g.width/g.height},_=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(_=O.get(y.parentId),E=_&&y.extent==="parent"?hD(_):void 0),k=[],P=void 0;for(const[S,$]of O)if($.parentId===t&&(k.push({id:S,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const F=pD($,y,$.origin??D);P?P=[[Math.min(F[0][0],P[0][0]),Math.min(F[0][1],P[0][1])],[Math.max(F[1][0],P[1][0]),Math.max(F[1][1],P[1][1])]]:P=F}h==null||h(T,{...g})}).on("drag",T=>{const{transform:O,snapGrid:q,snapToGrid:I,nodeOrigin:A}=n(),D=qo(T.sourceEvent,{transform:O,snapGrid:q,snapToGrid:I,containerBounds:b}),R=[];if(!y)return;const{x:C,y:j,width:S,height:$}=g,F={},N=y.origin??A,{width:H,height:X,x:Y,y:Q}=fD(x,a.controlDirection,D,a.boundaries,a.keepAspectRatio,N,E,P),W=H!==S,ee=X!==$,le=Y!==C&&W,oe=Q!==j&&ee;if(!le&&!oe&&!W&&!ee)return;if((le||oe||N[0]===1||N[1]===1)&&(F.x=le?Y:g.x,F.y=oe?Q:g.y,g.x=F.x,g.y=F.y,k.length>0)){const ne=Y-C,fe=Q-j;for(const se of k)se.position={x:se.position.x-ne+N[0]*(H-S),y:se.position.y-fe+N[1]*(X-$)},R.push(se)}if((W||ee)&&(F.width=W&&(!a.resizeDirection||a.resizeDirection==="horizontal")?H:g.width,F.height=ee&&(!a.resizeDirection||a.resizeDirection==="vertical")?X:g.height,g.width=F.width,g.height=F.height),_&&y.expandParent){const ne=N[0]*(F.width??0);F.x&&F.x<ne&&(g.x=ne,x.x=x.x-(F.x-ne));const fe=N[1]*(F.height??0);F.y&&F.y<fe&&(g.y=fe,x.y=x.y-(F.y-fe))}const te=cD({width:g.width,prevWidth:S,height:g.height,prevHeight:$,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),ie={...g,direction:te};(w==null?void 0:w(T,ie))!==!1&&(M=!0,p==null||p(T,ie),r(F,R))}).on("end",T=>{M&&(m==null||m(T,{...g}),i==null||i({...g}),M=!1)});o.call(z)}function l(){o.on(".drag",null)}return{update:s,destroy:l}}var v2={exports:{}},x2={},w2={exports:{}},_2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=L;function mD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yD=typeof Object.is=="function"?Object.is:mD,vD=Gi.useState,xD=Gi.useEffect,wD=Gi.useLayoutEffect,_D=Gi.useDebugValue;function bD(e,t){var n=t(),r=vD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return wD(function(){i.value=n,i.getSnapshot=t,uc(i)&&o({inst:i})},[e,n,t]),xD(function(){return uc(i)&&o({inst:i}),e(function(){uc(i)&&o({inst:i})})},[e]),_D(n),n}function uc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yD(e,n)}catch{return!0}}function SD(e,t){return t()}var ED=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SD:bD;_2.useSyncExternalStore=Gi.useSyncExternalStore!==void 0?Gi.useSyncExternalStore:ED;w2.exports=_2;var kD=w2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=L,CD=kD;function ND(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TD=typeof Object.is=="function"?Object.is:ND,PD=CD.useSyncExternalStore,ID=Zl.useRef,jD=Zl.useEffect,AD=Zl.useMemo,RD=Zl.useDebugValue;x2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=ID(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=AD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,TD(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(c=h,p):(c=h,f=m)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var s=PD(e,o[0],o[1]);return jD(function(){a.hasValue=!0,a.value=s},[s]),RD(s),s};v2.exports=x2;var MD=v2.exports;const b2=va(MD),LD={},Cx=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(LD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},S2=e=>e?Cx(e):Cx,{useDebugValue:OD}=Vt,{useSyncExternalStoreWithSelector:DD}=b2,zD=e=>e;function E2(e,t=zD,n){const r=DD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return OD(r),r}const Nx=(e,t)=>{const n=S2(e),r=(i,o=t)=>E2(n,i,o);return Object.assign(r,n),r},qD=(e,t)=>e?Nx(e,t):Nx;function Ae(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Jl=L.createContext(null),$D=Jl.Provider,k2=bn.error001();function ve(e,t){const n=L.useContext(Jl);if(n===null)throw new Error(k2);return E2(n,e,t)}function Re(){const e=L.useContext(Jl);if(e===null)throw new Error(k2);return L.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Tx={display:"none"},FD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C2="react-flow__node-desc",N2="react-flow__edge-desc",BD="react-flow__aria-live",HD=e=>e.ariaLiveMessage,VD=e=>e.ariaLabelConfig;function UD({rfId:e}){const t=ve(HD);return v.jsx("div",{id:`${BD}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:FD,children:t})}function GD({rfId:e,disableKeyboardA11y:t}){const n=ve(VD);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${C2}-${e}`,style:Tx,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${N2}-${e}`,style:Tx,children:n["edge.a11yDescription.default"]}),!t&&v.jsx(UD,{rfId:e})]})}const eu=L.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const a=`${e}`.split("-");return v.jsx("div",{className:Ve(["react-flow__panel",n,...a]),style:r,ref:o,...i,children:t})});eu.displayName="Panel";function WD({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:v.jsx(eu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const YD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},cs=e=>e.id;function KD(e,t){return Ae(e.selectedNodes.map(cs),t.selectedNodes.map(cs))&&Ae(e.selectedEdges.map(cs),t.selectedEdges.map(cs))}function XD({onSelectionChange:e}){const t=Re(),{selectedNodes:n,selectedEdges:r}=ve(YD,KD);return L.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const QD=e=>!!e.onSelectionChangeHandlers;function ZD({onSelectionChange:e}){const t=ve(QD);return e||t?v.jsx(XD,{onSelectionChange:e}):null}const T2=[0,0],JD={x:0,y:0,zoom:1},e3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Px=[...e3,"rfId"],t3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Ix={translateExtent:fa,nodeOrigin:T2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function n3(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l}=ve(t3,Ae),u=Re();L.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{c.current=Ix,s()}),[]);const c=L.useRef(Ix);return L.useEffect(()=>{for(const f of Px){const d=e[f],h=c.current[f];d!==h&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?i(d):f==="translateExtent"?o(d):f==="nodeExtent"?a(d):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:N4(d)}):f==="fitView"?u.setState({fitViewQueued:d}):f==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[f]:d})))}c.current=e},Px.map(f=>e[f])),null}function jx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function r3(e){var r;const[t,n]=L.useState(e==="system"?null:e);return L.useEffect(()=>{if(e!=="system"){n(e);return}const i=jx(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=jx())!=null&&r.matches?"dark":"light"}const Ax=typeof document<"u"?document:null;function ga(e=null,t={target:Ax,actInsideInputWithModifier:!0}){const[n,r]=L.useState(!1),i=L.useRef(!1),o=L.useRef(new Set([])),[a,s]=L.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return L.useEffect(()=>{const l=(t==null?void 0:t.target)??Ax,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var w,g;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!u)&&t2(h))return!1;const m=Mx(h.code,s);if(o.current.add(h[m]),Rx(a,o.current,!1)){const x=((g=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:g[0])||h.target,y=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(i.current||!y)&&h.preventDefault(),r(!0)}},f=h=>{const p=Mx(h.code,s);Rx(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Rx(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Mx(e,t){return t.includes(e)?"code":"key"}const i3=()=>{const e=Re();return L.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),l=Hy(t,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-l},c=n.snapGrid??i,f=n.snapToGrid??o;return Pa(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),a=yl(t,n);return{x:a.x+i,y:a.y+o}}}),[])};function P2(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of t){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const l of a)o3(l,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function o3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function I2(e,t){return P2(e,t)}function j2(e,t){return P2(e,t)}function Pr(e,t){return{id:e,type:"select",selected:t}}function wi(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(Pr(o.id,a)))}return r}function Lx({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const s=t.get(a.id),l=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Ox(e){return{id:e.id,type:"remove"}}const Dx=e=>y4(e),a3=e=>WN(e);function A2(e){return L.forwardRef(e)}const s3=typeof window<"u"?L.useLayoutEffect:L.useEffect;function zx(e){const[t,n]=L.useState(BigInt(0)),[r]=L.useState(()=>l3(()=>n(i=>i+BigInt(1))));return s3(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function l3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const R2=L.createContext(null);function u3({children:e}){const t=Re(),n=L.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let m=l;for(const g of s)m=typeof g=="function"?g(m):g;let w=Lx({items:m,lookup:d});for(const g of p.values())w=g(w);c&&u(m),w.length>0?f==null||f(w):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:x,setNodes:y}=t.getState();g&&y(x)})},[]),r=zx(n),i=L.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const p of s)h=typeof p=="function"?p(h):p;c?u(h):f&&f(Lx({items:h,lookup:d}))},[]),o=zx(i),a=L.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return v.jsx(R2.Provider,{value:a,children:e})}function c3(){const e=L.useContext(R2);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const f3=e=>!!e.panZoom;function tu(){const e=i3(),t=Re(),n=c3(),r=ve(f3),i=L.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var g,x;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=Dx(f)?f:d.get(f.id),m=p.parentId?JN(p.position,p.measured,p.parentId,d,h):p.position,w={...p,position:m,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((x=p.measured)==null?void 0:x.height)??p.height};return Hi(w)},u=(f,d,h={replace:!1})=>{a(p=>p.map(m=>{if(m.id===f){const w=typeof d=="function"?d(m):d;return h.replace&&Dx(w)?w:{...m,...w}}return m}))},c=(f,d,h={replace:!1})=>{s(p=>p.map(m=>{if(m.id===f){const w=typeof d=="function"?d(m):d;return h.replace&&a3(w)?w:{...m,...w}}return m}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[p,m,w]=h;return{nodes:f.map(g=>({...g})),edges:d.map(g=>({...g})),viewport:{x:p,y:m,zoom:w}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:m,onEdgesDelete:w,triggerNodeChanges:g,triggerEdgeChanges:x,onDelete:y,onBeforeDelete:b}=t.getState(),{nodes:k,edges:_}=await b4({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:b}),E=_.length>0,P=k.length>0;if(E){const M=_.map(Ox);w==null||w(_),x(M)}if(P){const M=k.map(Ox);m==null||m(k),g(M)}return(P||E)&&(y==null||y({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,d=!0,h)=>{const p=hx(f),m=p?f:l(f),w=h!==void 0;return m?(h||t.getState().nodes).filter(g=>{const x=t.getState().nodeLookup.get(g.id);if(x&&!p&&(g.id===f.id||!x.internals.positionAbsolute))return!1;const y=Hi(w?g:x),b=ha(y,m);return d&&b>0||b>=y.width*y.height||b>=m.width*m.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const m=hx(f)?f:l(f);if(!m)return!1;const w=ha(m,d);return h&&w>0||w>=d.width*d.height||w>=m.width*m.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,p=>{const m=typeof d=="function"?d(p):d;return h.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,p=>{const m=typeof d=="function"?d(p):d;return h.replace?{...p,data:m}:{...p,data:{...p.data,...m}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return v4(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??C4();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return L.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const qx=e=>e.selected,d3=typeof window<"u"?window:void 0;function h3({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Re(),{deleteElements:r}=tu(),i=ga(e,{actInsideInputWithModifier:!1}),o=ga(t,{target:d3});L.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(qx),edges:a.filter(qx)}),n.setState({nodesSelectionActive:!1})}},[i]),L.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function p3(e){const t=Re();L.useEffect(()=>{const n=()=>{var i,o,a,s;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Vy(e.current);(r.height===0||r.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",bn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const nu={position:"absolute",width:"100%",height:"100%",top:0,left:0},g3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function m3({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=$r.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:m,noPanClassName:w,onViewportChange:g,isControlledViewport:x,paneClickDistance:y,selectionOnDrag:b}){const k=Re(),_=L.useRef(null),{userSelectionActive:E,lib:P,connectionInProgress:M}=ve(g3,Ae),z=ga(d),T=L.useRef();p3(_);const O=L.useCallback(q=>{g==null||g({x:q[0],y:q[1],zoom:q[2]}),x||k.setState({transform:q})},[g,x]);return L.useEffect(()=>{if(_.current){T.current=uD({domNode:_.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,onDraggingChange:D=>k.setState({paneDragging:D}),onPanZoomStart:(D,R)=>{const{onViewportChangeStart:C,onMoveStart:j}=k.getState();j==null||j(D,R),C==null||C(R)},onPanZoom:(D,R)=>{const{onViewportChange:C,onMove:j}=k.getState();j==null||j(D,R),C==null||C(R)},onPanZoomEnd:(D,R)=>{const{onViewportChangeEnd:C,onMoveEnd:j}=k.getState();j==null||j(D,R),C==null||C(R)}});const{x:q,y:I,zoom:A}=T.current.getViewport();return k.setState({panZoom:T.current,transform:[q,I,A],domNode:_.current.closest(".react-flow")}),()=>{var D;(D=T.current)==null||D.destroy()}}},[]),L.useEffect(()=>{var q;(q=T.current)==null||q.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:z,preventScrolling:h,noPanClassName:w,userSelectionActive:E,noWheelClassName:m,lib:P,onTransformChange:O,connectionInProgress:M,selectionOnDrag:b,paneClickDistance:y})},[e,t,n,r,i,o,a,s,z,h,w,E,m,P,O,M,b,y]),v.jsx("div",{className:"react-flow__renderer",ref:_,style:nu,children:p})}const y3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function v3(){const{userSelectionActive:e,userSelectionRect:t}=ve(y3,Ae);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const cc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},x3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function w3({isSelecting:e,selectionKeyPressed:t,selectionMode:n=da.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const m=Re(),{userSelectionActive:w,elementsSelectable:g,dragging:x,connectionInProgress:y}=ve(x3,Ae),b=g&&(e||w),k=L.useRef(null),_=L.useRef(),E=L.useRef(new Set),P=L.useRef(new Set),M=L.useRef(!1),z=C=>{if(M.current||y){M.current=!1;return}l==null||l(C),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},T=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},O=c?C=>c(C):void 0,q=C=>{M.current&&(C.stopPropagation(),M.current=!1)},I=C=>{var X,Y;const{domNode:j}=m.getState();if(_.current=j==null?void 0:j.getBoundingClientRect(),!_.current)return;const S=C.target===k.current;if(!S&&!!C.target.closest(".nokey")||!e||!(o&&S||t)||C.button!==0||!C.isPrimary)return;(Y=(X=C.target)==null?void 0:X.setPointerCapture)==null||Y.call(X,C.pointerId),M.current=!1;const{x:N,y:H}=rn(C.nativeEvent,_.current);m.setState({userSelectionRect:{width:0,height:0,startX:N,startY:H,x:N,y:H}}),S||(C.stopPropagation(),C.preventDefault())},A=C=>{const{userSelectionRect:j,transform:S,nodeLookup:$,edgeLookup:F,connectionLookup:N,triggerNodeChanges:H,triggerEdgeChanges:X,defaultEdgeOptions:Y,resetSelectedElements:Q}=m.getState();if(!_.current||!j)return;const{x:W,y:ee}=rn(C.nativeEvent,_.current),{startX:le,startY:oe}=j;if(!M.current){const fe=t?0:i;if(Math.hypot(W-le,ee-oe)<=fe)return;Q(),a==null||a(C)}M.current=!0;const te={startX:le,startY:oe,x:W<le?W:le,y:ee<oe?ee:oe,width:Math.abs(W-le),height:Math.abs(ee-oe)},ie=E.current,ge=P.current;E.current=new Set(By($,te,S,n===da.Partial,!0).map(fe=>fe.id)),P.current=new Set;const ne=(Y==null?void 0:Y.selectable)??!0;for(const fe of E.current){const se=N.get(fe);if(se)for(const{edgeId:Ge}of se.values()){const $e=F.get(Ge);$e&&($e.selectable??ne)&&P.current.add(Ge)}}if(!px(ie,E.current)){const fe=wi($,E.current,!0);H(fe)}if(!px(ge,P.current)){const fe=wi(F,P.current);X(fe)}m.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},D=C=>{var j,S;C.button===0&&((S=(j=C.target)==null?void 0:j.releasePointerCapture)==null||S.call(j,C.pointerId),!w&&C.target===k.current&&m.getState().userSelectionRect&&(z==null||z(C)),m.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(s==null||s(C),m.setState({nodesSelectionActive:E.current.size>0})))},R=r===!0||Array.isArray(r)&&r.includes(0);return v.jsxs("div",{className:Ve(["react-flow__pane",{draggable:R,dragging:x,selection:e}]),onClick:b?void 0:cc(z,k),onContextMenu:cc(T,k),onWheel:cc(O,k),onPointerEnter:b?void 0:f,onPointerMove:b?A:d,onPointerUp:b?D:void 0,onPointerDownCapture:b?I:void 0,onClickCapture:b?q:void 0,onPointerLeave:h,ref:k,style:nu,children:[p,v.jsx(v3,{})]})}function km({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",bn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function M2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=Re(),[l,u]=L.useState(!1),c=L.useRef();return L.useEffect(()=>{c.current=K4({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{km({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),L.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,o,e,i]),l}const _3=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function L2(){const e=Re();return L.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=_3(a),h=i?o[0]:5,p=i?o[1]:5,m=n.direction.x*h*n.factor,w=n.direction.y*p*n.factor;for(const[,g]of u){if(!d(g))continue;let x={x:g.internals.positionAbsolute.x+m,y:g.internals.positionAbsolute.y+w};i&&(x=Ta(x,o));const{position:y,positionAbsolute:b}=YN({nodeId:g.id,nextPosition:x,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});g.position=y,g.internals.positionAbsolute=b,f.set(g.id,g)}l(f)},[])}const Xy=L.createContext(null),b3=Xy.Provider;Xy.Consumer;const O2=()=>L.useContext(Xy),S3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),E3=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Fi.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:c&&u}};function k3({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var A,D;const p=a||null,m=e==="target",w=Re(),g=O2(),{connectOnClick:x,noPanClassName:y,rfId:b}=ve(S3,Ae),{connectingFrom:k,connectingTo:_,clickConnecting:E,isPossibleEndHandle:P,connectionInProcess:M,clickConnectionInProcess:z,valid:T}=ve(E3(g,p,e),Ae);g||(D=(A=w.getState()).onError)==null||D.call(A,"010",bn.error010());const O=R=>{const{defaultEdgeOptions:C,onConnect:j,hasDefaultEdges:S}=w.getState(),$={...C,...R};if(S){const{edges:F,setEdges:N}=w.getState();N(R4($,F))}j==null||j($),s==null||s($)},q=R=>{if(!g)return;const C=n2(R.nativeEvent);if(i&&(C&&R.button===0||!C)){const j=w.getState();Em.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:m,handleId:p,nodeId:g,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:O,isValidConnection:n||j.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}C?c==null||c(R):f==null||f(R)},I=R=>{const{onClickConnectStart:C,onClickConnectEnd:j,connectionClickStartHandle:S,connectionMode:$,isValidConnection:F,lib:N,rfId:H,nodeLookup:X,connection:Y}=w.getState();if(!g||!S&&!i)return;if(!S){C==null||C(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const Q=e2(R.target),W=n||F,{connection:ee,isValid:le}=Em.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:$,fromNodeId:S.nodeId,fromHandleId:S.id||null,fromType:S.type,isValidConnection:W,flowId:H,doc:Q,lib:N,nodeLookup:X});le&&ee&&O(ee);const oe=structuredClone(Y);delete oe.inProgress,oe.toPosition=oe.toHandle?oe.toHandle.position:null,j==null||j(R,oe),w.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${b}-${g}-${p}-${e}`,className:Ve(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!m,target:m,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:k,connectingto:_,valid:T,connectionindicator:r&&(!M||P)&&(M||z?o:i)}]),onMouseDown:q,onTouchStart:q,onClick:x?I:void 0,ref:h,...d,children:l})}const Se=L.memo(A2(k3));function C3({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return v.jsxs(v.Fragment,{children:[e==null?void 0:e.label,v.jsx(Se,{type:"source",position:n,isConnectable:t})]})}function N3({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,v.jsx(Se,{type:"source",position:r,isConnectable:t})]})}function T3(){return null}function P3({data:e,isConnectable:t,targetPosition:n=K.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const xl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},$x={input:C3,default:N3,output:P3,group:T3};function I3(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const j3=e=>{const{width:t,height:n,x:r,y:i}=Na(e.nodeLookup,{filter:o=>!!o.selected});return{width:nn(t)?t:null,height:nn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function A3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:i,height:o,transformString:a,userSelectionActive:s}=ve(j3,Ae),l=L2(),u=L.useRef(null);if(L.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),M2({nodeRef:u}),s||!i||!o)return null;const c=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(xl,d.key)&&(d.preventDefault(),l({direction:xl[d.key],factor:d.shiftKey?4:1}))};return v.jsx("div",{className:Ve(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:v.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const Fx=typeof window<"u"?window:void 0,R3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function D2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:m,zoomActivationKeyCode:w,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:b,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:E,panOnDrag:P,defaultViewport:M,translateExtent:z,minZoom:T,maxZoom:O,preventScrolling:q,onSelectionContextMenu:I,noWheelClassName:A,noPanClassName:D,disableKeyboardA11y:R,onViewportChange:C,isControlledViewport:j}){const{nodesSelectionActive:S,userSelectionActive:$}=ve(R3,Ae),F=ga(u,{target:Fx}),N=ga(m,{target:Fx}),H=N||P,X=N||b,Y=c&&H!==!0,Q=F||$||Y;return h3({deleteKeyCode:l,multiSelectionKeyCode:p}),v.jsx(m3,{onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:E,panOnDrag:!F&&H,defaultViewport:M,translateExtent:z,minZoom:T,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:q,noWheelClassName:A,noPanClassName:D,onViewportChange:C,isControlledViewport:j,paneClickDistance:s,selectionOnDrag:Y,children:v.jsxs(w3,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:H,isSelecting:!!Q,selectionMode:f,selectionKeyPressed:F,paneClickDistance:s,selectionOnDrag:Y,children:[e,S&&v.jsx(A3,{onSelectionContextMenu:I,noPanClassName:D,disableKeyboardA11y:R})]})})}D2.displayName="FlowRenderer";const M3=L.memo(D2),L3=e=>t=>e?By(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function O3(e){return ve(L.useCallback(L3(e),[e]),Ae)}const D3=e=>e.updateNodeInternals;function z3(){const e=ve(D3),[t]=L.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return L.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function q3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Re(),o=L.useRef(null),a=L.useRef(null),s=L.useRef(e.sourcePosition),l=L.useRef(e.targetPosition),u=L.useRef(t),c=n&&!!e.internals.handleBounds;return L.useEffect(()=>{o.current&&!e.hidden&&(!c||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[c,e.hidden]),L.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),L.useEffect(()=>{if(o.current){const f=u.current!==t,d=s.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function $3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:m,nodeTypes:w,nodeClickDistance:g,onError:x}){const{node:y,internals:b,isParent:k}=ve(W=>{const ee=W.nodeLookup.get(e),le=W.parentLookup.has(e);return{node:ee,internals:ee.internals,isParent:le}},Ae);let _=y.type||"default",E=(w==null?void 0:w[_])||$x[_];E===void 0&&(x==null||x("003",bn.error003(_)),_="default",E=(w==null?void 0:w.default)||$x.default);const P=!!(y.draggable||s&&typeof y.draggable>"u"),M=!!(y.selectable||l&&typeof y.selectable>"u"),z=!!(y.connectable||u&&typeof y.connectable>"u"),T=!!(y.focusable||c&&typeof y.focusable>"u"),O=Re(),q=ZN(y),I=q3({node:y,nodeType:_,hasDimensions:q,resizeObserver:f}),A=M2({nodeRef:I,disabled:y.hidden||!P,noDragClassName:d,handleSelector:y.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:g}),D=L2();if(y.hidden)return null;const R=Hn(y),C=I3(y),j=M||P||t||n||r||i,S=n?W=>n(W,{...b.userNode}):void 0,$=r?W=>r(W,{...b.userNode}):void 0,F=i?W=>i(W,{...b.userNode}):void 0,N=o?W=>o(W,{...b.userNode}):void 0,H=a?W=>a(W,{...b.userNode}):void 0,X=W=>{const{selectNodesOnDrag:ee,nodeDragThreshold:le}=O.getState();M&&(!ee||!P||le>0)&&km({id:e,store:O,nodeRef:I}),t&&t(W,{...b.userNode})},Y=W=>{if(!(t2(W.nativeEvent)||p)){if(HN.includes(W.key)&&M){const ee=W.key==="Escape";km({id:e,store:O,unselect:ee,nodeRef:I})}else if(P&&y.selected&&Object.prototype.hasOwnProperty.call(xl,W.key)){W.preventDefault();const{ariaLabelConfig:ee}=O.getState();O.setState({ariaLiveMessage:ee["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),D({direction:xl[W.key],factor:W.shiftKey?4:1})}}},Q=()=>{var ge;if(p||!((ge=I.current)!=null&&ge.matches(":focus-visible")))return;const{transform:W,width:ee,height:le,autoPanOnNodeFocus:oe,setCenter:te}=O.getState();if(!oe)return;By(new Map([[e,y]]),{x:0,y:0,width:ee,height:le},W,!0).length>0||te(y.position.x+R.width/2,y.position.y+R.height/2,{zoom:W[2]})};return v.jsx("div",{className:Ve(["react-flow__node",`react-flow__node-${_}`,{[h]:P},y.className,{selected:y.selected,selectable:M,parent:k,draggable:P,dragging:A}]),ref:I,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:q?"visible":"hidden",...y.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:S,onMouseMove:$,onMouseLeave:F,onContextMenu:N,onClick:X,onDoubleClick:H,onKeyDown:T?Y:void 0,tabIndex:T?0:void 0,onFocus:T?Q:void 0,role:y.ariaRole??(T?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${C2}-${m}`,"aria-label":y.ariaLabel,...y.domAttributes,children:v.jsx(b3,{value:e,children:v.jsx(E,{id:e,data:y.data,type:_,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:y.selected??!1,selectable:M,draggable:P,deletable:y.deletable??!0,isConnectable:z,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:A,dragHandle:y.dragHandle,zIndex:b.z,parentId:y.parentId,...R})})})}var F3=L.memo($3);const B3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function z2(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ve(B3,Ae),a=O3(e.onlyRenderVisibleElements),s=z3();return v.jsx("div",{className:"react-flow__nodes",style:nu,children:a.map(l=>v.jsx(F3,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}z2.displayName="NodeRenderer";const H3=L.memo(z2);function V3(e){return ve(L.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&I4({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ae)}const U3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},G3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Bx={[gl.Arrow]:U3,[gl.ArrowClosed]:G3};function W3(e){const t=Re();return L.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Bx,e)?Bx[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",bn.error009(e)),null)},[e])}const Y3=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=W3(t);return l?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:v.jsx(l,{color:n,strokeWidth:a})}):null},q2=({defaultColor:e,rfId:t})=>{const n=ve(o=>o.edges),r=ve(o=>o.defaultEdgeOptions),i=L.useMemo(()=>z4(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:i.map(o=>v.jsx(Y3,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};q2.displayName="MarkerDefinitions";var K3=L.memo(q2);function $2({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=L.useState({x:1,y:0,width:0,height:0}),h=Ve(["react-flow__edge-textwrapper",u]),p=L.useRef(null);return L.useEffect(()=>{if(p.current){const m=p.current.getBBox();d({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?v.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[i&&v.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),v.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}$2.displayName="EdgeText";const X3=L.memo($2);function ru({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...c,d:e,fill:"none",className:Ve(["react-flow__edge-path",c.className])}),u?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&nn(t)&&nn(n)?v.jsx(X3,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function Hx({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function F2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top}){const[a,s]=Hx({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Hx({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=r2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${i}`,c,f,d,h]}function B2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:g})=>{const[x,y,b]=F2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),k=e.isInternal?void 0:t;return v.jsx(ru,{id:k,path:x,labelX:y,labelY:b,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:g})})}const Q3=B2({isInternal:!1}),H2=B2({isInternal:!0});Q3.displayName="SimpleBezierEdge";H2.displayName="SimpleBezierEdgeInternal";function V2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=K.Bottom,targetPosition:p=K.Top,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:x})=>{const[y,b,k]=vl({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:o,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return v.jsx(ru,{id:_,path:y,labelX:b,labelY:k,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:w,interactionWidth:x})})}const U2=V2({isInternal:!1}),G2=V2({isInternal:!0});U2.displayName="SmoothStepEdge";G2.displayName="SmoothStepEdgeInternal";function W2(e){return L.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return v.jsx(U2,{...n,id:r,pathOptions:L.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Z3=W2({isInternal:!1}),Y2=W2({isInternal:!0});Z3.displayName="StepEdge";Y2.displayName="StepEdgeInternal";function K2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:m})=>{const[w,g,x]=a2({sourceX:n,sourceY:r,targetX:i,targetY:o}),y=e.isInternal?void 0:t;return v.jsx(ru,{id:y,path:w,labelX:g,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:m})})}const J3=K2({isInternal:!1}),X2=K2({isInternal:!0});J3.displayName="StraightEdge";X2.displayName="StraightEdgeInternal";function Q2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=K.Bottom,targetPosition:s=K.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,pathOptions:g,interactionWidth:x})=>{const[y,b,k]=i2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return v.jsx(ru,{id:_,path:y,labelX:b,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:w,interactionWidth:x})})}const ez=Q2({isInternal:!1}),Z2=Q2({isInternal:!0});ez.displayName="BezierEdge";Z2.displayName="BezierEdgeInternal";const Vx={default:Z2,straight:X2,step:Y2,smoothstep:G2,simplebezier:H2},Ux={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},tz=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,nz=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,Gx="react-flow__edgeupdater";function Wx({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return v.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Ve([Gx,`${Gx}-${s}`]),cx:tz(t,r,e),cy:nz(n,r,e),r,stroke:"transparent",fill:"transparent"})}function rz({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=Re(),m=(b,k)=>{if(b.button!==0)return;const{autoPanOnConnect:_,domNode:E,isValidConnection:P,connectionMode:M,connectionRadius:z,lib:T,onConnectStart:O,onConnectEnd:q,cancelConnection:I,nodeLookup:A,rfId:D,panBy:R,updateConnection:C}=p.getState(),j=k.type==="target",S=(N,H)=>{d(!1),f==null||f(N,n,k.type,H)},$=N=>u==null?void 0:u(n,N),F=(N,H)=>{d(!0),c==null||c(b,n,k.type),O==null||O(N,H)};Em.onPointerDown(b.nativeEvent,{autoPanOnConnect:_,connectionMode:M,connectionRadius:z,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:A,isTarget:j,edgeUpdaterType:k.type,lib:T,flowId:D,cancelConnection:I,panBy:R,isValidConnection:P,onConnect:$,onConnectStart:F,onConnectEnd:q,onReconnectEnd:S,updateConnection:C,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},w=b=>m(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=b=>m(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>h(!0),y=()=>h(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(Wx,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&v.jsx(Wx,{position:l,centerX:o,centerY:a,radius:t,onMouseDown:g,onMouseEnter:x,onMouseOut:y,type:"target"})]})}function iz({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:m,noPanClassName:w,onError:g,disableKeyboardA11y:x}){let y=ve(te=>te.edgeLookup.get(e));const b=ve(te=>te.defaultEdgeOptions);y=b?{...b,...y}:y;let k=y.type||"default",_=(m==null?void 0:m[k])||Vx[k];_===void 0&&(g==null||g("011",bn.error011(k)),k="default",_=(m==null?void 0:m.default)||Vx.default);const E=!!(y.focusable||t&&typeof y.focusable>"u"),P=typeof f<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),M=!!(y.selectable||r&&typeof y.selectable>"u"),z=L.useRef(null),[T,O]=L.useState(!1),[q,I]=L.useState(!1),A=Re(),{zIndex:D,sourceX:R,sourceY:C,targetX:j,targetY:S,sourcePosition:$,targetPosition:F}=ve(L.useCallback(te=>{const ie=te.nodeLookup.get(y.source),ge=te.nodeLookup.get(y.target);if(!ie||!ge)return{zIndex:y.zIndex,...Ux};const ne=D4({id:e,sourceNode:ie,targetNode:ge,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:te.connectionMode,onError:g});return{zIndex:P4({selected:y.selected,zIndex:y.zIndex,sourceNode:ie,targetNode:ge,elevateOnSelect:te.elevateEdgesOnSelect,zIndexMode:te.zIndexMode}),...ne||Ux}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),Ae),N=L.useMemo(()=>y.markerStart?`url('#${bm(y.markerStart,p)}')`:void 0,[y.markerStart,p]),H=L.useMemo(()=>y.markerEnd?`url('#${bm(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||R===null||C===null||j===null||S===null)return null;const X=te=>{var fe;const{addSelectedEdges:ie,unselectNodesAndEdges:ge,multiSelectionActive:ne}=A.getState();M&&(A.setState({nodesSelectionActive:!1}),y.selected&&ne?(ge({nodes:[],edges:[y]}),(fe=z.current)==null||fe.blur()):ie([e])),i&&i(te,y)},Y=o?te=>{o(te,{...y})}:void 0,Q=a?te=>{a(te,{...y})}:void 0,W=s?te=>{s(te,{...y})}:void 0,ee=l?te=>{l(te,{...y})}:void 0,le=u?te=>{u(te,{...y})}:void 0,oe=te=>{var ie;if(!x&&HN.includes(te.key)&&M){const{unselectNodesAndEdges:ge,addSelectedEdges:ne}=A.getState();te.key==="Escape"?((ie=z.current)==null||ie.blur(),ge({edges:[y]})):ne([e])}};return v.jsx("svg",{style:{zIndex:D},children:v.jsxs("g",{className:Ve(["react-flow__edge",`react-flow__edge-${k}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!M&&!i,updating:T,selectable:M}]),onClick:X,onDoubleClick:Y,onContextMenu:Q,onMouseEnter:W,onMouseMove:ee,onMouseLeave:le,onKeyDown:E?oe:void 0,tabIndex:E?0:void 0,role:y.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":E?`${N2}-${p}`:void 0,ref:z,...y.domAttributes,children:[!q&&v.jsx(_,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:M,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:R,sourceY:C,targetX:j,targetY:S,sourcePosition:$,targetPosition:F,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:N,markerEnd:H,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),P&&v.jsx(rz,{edge:y,isReconnectable:P,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:R,sourceY:C,targetX:j,targetY:S,sourcePosition:$,targetPosition:F,setUpdateHover:O,setReconnecting:I})]})})}var oz=L.memo(iz);const az=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function J2({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:m}){const{edgesFocusable:w,edgesReconnectable:g,elementsSelectable:x,onError:y}=ve(az,Ae),b=V3(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(K3,{defaultColor:e,rfId:n}),b.map(k=>v.jsx(oz,{id:k,edgesFocusable:w,edgesReconnectable:g,elementsSelectable:x,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:m},k))]})}J2.displayName="EdgeRenderer";const sz=L.memo(J2),lz=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function uz({children:e}){const t=ve(lz);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function cz(e){const t=tu(),n=L.useRef(!1);L.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const fz=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function dz(e){const t=ve(fz),n=Re();return L.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function hz(e){return e.connection.inProgress?{...e.connection,to:Pa(e.connection.to,e.transform)}:{...e.connection}}function pz(e){return hz}function gz(e){const t=pz();return ve(t,Ae)}const mz=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function yz({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:l}=ve(mz,Ae);return!(o&&i&&l)?null:v.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:Ve(["react-flow__connection",GN(s)]),children:v.jsx(eT,{style:t,type:n,CustomComponent:r,isValid:s})})})}const eT=({style:e,type:t=tr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d,pointer:h}=gz();if(!i)return;if(n)return v.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:GN(r),toNode:c,toHandle:f,pointer:h});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case tr.Bezier:[p]=i2(m);break;case tr.SimpleBezier:[p]=F2(m);break;case tr.Step:[p]=vl({...m,borderRadius:0});break;case tr.SmoothStep:[p]=vl(m);break;default:[p]=a2(m)}return v.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};eT.displayName="ConnectionLine";const vz={};function Yx(e=vz){L.useRef(e),Re(),L.useEffect(()=>{},[e])}function xz(){Re(),L.useRef(!1),L.useEffect(()=>{},[])}function tT({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:w,connectionLineContainerStyle:g,selectionKeyCode:x,selectionOnDrag:y,selectionMode:b,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:E,deleteKeyCode:P,onlyRenderVisibleElements:M,elementsSelectable:z,defaultViewport:T,translateExtent:O,minZoom:q,maxZoom:I,preventScrolling:A,defaultMarkerColor:D,zoomOnScroll:R,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:S,panOnScrollMode:$,zoomOnDoubleClick:F,panOnDrag:N,onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneScroll:W,onPaneContextMenu:ee,paneClickDistance:le,nodeClickDistance:oe,onEdgeContextMenu:te,onEdgeMouseEnter:ie,onEdgeMouseMove:ge,onEdgeMouseLeave:ne,reconnectRadius:fe,onReconnect:se,onReconnectStart:Ge,onReconnectEnd:$e,noDragClassName:pt,noWheelClassName:gt,noPanClassName:Ke,disableKeyboardA11y:Pe,nodeExtent:qt,rfId:Ct,viewport:B,onViewportChange:U}){return Yx(e),Yx(t),xz(),cz(n),dz(B),v.jsx(M3,{onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneContextMenu:ee,onPaneScroll:W,paneClickDistance:le,deleteKeyCode:P,selectionKeyCode:x,selectionOnDrag:y,selectionMode:b,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:E,elementsSelectable:z,zoomOnScroll:R,zoomOnPinch:C,zoomOnDoubleClick:F,panOnScroll:j,panOnScrollSpeed:S,panOnScrollMode:$,panOnDrag:N,defaultViewport:T,translateExtent:O,minZoom:q,maxZoom:I,onSelectionContextMenu:f,preventScrolling:A,noDragClassName:pt,noWheelClassName:gt,noPanClassName:Ke,disableKeyboardA11y:Pe,onViewportChange:U,isControlledViewport:!!B,children:v.jsxs(uz,{children:[v.jsx(sz,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:se,onReconnectStart:Ge,onReconnectEnd:$e,onlyRenderVisibleElements:M,onEdgeContextMenu:te,onEdgeMouseEnter:ie,onEdgeMouseMove:ge,onEdgeMouseLeave:ne,reconnectRadius:fe,defaultMarkerColor:D,noPanClassName:Ke,disableKeyboardA11y:Pe,rfId:Ct}),v.jsx(yz,{style:m,type:p,component:w,containerStyle:g}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(H3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:oe,onlyRenderVisibleElements:M,noPanClassName:Ke,noDragClassName:pt,disableKeyboardA11y:Pe,nodeExtent:qt,rfId:Ct}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}tT.displayName="GraphView";const wz=L.memo(tT),Kx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f,zIndexMode:d="basic"}={})=>{const h=new Map,p=new Map,m=new Map,w=new Map,g=r??t??[],x=n??e??[],y=c??[0,0],b=f??fa;u2(m,w,g);const k=Sm(x,h,p,{nodeOrigin:y,nodeExtent:b,zIndexMode:d});let _=[0,0,1];if(a&&i&&o){const E=Na(h,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:P,y:M,zoom:z}=Hy(E,i,o,l,u,(s==null?void 0:s.padding)??.1);_=[P,M,z]}return{rfId:"1",width:i??0,height:o??0,transform:_,nodes:x,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:g,edgeLookup:w,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:fa,nodeExtent:b,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Fi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...UN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:S4,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:VN,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},_z=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d})=>qD((h,p)=>{async function m(){const{nodeLookup:w,panZoom:g,fitViewOptions:x,fitViewResolver:y,width:b,height:k,minZoom:_,maxZoom:E}=p();g&&(await _4({nodes:w,width:b,height:k,panZoom:g,minZoom:_,maxZoom:E},x),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...Kx({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:w=>{const{nodeLookup:g,parentLookup:x,nodeOrigin:y,elevateNodesOnSelect:b,fitViewQueued:k,zIndexMode:_}=p(),E=Sm(w,g,x,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:b,checkEquality:!0,zIndexMode:_});k&&E?(m(),h({nodes:w,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:w,nodesInitialized:E})},setEdges:w=>{const{connectionLookup:g,edgeLookup:x}=p();u2(g,x,w),h({edges:w})},setDefaultNodesAndEdges:(w,g)=>{if(w){const{setNodes:x}=p();x(w),h({hasDefaultNodes:!0})}if(g){const{setEdges:x}=p();x(g),h({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:g,nodeLookup:x,parentLookup:y,domNode:b,nodeOrigin:k,nodeExtent:_,debug:E,fitViewQueued:P,zIndexMode:M}=p(),{changes:z,updatedInternals:T}=U4(w,x,y,b,k,_,M);T&&(F4(x,y,{nodeOrigin:k,nodeExtent:_,zIndexMode:M}),P?(m(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(z==null?void 0:z.length)>0&&(E&&console.log("React Flow: trigger node changes",z),g==null||g(z)))},updateNodePositions:(w,g=!1)=>{const x=[];let y=[];const{nodeLookup:b,triggerNodeChanges:k,connection:_,updateConnection:E,onNodesChangeMiddlewareMap:P}=p();for(const[M,z]of w){const T=b.get(M),O=!!(T!=null&&T.expandParent&&(T!=null&&T.parentId)&&(z!=null&&z.position)),q={id:M,type:"position",position:O?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:g};if(T&&_.inProgress&&_.fromNode.id===T.id){const I=Kr(T,_.fromHandle,K.Left,!0);E({..._,from:I})}O&&T.parentId&&x.push({id:M,parentId:T.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),y.push(q)}if(x.length>0){const{parentLookup:M,nodeOrigin:z}=p(),T=Ky(x,b,M,z);y.push(...T)}for(const M of P.values())y=M(y);k(y)},triggerNodeChanges:w=>{const{onNodesChange:g,setNodes:x,nodes:y,hasDefaultNodes:b,debug:k}=p();if(w!=null&&w.length){if(b){const _=I2(w,y);x(_)}k&&console.log("React Flow: trigger node changes",w),g==null||g(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:g,setEdges:x,edges:y,hasDefaultEdges:b,debug:k}=p();if(w!=null&&w.length){if(b){const _=j2(w,y);x(_)}k&&console.log("React Flow: trigger edge changes",w),g==null||g(w)}},addSelectedNodes:w=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:k}=p();if(g){const _=w.map(E=>Pr(E,!0));b(_);return}b(wi(y,new Set([...w]),!0)),k(wi(x))},addSelectedEdges:w=>{const{multiSelectionActive:g,edgeLookup:x,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:k}=p();if(g){const _=w.map(E=>Pr(E,!0));k(_);return}k(wi(x,new Set([...w]))),b(wi(y,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:g}={})=>{const{edges:x,nodes:y,nodeLookup:b,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),E=w||y,P=g||x,M=E.map(T=>{const O=b.get(T.id);return O&&(O.selected=!1),Pr(T.id,!1)}),z=P.map(T=>Pr(T.id,!1));k(M),_(z)},setMinZoom:w=>{const{panZoom:g,maxZoom:x}=p();g==null||g.setScaleExtent([w,x]),h({minZoom:w})},setMaxZoom:w=>{const{panZoom:g,minZoom:x}=p();g==null||g.setScaleExtent([x,w]),h({maxZoom:w})},setTranslateExtent:w=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(w),h({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:g,triggerNodeChanges:x,triggerEdgeChanges:y,elementsSelectable:b}=p();if(!b)return;const k=g.reduce((E,P)=>P.selected?[...E,Pr(P.id,!1)]:E,[]),_=w.reduce((E,P)=>P.selected?[...E,Pr(P.id,!1)]:E,[]);x(k),y(_)},setNodeExtent:w=>{const{nodes:g,nodeLookup:x,parentLookup:y,nodeOrigin:b,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:E}=p();w[0][0]===_[0][0]&&w[0][1]===_[0][1]&&w[1][0]===_[1][0]&&w[1][1]===_[1][1]||(Sm(g,x,y,{nodeOrigin:b,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),h({nodeExtent:w}))},panBy:w=>{const{transform:g,width:x,height:y,panZoom:b,translateExtent:k}=p();return G4({delta:w,panZoom:b,transform:g,translateExtent:k,width:x,height:y})},setCenter:async(w,g,x)=>{const{width:y,height:b,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const E=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:k;return await _.setViewport({x:y/2-w*E,y:b/2-g*E,zoom:E},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...UN}})},updateConnection:w=>{h({connection:w})},reset:()=>h({...Kx()})}},Object.is);function nT({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d,children:h}){const[p]=L.useState(()=>_z({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d}));return v.jsx($D,{value:p,children:v.jsx(u3,{children:h})})}function bz({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h}){return L.useContext(Jl)?v.jsx(v.Fragment,{children:e}):v.jsx(nT,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h,children:e})}const Sz={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Ez({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:M,onNodesDelete:z,onEdgesDelete:T,onDelete:O,onSelectionChange:q,onSelectionDragStart:I,onSelectionDrag:A,onSelectionDragStop:D,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:j,onBeforeDelete:S,connectionMode:$,connectionLineType:F=tr.Bezier,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:W=!1,selectionMode:ee=da.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:oe=pa()?"Meta":"Control",zoomActivationKeyCode:te=pa()?"Meta":"Control",snapToGrid:ie,snapGrid:ge,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:fe,nodesDraggable:se,autoPanOnNodeFocus:Ge,nodesConnectable:$e,nodesFocusable:pt,nodeOrigin:gt=T2,edgesFocusable:Ke,edgesReconnectable:Pe,elementsSelectable:qt=!0,defaultViewport:Ct=JD,minZoom:B=.5,maxZoom:U=2,translateExtent:re=fa,preventScrolling:de=!0,nodeExtent:me,defaultMarkerColor:Xe="#b1b1b7",zoomOnScroll:lt=!0,zoomOnPinch:Le=!0,panOnScroll:Qe=!1,panOnScrollSpeed:Z=.5,panOnScrollMode:ae=$r.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:ut=!0,onPaneClick:za,onPaneMouseEnter:Tu,onPaneMouseMove:wI,onPaneMouseLeave:_I,onPaneScroll:bI,onPaneContextMenu:SI,paneClickDistance:EI=1,nodeClickDistance:kI=0,children:CI,onReconnect:NI,onReconnectStart:TI,onReconnectEnd:PI,onEdgeContextMenu:II,onEdgeDoubleClick:jI,onEdgeMouseEnter:AI,onEdgeMouseMove:RI,onEdgeMouseLeave:MI,reconnectRadius:LI=10,onNodesChange:OI,onEdgesChange:DI,noDragClassName:zI="nodrag",noWheelClassName:qI="nowheel",noPanClassName:Av="nopan",fitView:Rv,fitViewOptions:Mv,connectOnClick:$I,attributionPosition:FI,proOptions:BI,defaultEdgeOptions:HI,elevateNodesOnSelect:VI=!0,elevateEdgesOnSelect:UI=!1,disableKeyboardA11y:Lv=!1,autoPanOnConnect:GI,autoPanOnNodeDrag:WI,autoPanSpeed:YI,connectionRadius:KI,isValidConnection:XI,onError:QI,style:ZI,id:Ov,nodeDragThreshold:JI,connectionDragThreshold:ej,viewport:tj,onViewportChange:nj,width:rj,height:ij,colorMode:oj="light",debug:aj,onScroll:qa,ariaLabelConfig:sj,zIndexMode:Dv="basic",...lj},uj){const Pu=Ov||"1",cj=r3(oj),fj=L.useCallback(zv=>{zv.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),qa==null||qa(zv)},[qa]);return v.jsx("div",{"data-testid":"rf__wrapper",...lj,onScroll:fj,style:{...ZI,...Sz},ref:uj,className:Ve(["react-flow",i,cj]),id:Ov,role:"application",children:v.jsxs(bz,{nodes:e,edges:t,width:rj,height:ij,fitView:Rv,fitViewOptions:Mv,minZoom:B,maxZoom:U,nodeOrigin:gt,nodeExtent:me,zIndexMode:Dv,children:[v.jsx(wz,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:o,edgeTypes:a,connectionLineType:F,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,selectionKeyCode:Q,selectionOnDrag:W,selectionMode:ee,deleteKeyCode:Y,multiSelectionKeyCode:oe,panActivationKeyCode:le,zoomActivationKeyCode:te,onlyRenderVisibleElements:ne,defaultViewport:Ct,translateExtent:re,minZoom:B,maxZoom:U,preventScrolling:de,zoomOnScroll:lt,zoomOnPinch:Le,zoomOnDoubleClick:Ie,panOnScroll:Qe,panOnScrollSpeed:Z,panOnScrollMode:ae,panOnDrag:ut,onPaneClick:za,onPaneMouseEnter:Tu,onPaneMouseMove:wI,onPaneMouseLeave:_I,onPaneScroll:bI,onPaneContextMenu:SI,paneClickDistance:EI,nodeClickDistance:kI,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:j,onReconnect:NI,onReconnectStart:TI,onReconnectEnd:PI,onEdgeContextMenu:II,onEdgeDoubleClick:jI,onEdgeMouseEnter:AI,onEdgeMouseMove:RI,onEdgeMouseLeave:MI,reconnectRadius:LI,defaultMarkerColor:Xe,noDragClassName:zI,noWheelClassName:qI,noPanClassName:Av,rfId:Pu,disableKeyboardA11y:Lv,nodeExtent:me,viewport:tj,onViewportChange:nj}),v.jsx(n3,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:g,nodesDraggable:se,autoPanOnNodeFocus:Ge,nodesConnectable:$e,nodesFocusable:pt,edgesFocusable:Ke,edgesReconnectable:Pe,elementsSelectable:qt,elevateNodesOnSelect:VI,elevateEdgesOnSelect:UI,minZoom:B,maxZoom:U,nodeExtent:me,onNodesChange:OI,onEdgesChange:DI,snapToGrid:ie,snapGrid:ge,connectionMode:$,translateExtent:re,connectOnClick:$I,defaultEdgeOptions:HI,fitView:Rv,fitViewOptions:Mv,onNodesDelete:z,onEdgesDelete:T,onDelete:O,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:M,onSelectionDrag:A,onSelectionDragStart:I,onSelectionDragStop:D,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:Av,nodeOrigin:gt,rfId:Pu,autoPanOnConnect:GI,autoPanOnNodeDrag:WI,autoPanSpeed:YI,onError:QI,connectionRadius:KI,isValidConnection:XI,selectNodesOnDrag:fe,nodeDragThreshold:JI,connectionDragThreshold:ej,onBeforeDelete:S,debug:aj,ariaLabelConfig:sj,zIndexMode:Dv}),v.jsx(ZD,{onSelectionChange:q}),CI,v.jsx(WD,{proOptions:BI,position:FI}),v.jsx(GD,{rfId:Pu,disableKeyboardA11y:Lv})]})})}var kz=A2(Ez);function Cz(e){const[t,n]=L.useState(e),r=L.useCallback(i=>n(o=>I2(i,o)),[]);return[t,n,r]}function Nz(e){const[t,n]=L.useState(e),r=L.useCallback(i=>n(o=>j2(i,o)),[]);return[t,n,r]}function Tz({dimensions:e,lineWidth:t,variant:n,className:r}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ve(["react-flow__background-pattern",n,r])})}function Pz({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:Ve(["react-flow__background-pattern","dots",t])})}var pr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pr||(pr={}));const Iz={[pr.Dots]:1,[pr.Lines]:1,[pr.Cross]:6},jz=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rT({id:e,variant:t=pr.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=L.useRef(null),{transform:d,patternId:h}=ve(jz,Ae),p=r||Iz[t],m=t===pr.Dots,w=t===pr.Cross,g=Array.isArray(n)?n:[n,n],x=[g[0]*d[2]||1,g[1]*d[2]||1],y=p*d[2],b=Array.isArray(o)?o:[o,o],k=w?[y,y]:x,_=[b[0]*d[2]||1+k[0]/2,b[1]*d[2]||1+k[1]/2],E=`${h}${e||""}`;return v.jsxs("svg",{className:Ve(["react-flow__background",u]),style:{...l,...nu,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[v.jsx("pattern",{id:E,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:m?v.jsx(Pz,{radius:y/2,className:c}):v.jsx(Tz,{dimensions:k,lineWidth:i,variant:t,className:c})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}rT.displayName="Background";const Az=L.memo(rT);function Rz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Mz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Lz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Oz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Dz(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function fs({children:e,className:t,...n}){return v.jsx("button",{type:"button",className:Ve(["react-flow__controls-button",t]),...n,children:e})}const zz=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function iT({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const p=Re(),{isInteractive:m,minZoomReached:w,maxZoomReached:g,ariaLabelConfig:x}=ve(zz,Ae),{zoomIn:y,zoomOut:b,fitView:k}=tu(),_=()=>{y(),o==null||o()},E=()=>{b(),a==null||a()},P=()=>{k(i),s==null||s()},M=()=>{p.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)},z=d==="horizontal"?"horizontal":"vertical";return v.jsxs(eu,{className:Ve(["react-flow__controls",z,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??x["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(fs,{onClick:_,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:g,children:v.jsx(Rz,{})}),v.jsx(fs,{onClick:E,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:w,children:v.jsx(Mz,{})})]}),n&&v.jsx(fs,{className:"react-flow__controls-fitview",onClick:P,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:v.jsx(Lz,{})}),r&&v.jsx(fs,{className:"react-flow__controls-interactive",onClick:M,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:m?v.jsx(Dz,{}):v.jsx(Oz,{})}),c]})}iT.displayName="Controls";const qz=L.memo(iT);function $z({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:m}=o||{},w=a||p||m;return v.jsx("rect",{className:Ve(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,style:{fill:w,stroke:s,strokeWidth:l},shapeRendering:f,onClick:h?g=>h(g,e):void 0})}const Fz=L.memo($z),Bz=e=>e.nodes.map(t=>t.id),fc=e=>e instanceof Function?e:()=>e;function Hz({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Fz,onClick:a}){const s=ve(Bz,Ae),l=fc(t),u=fc(e),c=fc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:s.map(d=>v.jsx(Uz,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},d))})}function Vz({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=ve(p=>{const{internals:m}=p.nodeLookup.get(e),w=m.userNode,{x:g,y:x}=m.positionAbsolute,{width:y,height:b}=Hn(w);return{node:w,x:g,y:x,width:y,height:b}},Ae);return!u||u.hidden||!ZN(u)?null:v.jsx(s,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:l,id:u.id})}const Uz=L.memo(Vz);var Gz=L.memo(Hz);const Wz=200,Yz=150,Kz=e=>!e.hidden,Xz=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?QN(Na(e.nodeLookup,{filter:Kz}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Qz="react-flow__minimap-desc";function oT({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:m=!1,zoomable:w=!1,ariaLabel:g,inversePan:x,zoomStep:y=1,offsetScale:b=5}){const k=Re(),_=L.useRef(null),{boundingRect:E,viewBB:P,rfId:M,panZoom:z,translateExtent:T,flowWidth:O,flowHeight:q,ariaLabelConfig:I}=ve(Xz,Ae),A=(e==null?void 0:e.width)??Wz,D=(e==null?void 0:e.height)??Yz,R=E.width/A,C=E.height/D,j=Math.max(R,C),S=j*A,$=j*D,F=b*j,N=E.x-(S-E.width)/2-F,H=E.y-($-E.height)/2-F,X=S+F*2,Y=$+F*2,Q=`${Qz}-${M}`,W=L.useRef(0),ee=L.useRef();W.current=j,L.useEffect(()=>{if(_.current&&z)return ee.current=tD({domNode:_.current,panZoom:z,getTransform:()=>k.getState().transform,getViewScale:()=>W.current}),()=>{var ie;(ie=ee.current)==null||ie.destroy()}},[z]),L.useEffect(()=>{var ie;(ie=ee.current)==null||ie.update({translateExtent:T,width:O,height:q,inversePan:x,pannable:m,zoomStep:y,zoomable:w})},[m,w,x,y,T,O,q]);const le=h?ie=>{var fe;const[ge,ne]=((fe=ee.current)==null?void 0:fe.pointer(ie))||[0,0];h(ie,{x:ge,y:ne})}:void 0,oe=p?L.useCallback((ie,ge)=>{const ne=k.getState().nodeLookup.get(ge).internals.userNode;p(ie,ne)},[]):void 0,te=g??I["minimap.ariaLabel"];return v.jsx(eu,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Ve(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:A,height:D,viewBox:`${N} ${H} ${X} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:_,onClick:le,children:[te&&v.jsx("title",{id:Q,children:te}),v.jsx(Gz,{onClick:oe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${N-F},${H-F}h${X+F*2}v${Y+F*2}h${-X-F*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}oT.displayName="MiniMap";const Zz=L.memo(oT),Jz=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,eq={[Ui.Line]:"right",[Ui.Handle]:"bottom-right"};function tq({nodeId:e,position:t,variant:n=Ui.Handle,className:r,style:i=void 0,children:o,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:m,onResize:w,onResizeEnd:g}){const x=O2(),y=typeof e=="string"?e:x,b=Re(),k=L.useRef(null),_=n===Ui.Handle,E=ve(L.useCallback(Jz(_&&h),[_,h]),Ae),P=L.useRef(null),M=t??eq[n];L.useEffect(()=>{if(!(!k.current||!y))return P.current||(P.current=gD({domNode:k.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:T,transform:O,snapGrid:q,snapToGrid:I,nodeOrigin:A,domNode:D}=b.getState();return{nodeLookup:T,transform:O,snapGrid:q,snapToGrid:I,nodeOrigin:A,paneDomNode:D}},onChange:(T,O)=>{const{triggerNodeChanges:q,nodeLookup:I,parentLookup:A,nodeOrigin:D}=b.getState(),R=[],C={x:T.x,y:T.y},j=I.get(y);if(j&&j.expandParent&&j.parentId){const S=j.origin??D,$=T.width??j.measured.width??0,F=T.height??j.measured.height??0,N={id:j.id,parentId:j.parentId,rect:{width:$,height:F,...JN({x:T.x??j.position.x,y:T.y??j.position.y},{width:$,height:F},j.parentId,I,S)}},H=Ky([N],I,A,D);R.push(...H),C.x=T.x?Math.max(S[0]*$,T.x):void 0,C.y=T.y?Math.max(S[1]*F,T.y):void 0}if(C.x!==void 0&&C.y!==void 0){const S={id:y,type:"position",position:{...C}};R.push(S)}if(T.width!==void 0&&T.height!==void 0){const $={id:y,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:T.width,height:T.height}};R.push($)}for(const S of O){const $={...S,type:"position"};R.push($)}q(R)},onEnd:({width:T,height:O})=>{const q={id:y,type:"dimensions",resizing:!1,dimensions:{width:T,height:O}};b.getState().triggerNodeChanges([q])}})),P.current.update({controlPosition:M,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:m,onResize:w,onResizeEnd:g,shouldResize:p}),()=>{var T;(T=P.current)==null||T.destroy()}},[M,s,l,u,c,f,m,w,g,p]);const z=M.split("-");return v.jsx("div",{className:Ve(["react-flow__resize-control","nodrag",...z,n,r]),ref:k,style:{...i,scale:E,...a&&{[_?"backgroundColor":"borderColor"]:a}},children:o})}L.memo(tq);const aT={},{useDebugValue:nq}=Vt,{useSyncExternalStoreWithSelector:rq}=b2;let Xx=!1;const iq=e=>e;function oq(e,t=iq,n){(aT?"production":void 0)!=="production"&&n&&!Xx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xx=!0);const r=rq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nq(r),r}const Qx=e=>{(aT?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?S2(e):e,n=(r,i)=>oq(t,r,i);return Object.assign(n,t),n},aq=e=>e?Qx(e):Qx,sq="/api";async function kr(e,t){const n=await fetch(`${sq}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||"Request failed")}if(n.status!==204)return n.json()}const Ir={projects:{list:()=>kr("/projects"),get:e=>kr(`/projects/${e}`),create:(e,t="")=>kr("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>kr(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>kr(`/projects/${e}`,{method:"DELETE"}),compile:e=>kr(`/projects/${e}/compile`),build:e=>kr(`/projects/${e}/build`,{method:"POST"})}},sn=aq((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,layoutDirection:"TB",fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await Ir.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,r)=>{const i=await Ir.projects.create(n,r);return e(o=>({projects:[{id:i.id,name:n,description:r||"",updated_at:i.updated_at},...o.projects]})),i},openProject:async n=>{const r=await Ir.projects.get(n);e({currentProject:r,selectedNodeId:null})},saveProject:async()=>{const{currentProject:n}=t();n&&await Ir.projects.update(n.id,n)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await Ir.projects.delete(n),e(r=>({projects:r.projects.filter(i=>i.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,r)=>e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...i.currentProject.agents[n],...r}}}}:i),renameAgent:(n,r)=>{n!==r&&(e(i=>{if(!i.currentProject||!i.currentProject.agents[n])return i;const o={...i.currentProject.agents};o[r]=o[n],delete o[n],Object.keys(o).forEach(l=>{var u;(u=o[l].sub_agents)!=null&&u.includes(n)&&(o[l]={...o[l],sub_agents:o[l].sub_agents.map(c=>c===n?r:c)})});const a=i.currentProject.workflow.edges.map(l=>({...l,from:l.from===n?r:l.from,to:l.to===n?r:l.to})),s={...i.currentProject.tool_configs};return Object.keys(s).forEach(l=>{if(l.startsWith(`${n}_`)){const u=l.replace(`${n}_`,`${r}_`);s[u]=s[l],delete s[l]}}),{currentProject:{...i.currentProject,agents:o,tool_configs:s,workflow:{...i.currentProject.workflow,edges:a}},selectedNodeId:i.selectedNodeId===n?r:i.selectedNodeId}}),t().saveProject())},addAgent:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(r=>{if(!r.currentProject)return r;const i=r.currentProject.agents[n],o=[n];i!=null&&i.sub_agents&&o.push(...i.sub_agents);const a={...r.currentProject.agents};o.forEach(l=>delete a[l]);const s={...r.currentProject.tool_configs};return Object.keys(s).forEach(l=>{o.some(u=>l.startsWith(`${u}_`))&&delete s[l]}),{currentProject:{...r.currentProject,agents:a,tool_configs:s,workflow:{...r.currentProject.workflow,edges:r.currentProject.workflow.edges.filter(l=>!o.includes(l.from)&&!o.includes(l.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:[...i.currentProject.workflow.edges,{from:n,to:r}]}}}:i),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(o=>!(o.from===n&&o.to===r))}}}:i),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;let a=r;if(r==="function"||r==="mcp"){const s=o.tools.filter(l=>l.startsWith(r));a=`${r}_${s.length+1}`}else if(o.tools.includes(r))return i;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:[...o.tools,a]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;const a=`${n}_${r}`,{[a]:s,...l}=i.currentProject.tool_configs;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:o.tools.filter(u=>u!==r)}},tool_configs:l},selectedToolId:i.selectedToolId===a?null:i.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:r,addAgent:i,updateAgent:o,saveProject:a}=t();if(!r)return;const s=r.agents[n];if(!s)return;const l=s.sub_agents.length+1,u=`${n}_agent_${l}`;i(u,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${l}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),o(n,{sub_agents:[...s.sub_agents,u]}),a()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,tool_configs:{...i.currentProject.tool_configs,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},setLayoutDirection:n=>e({layoutDirection:n})}));function lq(){const{projects:e,loadingProjects:t,createProject:n,openProject:r,deleteProject:i}=sn(),[o,a]=L.useState(!1),[s,l]=L.useState(""),u=async()=>{if(!s.trim())return;const c=await n(s.trim());l(""),a(!1),r(c.id)};return v.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Projects"}),v.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-studio-highlight rounded hover:opacity-90",children:"+ New Project"})]}),o&&v.jsxs("div",{className:"mb-6 p-4 bg-studio-panel rounded-lg border border-gray-700",children:[v.jsx("input",{type:"text",placeholder:"Project name",value:s,onChange:c=>l(c.target.value),onKeyDown:c=>c.key==="Enter"&&u(),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded mb-3 text-white",autoFocus:!0}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:u,className:"px-4 py-2 bg-studio-highlight rounded",children:"Create"}),v.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-700 rounded",children:"Cancel"})]})]}),t?v.jsx("div",{className:"text-gray-400",children:"Loading..."}):e.length===0?v.jsx("div",{className:"text-gray-400 text-center py-12",children:"No projects yet. Create one to get started!"}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>v.jsxs("div",{className:"p-4 bg-studio-panel rounded-lg border border-gray-700 hover:border-studio-highlight cursor-pointer group",onClick:()=>r(c.id),children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("span",{className:"font-medium",children:[" ",c.name]}),v.jsx("button",{onClick:f=>{f.stopPropagation(),confirm("Delete?")&&i(c.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:""})]}),c.description&&v.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.description}),v.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(c.updated_at).toLocaleDateString()})]},c.id))})]})}function uq(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fq=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dq={};function Zx(e,t){return(dq.jsx?fq:cq).test(e)}const hq=/[ \t\n\f\r]/g;function pq(e){return typeof e=="object"?e.type==="text"?Jx(e.value):!1:Jx(e)}function Jx(e){return e.replace(hq,"")===""}class Ia{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ia.prototype.normal={};Ia.prototype.property={};Ia.prototype.space=void 0;function sT(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ia(n,r,t)}function Cm(e){return e.toLowerCase()}class kt{constructor(t,n){this.attribute=n,this.property=t}}kt.prototype.attribute="";kt.prototype.booleanish=!1;kt.prototype.boolean=!1;kt.prototype.commaOrSpaceSeparated=!1;kt.prototype.commaSeparated=!1;kt.prototype.defined=!1;kt.prototype.mustUseProperty=!1;kt.prototype.number=!1;kt.prototype.overloadedBoolean=!1;kt.prototype.property="";kt.prototype.spaceSeparated=!1;kt.prototype.space=void 0;let gq=0;const he=Zr(),Be=Zr(),Nm=Zr(),G=Zr(),Ee=Zr(),Ii=Zr(),Nt=Zr();function Zr(){return 2**++gq}const Tm=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:Be,commaOrSpaceSeparated:Nt,commaSeparated:Ii,number:G,overloadedBoolean:Nm,spaceSeparated:Ee},Symbol.toStringTag,{value:"Module"})),dc=Object.keys(Tm);class Qy extends kt{constructor(t,n,r,i){let o=-1;if(super(t,n),e1(this,"space",i),typeof r=="number")for(;++o<dc.length;){const a=dc[o];e1(this,dc[o],(r&Tm[a])===Tm[a])}}}Qy.prototype.defined=!0;function e1(e,t,n){n&&(e[t]=n)}function Xi(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Qy(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Cm(r)]=r,n[Cm(o.attribute)]=r}return new Ia(t,n,e.space)}const lT=Xi({properties:{ariaActiveDescendant:null,ariaAtomic:Be,ariaAutoComplete:null,ariaBusy:Be,ariaChecked:Be,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Ee,ariaCurrent:null,ariaDescribedBy:Ee,ariaDetails:null,ariaDisabled:Be,ariaDropEffect:Ee,ariaErrorMessage:null,ariaExpanded:Be,ariaFlowTo:Ee,ariaGrabbed:Be,ariaHasPopup:null,ariaHidden:Be,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ee,ariaLevel:G,ariaLive:null,ariaModal:Be,ariaMultiLine:Be,ariaMultiSelectable:Be,ariaOrientation:null,ariaOwns:Ee,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Be,ariaReadOnly:Be,ariaRelevant:null,ariaRequired:Be,ariaRoleDescription:Ee,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Be,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function uT(e,t){return t in e?e[t]:t}function cT(e,t){return uT(e,t.toLowerCase())}const mq=Xi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ii,acceptCharset:Ee,accessKey:Ee,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Ee,autoFocus:he,autoPlay:he,blocking:Ee,capture:null,charSet:null,checked:he,cite:null,className:Ee,cols:G,colSpan:null,content:null,contentEditable:Be,controls:he,controlsList:Ee,coords:G|Ii,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:Nm,draggable:Be,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Ee,height:G,hidden:Nm,high:G,href:null,hrefLang:null,htmlFor:Ee,httpEquiv:Ee,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Ee,itemRef:Ee,itemScope:he,itemType:Ee,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:G,pattern:null,ping:Ee,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Ee,required:he,reversed:he,rows:G,rowSpan:G,sandbox:Ee,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Be,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:Be,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ee,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Be,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:cT}),yq=Xi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nt,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Ee,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ii,g2:Ii,glyphName:Ii,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ee,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nt,rev:Nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nt,requiredFeatures:Nt,requiredFonts:Nt,requiredFormats:Nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nt,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:uT}),fT=Xi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),dT=Xi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cT}),hT=Xi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),vq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xq=/[A-Z]/g,t1=/-[a-z]/g,wq=/^data[-\w.:]+$/i;function _q(e,t){const n=Cm(t);let r=t,i=kt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wq.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(t1,Sq);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!t1.test(o)){let a=o.replace(xq,bq);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Qy}return new i(r,t)}function bq(e){return"-"+e.toLowerCase()}function Sq(e){return e.charAt(1).toUpperCase()}const Eq=sT([lT,mq,fT,dT,hT],"html"),Zy=sT([lT,yq,fT,dT,hT],"svg");function kq(e){return e.join(" ").trim()}var Jy={},n1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Cq=/\n/g,Nq=/^\s*/,Tq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pq=/^:\s*/,Iq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,jq=/^[;\s]*/,Aq=/^\s+|\s+$/g,Rq=`
`,r1="/",i1="*",jr="",Mq="comment",Lq="declaration";function Oq(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(Cq);m&&(n+=m.length);var w=p.lastIndexOf(Rq);r=~w?p.length-w:r+p.length}function o(){var p={line:n,column:r};return function(m){return m.position=new a(p),u(),m}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function s(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function l(p){var m=p.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){l(Nq)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=o();if(!(r1!=e.charAt(0)||i1!=e.charAt(1))){for(var m=2;jr!=e.charAt(m)&&(i1!=e.charAt(m)||r1!=e.charAt(m+1));)++m;if(m+=2,jr===e.charAt(m-1))return s("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,p({type:Mq,comment:w})}}function d(){var p=o(),m=l(Tq);if(m){if(f(),!l(Pq))return s("property missing ':'");var w=l(Iq),g=p({type:Lq,property:o1(m[0].replace(n1,jr)),value:w?o1(w[0].replace(n1,jr)):jr});return l(jq),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return u(),h()}function o1(e){return e?e.replace(Aq,jr):jr}var Dq=Oq,zq=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.default=$q;const qq=zq(Dq);function $q(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,qq.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:a,value:s}=o;i?t(a,s,o):s&&(n=n||{},n[a]=s)}),n}var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.camelCase=void 0;var Fq=/^--[a-zA-Z0-9_-]+$/,Bq=/-([a-z])/g,Hq=/^[^-]+$/,Vq=/^-(webkit|moz|ms|o|khtml)-/,Uq=/^-(ms)-/,Gq=function(e){return!e||Hq.test(e)||Fq.test(e)},Wq=function(e,t){return t.toUpperCase()},a1=function(e,t){return"".concat(t,"-")},Yq=function(e,t){return t===void 0&&(t={}),Gq(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Uq,a1):e=e.replace(Vq,a1),e.replace(Bq,Wq))};iu.camelCase=Yq;var Kq=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Xq=Kq(Jy),Qq=iu;function Pm(e,t){var n={};return!e||typeof e!="string"||(0,Xq.default)(e,function(r,i){r&&i&&(n[(0,Qq.camelCase)(r,t)]=i)}),n}Pm.default=Pm;var Zq=Pm;const Jq=va(Zq),pT=gT("end"),ev=gT("start");function gT(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function e$(e){const t=ev(e),n=pT(e);if(t&&n)return{start:t,end:n}}function $o(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?s1(e.position):"start"in e||"end"in e?s1(e):"line"in e||"column"in e?Im(e):""}function Im(e){return l1(e&&e.line)+":"+l1(e&&e.column)}function s1(e){return Im(e&&e.start)+"-"+Im(e&&e.end)}function l1(e){return e&&typeof e=="number"?e:1}class st extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=$o(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}st.prototype.file="";st.prototype.name="";st.prototype.reason="";st.prototype.message="";st.prototype.stack="";st.prototype.column=void 0;st.prototype.line=void 0;st.prototype.ancestors=void 0;st.prototype.cause=void 0;st.prototype.fatal=void 0;st.prototype.place=void 0;st.prototype.ruleId=void 0;st.prototype.source=void 0;const tv={}.hasOwnProperty,t$=new Map,n$=/[A-Z]/g,r$=new Set(["table","tbody","thead","tfoot","tr"]),i$=new Set(["td","th"]),mT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function o$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=h$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=d$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Zy:Eq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=yT(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function yT(e,t,n){if(t.type==="element")return a$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return s$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return u$(e,t,n);if(t.type==="mdxjsEsm")return l$(e,t);if(t.type==="root")return c$(e,t,n);if(t.type==="text")return f$(e,t)}function a$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Zy,e.schema=i),e.ancestors.push(t);const o=xT(e,t.tagName,!1),a=p$(e,t);let s=rv(e,t);return r$.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!pq(l):!0})),vT(e,a,o,t),nv(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function s$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ma(e,t.position)}function l$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ma(e,t.position)}function u$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Zy,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:xT(e,t.name,!0),a=g$(e,t),s=rv(e,t);return vT(e,a,o,t),nv(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function c$(e,t,n){const r={};return nv(r,rv(e,t)),e.create(t,e.Fragment,r,n)}function f$(e,t){return t.value}function vT(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function nv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function d$(e,t,n){return r;function r(i,o,a,s){const u=Array.isArray(a.children)?n:t;return s?u(o,a,s):u(o,a)}}function h$(e,t){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=ev(r);return t(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function p$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&tv.call(t.properties,i)){const o=m$(e,i,t.properties[i]);if(o){const[a,s]=o;e.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&i$.has(t.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function g$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ma(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else ma(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function rv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:t$;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=yT(e,o,a);s!==void 0&&n.push(s)}return n}function m$(e,t,n){const r=_q(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uq(n):kq(n)),r.property==="style"){let i=typeof n=="object"?n:y$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=v$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?vq[r.property]||r.property:r.attribute,n]}}function y$(e,t){try{return Jq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new st("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=mT+"#cannot-parse-style-attribute",i}}function xT(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const s=Zx(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=Zx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return tv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ma(e)}function ma(e,t){const n=new st("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function v$(e){const t={};let n;for(n in e)tv.call(e,n)&&(t[x$(n)]=e[n]);return t}function x$(e){let t=e.replace(n$,w$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function w$(e){return"-"+e.toLowerCase()}const hc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},_$={};function b$(e,t){const n=_$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wT(e,r,i)}function wT(e,t,n){if(S$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return u1(e.children,t,n)}return Array.isArray(e)?u1(e,t,n):""}function u1(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=wT(e[i],t,n);return r.join("")}function S$(e){return!!(e&&typeof e=="object")}const c1=document.createElement("i");function iv(e){const t="&"+e+";";c1.innerHTML=t;const n=c1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sn(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Bt(e,t){return e.length>0?(Sn(e,e.length,0,t),e):t}const f1={}.hasOwnProperty;function E$(e){const t={};let n=-1;for(;++n<e.length;)k$(t,e[n]);return t}function k$(e,t){let n;for(n in t){const i=(f1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){f1.call(i,a)||(i[a]=[]);const s=o[a];C$(i[a],Array.isArray(s)?s:s?[s]:[])}}}function C$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sn(e,0,0,r)}function _T(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yn=Sr(/[A-Za-z]/),Rt=Sr(/[\dA-Za-z]/),N$=Sr(/[#-'*+\--9=?A-Z^-~]/);function jm(e){return e!==null&&(e<32||e===127)}const Am=Sr(/\d/),T$=Sr(/[\dA-Fa-f]/),P$=Sr(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function we(e){return e===-2||e===-1||e===32}const I$=Sr(new RegExp("\\p{P}|\\p{S}","u")),j$=Sr(/\s/);function Sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Qi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Rt(e.charCodeAt(n+1))&&Rt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return we(l)?(e.enter(n),s(l)):t(l)}function s(l){return we(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const A$={tokenize:R$};function R$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ue(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const M$={tokenize:L$},d1={tokenize:O$};function L$(e){const t=this,n=[];let r=0,i,o,a;return s;function s(y){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let k=b,_;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){_=t.events[k][1].end;break}g(r);let E=b;for(;E<t.events.length;)t.events[E][1].end={..._},E++;return Sn(t.events,k+1,0,t.events.slice(b)),t.events.length=E,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return d(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(d1,c,f)(y)}function c(y){return i&&x(),g(r),d(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(y)}function d(y){return t.containerState={},e.attempt(d1,h,p)(y)}function h(y){return r++,n.push([t.currentConstruct,t.containerState]),d(y)}function p(y){if(y===null){i&&x(),g(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(y)}function m(y){if(y===null){w(e.exit("chunkFlow"),!0),g(0),e.consume(y);return}return ue(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),m)}function w(y,b){const k=t.sliceStream(y);if(b&&k.push(null),y.previous=o,o&&(o.next=y),o=y,i.defineSkip(y.start),i.write(k),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const E=t.events.length;let P=E,M,z;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(M){z=t.events[P][1].end;break}M=!0}for(g(r),_=E;_<t.events.length;)t.events[_][1].end={...z},_++;Sn(t.events,P+1,0,t.events.slice(E)),t.events.length=_}}function g(y){let b=n.length;for(;b-- >y;){const k=n[b];t.containerState=k[1],k[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function O$(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function h1(e){if(e===null||St(e)||j$(e))return 1;if(I$(e))return 2}function ov(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Rm={name:"attention",resolveAll:D$,tokenize:z$};function D$(e,t){let n=-1,r,i,o,a,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};p1(f,-l),p1(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Bt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Bt(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=Bt(u,ov(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Bt(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Bt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Sn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function z$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=h1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const u=e.exit("attentionSequence"),c=h1(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function p1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const q$={name:"autolink",tokenize:$$};function $$(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return yn(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Rt(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Rt(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||jm(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):N$(h)?(e.consume(h),u):n(h)}function c(h){return Rt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Rt(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const ou={partial:!0,tokenize:F$};function F$(e,t,n){return r;function r(o){return we(o)?Ce(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ue(o)?t(o):n(o)}}const bT={continuation:{tokenize:H$},exit:V$,name:"blockQuote",tokenize:B$};function B$(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return we(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function H$(e,t,n){const r=this;return i;function i(a){return we(a)?Ce(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(bT,t,n)(a)}}function V$(e){e.exit("blockQuote")}const ST={name:"characterEscape",tokenize:U$};function U$(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return P$(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const ET={name:"characterReference",tokenize:G$};function G$(e,t,n){const r=this;let i=0,o,a;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Rt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=T$,c):(e.enter("characterReferenceValue"),o=7,a=Am,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return a===Rt&&!iv(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<o?(e.consume(f),c):n(f)}}const g1={partial:!0,tokenize:Y$},m1={concrete:!0,name:"codeFenced",tokenize:W$};function W$(e,t,n){const r=this,i={partial:!0,tokenize:k};let o=0,a=0,s;return l;function l(_){return u(_)}function u(_){const E=r.events[r.events.length-1];return o=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===s?(a++,e.consume(_),c):a<3?n(_):(e.exit("codeFencedFenceSequence"),we(_)?Ce(e,f,"whitespace")(_):f(_))}function f(_){return _===null||ue(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(g1,m,b)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||ue(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):we(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,h,"whitespace")(_)):_===96&&_===s?n(_):(e.consume(_),d)}function h(_){return _===null||ue(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||ue(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===s?n(_):(e.consume(_),p)}function m(_){return e.attempt(i,b,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),g}function g(_){return o>0&&we(_)?Ce(e,x,"linePrefix",o+1)(_):x(_)}function x(_){return _===null||ue(_)?e.check(g1,m,b)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||ue(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),y)}function b(_){return e.exit("codeFenced"),t(_)}function k(_,E,P){let M=0;return z;function z(A){return _.enter("lineEnding"),_.consume(A),_.exit("lineEnding"),T}function T(A){return _.enter("codeFencedFence"),we(A)?Ce(_,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):O(A)}function O(A){return A===s?(_.enter("codeFencedFenceSequence"),q(A)):P(A)}function q(A){return A===s?(M++,_.consume(A),q):M>=a?(_.exit("codeFencedFenceSequence"),we(A)?Ce(_,I,"whitespace")(A):I(A)):P(A)}function I(A){return A===null||ue(A)?(_.exit("codeFencedFence"),E(A)):P(A)}}}function Y$(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const pc={name:"codeIndented",tokenize:X$},K$={partial:!0,tokenize:Q$};function X$(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ce(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):ue(u)?e.attempt(K$,a,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||ue(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Q$(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ce(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):ue(a)?i(a):n(a)}}const Z$={name:"codeText",previous:eF,resolve:J$,tokenize:tF};function J$(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function eF(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tF(e,t,n){let r=0,i,o;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ue(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class nF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&po(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),po(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),po(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);po(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);po(this.left,n.reverse())}}}function po(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function kT(e){const t={};let n=-1,r,i,o,a,s,l,u;const c=new nF(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rF(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=c.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Sn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function rF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,f,d=-1,h=n,p=0,m=0;const w=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,w.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),d=w.length;d--;){const g=s.slice(w[d],w[d+1]),x=o.pop();l.push([x,x+g.length-1]),e.splice(x,2,g)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const iF={resolve:aF,tokenize:sF},oF={partial:!0,tokenize:lF};function aF(e){return kT(e),e}function sF(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):ue(s)?e.check(oF,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function lF(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ce(e,o,"linePrefix")}function o(a){if(a===null||ue(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function CT(e,t,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),d):g===null||g===32||g===41||jm(g)?n(g):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(s),d(g)):g===null||g===60||ue(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return!c&&(g===null||g===41||St(g))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(g)):c<u&&g===40?(e.consume(g),c++,m):g===41?(e.consume(g),c--,m):g===null||g===32||g===40||jm(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function NT(e,t,n,r,i,o){const a=this;let s=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||ue(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!we(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}function TT(e,t,n,r,i,o){let a;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):n(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===a?(e.exit(o),l(a)):d===null?n(d):ue(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||ue(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===a||d===92?(e.consume(d),c):c(d)}}function Fo(e,t){let n;return r;function r(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):we(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const uF={name:"definition",tokenize:fF},cF={partial:!0,tokenize:dF};function fF(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),a(h)}function a(h){return NT.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return St(h)?Fo(e,u)(h):u(h)}function u(h){return CT(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(cF,f,f)(h)}function f(h){return we(h)?Ce(e,d,"whitespace")(h):d(h)}function d(h){return h===null||ue(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function dF(e,t,n){return r;function r(s){return St(s)?Fo(e,i)(s):n(s)}function i(s){return TT(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return we(s)?Ce(e,a,"whitespace")(s):a(s)}function a(s){return s===null||ue(s)?t(s):n(s)}}const hF={name:"hardBreakEscape",tokenize:pF};function pF(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ue(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const gF={name:"headingAtx",resolve:mF,tokenize:yF};function mF(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function yF(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||St(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ue(c)?(e.exit("atxHeading"),t(c)):we(c)?Ce(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||St(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const vF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],y1=["pre","script","style","textarea"],xF={concrete:!0,name:"htmlFlow",resolveTo:bF,tokenize:SF},wF={partial:!0,tokenize:kF},_F={partial:!0,tokenize:EF};function bF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function SF(e,t,n){const r=this;let i,o,a,s,l;return u;function u(N){return c(N)}function c(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),o=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:S):yn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function d(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,s=0,p):yn(N)?(e.consume(N),i=4,r.interrupt?t:S):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:S):n(N)}function p(N){const H="CDATA[";return N===H.charCodeAt(s++)?(e.consume(N),s===H.length?r.interrupt?t:O:p):n(N)}function m(N){return yn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||St(N)){const H=N===47,X=a.toLowerCase();return!H&&!o&&y1.includes(X)?(i=1,r.interrupt?t(N):O(N)):vF.includes(a.toLowerCase())?(i=6,H?(e.consume(N),g):r.interrupt?t(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):o?x(N):y(N))}return N===45||Rt(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return we(N)?(e.consume(N),x):z(N)}function y(N){return N===47?(e.consume(N),z):N===58||N===95||yn(N)?(e.consume(N),b):we(N)?(e.consume(N),y):z(N)}function b(N){return N===45||N===46||N===58||N===95||Rt(N)?(e.consume(N),b):k(N)}function k(N){return N===61?(e.consume(N),_):we(N)?(e.consume(N),k):y(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,E):we(N)?(e.consume(N),_):P(N)}function E(N){return N===l?(e.consume(N),l=null,M):N===null||ue(N)?n(N):(e.consume(N),E)}function P(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||St(N)?k(N):(e.consume(N),P)}function M(N){return N===47||N===62||we(N)?y(N):n(N)}function z(N){return N===62?(e.consume(N),T):n(N)}function T(N){return N===null||ue(N)?O(N):we(N)?(e.consume(N),T):n(N)}function O(N){return N===45&&i===2?(e.consume(N),D):N===60&&i===1?(e.consume(N),R):N===62&&i===4?(e.consume(N),$):N===63&&i===3?(e.consume(N),S):N===93&&i===5?(e.consume(N),j):ue(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(wF,F,q)(N)):N===null||ue(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),O)}function q(N){return e.check(_F,I,F)(N)}function I(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),A}function A(N){return N===null||ue(N)?q(N):(e.enter("htmlFlowData"),O(N))}function D(N){return N===45?(e.consume(N),S):O(N)}function R(N){return N===47?(e.consume(N),a="",C):O(N)}function C(N){if(N===62){const H=a.toLowerCase();return y1.includes(H)?(e.consume(N),$):O(N)}return yn(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),C):O(N)}function j(N){return N===93?(e.consume(N),S):O(N)}function S(N){return N===62?(e.consume(N),$):N===45&&i===2?(e.consume(N),S):O(N)}function $(N){return N===null||ue(N)?(e.exit("htmlFlowData"),F(N)):(e.consume(N),$)}function F(N){return e.exit("htmlFlow"),t(N)}}function EF(e,t,n){const r=this;return i;function i(a){return ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function kF(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ou,t,n)}}const CF={name:"htmlText",tokenize:NF};function NF(e,t,n){const r=this;let i,o,a;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),k):S===63?(e.consume(S),y):yn(S)?(e.consume(S),P):n(S)}function u(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),o=0,p):yn(S)?(e.consume(S),x):n(S)}function c(S){return S===45?(e.consume(S),h):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),d):ue(S)?(a=f,R(S)):(e.consume(S),f)}function d(S){return S===45?(e.consume(S),h):f(S)}function h(S){return S===62?D(S):S===45?d(S):f(S)}function p(S){const $="CDATA[";return S===$.charCodeAt(o++)?(e.consume(S),o===$.length?m:p):n(S)}function m(S){return S===null?n(S):S===93?(e.consume(S),w):ue(S)?(a=m,R(S)):(e.consume(S),m)}function w(S){return S===93?(e.consume(S),g):m(S)}function g(S){return S===62?D(S):S===93?(e.consume(S),g):m(S)}function x(S){return S===null||S===62?D(S):ue(S)?(a=x,R(S)):(e.consume(S),x)}function y(S){return S===null?n(S):S===63?(e.consume(S),b):ue(S)?(a=y,R(S)):(e.consume(S),y)}function b(S){return S===62?D(S):y(S)}function k(S){return yn(S)?(e.consume(S),_):n(S)}function _(S){return S===45||Rt(S)?(e.consume(S),_):E(S)}function E(S){return ue(S)?(a=E,R(S)):we(S)?(e.consume(S),E):D(S)}function P(S){return S===45||Rt(S)?(e.consume(S),P):S===47||S===62||St(S)?M(S):n(S)}function M(S){return S===47?(e.consume(S),D):S===58||S===95||yn(S)?(e.consume(S),z):ue(S)?(a=M,R(S)):we(S)?(e.consume(S),M):D(S)}function z(S){return S===45||S===46||S===58||S===95||Rt(S)?(e.consume(S),z):T(S)}function T(S){return S===61?(e.consume(S),O):ue(S)?(a=T,R(S)):we(S)?(e.consume(S),T):M(S)}function O(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,q):ue(S)?(a=O,R(S)):we(S)?(e.consume(S),O):(e.consume(S),I)}function q(S){return S===i?(e.consume(S),i=void 0,A):S===null?n(S):ue(S)?(a=q,R(S)):(e.consume(S),q)}function I(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||St(S)?M(S):(e.consume(S),I)}function A(S){return S===47||S===62||St(S)?M(S):n(S)}function D(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function R(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),C}function C(S){return we(S)?Ce(e,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):j(S)}function j(S){return e.enter("htmlTextData"),a(S)}}const av={name:"labelEnd",resolveAll:jF,resolveTo:AF,tokenize:RF},TF={tokenize:MF},PF={tokenize:LF},IF={tokenize:OF};function jF(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Sn(e,0,e.length,n),e}function AF(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Bt(s,e.slice(o+1,o+r+3)),s=Bt(s,[["enter",c,t]]),s=Bt(s,ov(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=Bt(s,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),s=Bt(s,e.slice(a+1)),s=Bt(s,[["exit",l,t]]),Sn(e,o,e.length,s),e}function RF(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?f(d):(a=r.parser.defined.includes(ji(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(TF,c,a?c:f)(d):d===91?e.attempt(PF,c,a?u:f)(d):a?c(d):f(d)}function u(d){return e.attempt(IF,c,f)(d)}function c(d){return t(d)}function f(d){return o._balanced=!0,n(d)}}function MF(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return St(f)?Fo(e,o)(f):o(f)}function o(f){return f===41?c(f):CT(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return St(f)?Fo(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?TT(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return St(f)?Fo(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function LF(e,t,n){const r=this;return i;function i(s){return NT.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function OF(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const DF={name:"labelStartImage",resolveAll:av.resolveAll,tokenize:zF};function zF(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const qF={name:"labelStartLink",resolveAll:av.resolveAll,tokenize:$F};function $F(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const gc={name:"lineEnding",tokenize:FF};function FF(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const Os={name:"thematicBreak",tokenize:BF};function BF(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ue(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),we(u)?Ce(e,s,"whitespace")(u):s(u))}}const mt={continuation:{tokenize:GF},exit:YF,name:"list",tokenize:UF},HF={partial:!0,tokenize:KF},VF={partial:!0,tokenize:WF};function UF(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Am(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Os,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Am(h)&&++a<10?(e.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(ou,r.interrupt?n:c,e.attempt(HF,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return we(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function GF(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ou,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!we(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(VF,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(mt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function WF(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function YF(e){e.exit(this.containerState.type)}function KF(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!we(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const v1={name:"setextUnderline",resolveTo:XF,tokenize:QF};function XF(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function QF(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),we(u)?Ce(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ue(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const ZF={tokenize:JF};function JF(e){const t=this,n=e.attempt(ou,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(iF,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const e5={resolveAll:IT()},t5=PT("string"),n5=PT("text");function PT(e){return{resolveAll:IT(e==="text"?r5:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function IT(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function r5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const i5={42:mt,43:mt,45:mt,48:mt,49:mt,50:mt,51:mt,52:mt,53:mt,54:mt,55:mt,56:mt,57:mt,62:bT},o5={91:uF},a5={[-2]:pc,[-1]:pc,32:pc},s5={35:gF,42:Os,45:[v1,Os],60:xF,61:v1,95:Os,96:m1,126:m1},l5={38:ET,92:ST},u5={[-5]:gc,[-4]:gc,[-3]:gc,33:DF,38:ET,42:Rm,60:[q$,CF],91:qF,92:[hF,ST],93:av,95:Rm,96:Z$},c5={null:[Rm,e5]},f5={null:[42,95]},d5={null:[]},h5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:f5,contentInitial:o5,disable:d5,document:i5,flow:s5,flowInitial:a5,insideSpan:c5,string:l5,text:u5},Symbol.toStringTag,{value:"Module"}));function p5(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:E(k),check:E(_),consume:x,enter:y,exit:b,interrupt:E(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(T){return a=Bt(a,T),w(),a[a.length-1]!==null?[]:(P(t,0),u.events=ov(o,u.events,u),u.events)}function d(T,O){return m5(h(T),O)}function h(T){return g5(a,T)}function p(){const{_bufferIndex:T,_index:O,line:q,column:I,offset:A}=r;return{_bufferIndex:T,_index:O,line:q,column:I,offset:A}}function m(T){i[T.line]=T.column,z()}function w(){let T;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(T){c=c(T)}function x(T){ue(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,z()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=T}function y(T,O){const q=O||{};return q.type=T,q.start=p(),u.events.push(["enter",q,u]),s.push(q),q}function b(T){const O=s.pop();return O.end=p(),u.events.push(["exit",O,u]),O}function k(T,O){P(T,O.from)}function _(T,O){O.restore()}function E(T,O){return q;function q(I,A,D){let R,C,j,S;return Array.isArray(I)?F(I):"tokenize"in I?F([I]):$(I);function $(Y){return Q;function Q(W){const ee=W!==null&&Y[W],le=W!==null&&Y.null,oe=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(le)?le:le?[le]:[]];return F(oe)(W)}}function F(Y){return R=Y,C=0,Y.length===0?D:N(Y[C])}function N(Y){return Q;function Q(W){return S=M(),j=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?X():Y.tokenize.call(O?Object.assign(Object.create(u),O):u,l,H,X)(W)}}function H(Y){return T(j,S),A}function X(Y){return S.restore(),++C<R.length?N(R[C]):D}}}function P(T,O){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&Sn(u.events,O,u.events.length-O,T.resolve(u.events.slice(O),u)),T.resolveTo&&(u.events=T.resolveTo(u.events,u))}function M(){const T=p(),O=u.previous,q=u.currentConstruct,I=u.events.length,A=Array.from(s);return{from:I,restore:D};function D(){r=T,u.previous=O,u.currentConstruct=q,u.events.length=I,s=A,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function g5(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function m5(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function y5(e){const r={constructs:E$([h5,...(e||{}).extensions||[]]),content:i(A$),defined:[],document:i(M$),flow:i(ZF),lazy:{},string:i(t5),text:i(n5)};return r;function i(o){return a;function a(s){return p5(r,o,s)}}}function v5(e){for(;!kT(e););return e}const x1=/[\0\t\n\r]/g;function x5(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let u,c,f,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(x1.lastIndex=f,u=x1.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const w5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _5(e){return e.replace(w5,b5)}function b5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return _T(n.slice(o?2:1),o?16:10)}return iv(n)||e}const jT={}.hasOwnProperty;function S5(e,t,n){return typeof t!="string"&&(n=t,t=void 0),E5(n)(v5(y5(n).document().write(x5()(e,t,!0))))}function E5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o($e),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(ne),blockQuote:o(le),characterEscape:M,characterReference:M,codeFenced:o(oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(oe,a),codeText:o(te,a),codeTextData:M,data:M,codeFlowValue:M,definition:o(ie),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ge),hardBreakEscape:o(fe),hardBreakTrailing:o(fe),htmlFlow:o(se,a),htmlFlowData:M,htmlText:o(se,a),htmlTextData:M,image:o(Ge),label:a,link:o($e),listItem:o(gt),listItemValue:d,listOrdered:o(pt,f),listUnordered:o(pt),paragraph:o(Ke),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(ne),strong:o(Pe),thematicBreak:o(Ct)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:ee,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Y,characterReference:Q,codeFenced:l(w),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:z,codeIndented:l(g),codeText:l(A),codeTextData:z,data:z,definition:l(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(q),htmlFlowData:z,htmlText:l(I),htmlTextData:z,image:l(R),label:j,labelText:C,lineEnding:T,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:H,resourceDestinationString:S,resourceTitleString:$,resource:F,setextHeading:l(P),setextHeadingLineSequence:E,setextHeadingText:_,strong:l(),thematicBreak:l()}};AT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let U={type:"root",children:[]};const re={stack:[U],tokenStack:[],config:t,enter:s,exit:u,buffer:a,resume:c,data:n},de=[];let me=-1;for(;++me<B.length;)if(B[me][1].type==="listOrdered"||B[me][1].type==="listUnordered")if(B[me][0]==="enter")de.push(me);else{const Xe=de.pop();me=i(B,Xe,me)}for(me=-1;++me<B.length;){const Xe=t[B[me][0]];jT.call(Xe,B[me][1].type)&&Xe[B[me][1].type].call(Object.assign({sliceSerialize:B[me][2].sliceSerialize},re),B[me][1])}if(re.tokenStack.length>0){const Xe=re.tokenStack[re.tokenStack.length-1];(Xe[1]||w1).call(re,void 0,Xe[0])}for(U.position={start:Kn(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Kn(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},me=-1;++me<t.transforms.length;)U=t.transforms[me](U)||U;return U}function i(B,U,re){let de=U-1,me=-1,Xe=!1,lt,Le,Qe,Z;for(;++de<=re;){const ae=B[de];switch(ae[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ae[0]==="enter"?me++:me--,Z=void 0;break}case"lineEndingBlank":{ae[0]==="enter"&&(lt&&!Z&&!me&&!Qe&&(Qe=de),Z=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Z=void 0}if(!me&&ae[0]==="enter"&&ae[1].type==="listItemPrefix"||me===-1&&ae[0]==="exit"&&(ae[1].type==="listUnordered"||ae[1].type==="listOrdered")){if(lt){let Ie=de;for(Le=void 0;Ie--;){const ut=B[Ie];if(ut[1].type==="lineEnding"||ut[1].type==="lineEndingBlank"){if(ut[0]==="exit")continue;Le&&(B[Le][1].type="lineEndingBlank",Xe=!0),ut[1].type="lineEnding",Le=Ie}else if(!(ut[1].type==="linePrefix"||ut[1].type==="blockQuotePrefix"||ut[1].type==="blockQuotePrefixWhitespace"||ut[1].type==="blockQuoteMarker"||ut[1].type==="listItemIndent"))break}Qe&&(!Le||Qe<Le)&&(lt._spread=!0),lt.end=Object.assign({},Le?B[Le][1].start:ae[1].end),B.splice(Le||de,0,["exit",lt,ae[2]]),de++,re++}if(ae[1].type==="listItemPrefix"){const Ie={type:"listItem",_spread:!1,start:Object.assign({},ae[1].start),end:void 0};lt=Ie,B.splice(de,0,["enter",Ie,ae[2]]),de++,re++,Qe=void 0,Z=!0}}}return B[U][1]._spread=Xe,re}function o(B,U){return re;function re(de){s.call(this,B(de),de),U&&U.call(this,de)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(B,U,re){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([U,re||void 0]),B.position={start:Kn(U.start),end:void 0}}function l(B){return U;function U(re){B&&B.call(this,re),u.call(this,re)}}function u(B,U){const re=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==B.type&&(U?U.call(this,B,de[0]):(de[1]||w1).call(this,B,de[0]));else throw new Error("Cannot close `"+B.type+"` ("+$o({start:B.start,end:B.end})+"): its not open");re.position.end=Kn(B.end)}function c(){return b$(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(B){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function h(){const B=this.resume(),U=this.stack[this.stack.length-1];U.lang=B}function p(){const B=this.resume(),U=this.stack[this.stack.length-1];U.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const U=this.resume(),re=this.stack[this.stack.length-1];re.label=U,re.identifier=ji(this.sliceSerialize(B)).toLowerCase()}function y(){const B=this.resume(),U=this.stack[this.stack.length-1];U.title=B}function b(){const B=this.resume(),U=this.stack[this.stack.length-1];U.url=B}function k(B){const U=this.stack[this.stack.length-1];if(!U.depth){const re=this.sliceSerialize(B).length;U.depth=re}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function E(B){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function M(B){const re=this.stack[this.stack.length-1].children;let de=re[re.length-1];(!de||de.type!=="text")&&(de=qt(),de.position={start:Kn(B.start),end:void 0},re.push(de)),this.stack.push(de)}function z(B){const U=this.stack.pop();U.value+=this.sliceSerialize(B),U.position.end=Kn(B.end)}function T(B){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=U.children[U.children.length-1];re.position.end=Kn(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(M.call(this,B),z.call(this,B))}function O(){this.data.atHardBreak=!0}function q(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function I(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function A(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function D(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=U,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function R(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=U,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function C(B){const U=this.sliceSerialize(B),re=this.stack[this.stack.length-2];re.label=_5(U),re.identifier=ji(U).toLowerCase()}function j(){const B=this.stack[this.stack.length-1],U=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const de=B.children;re.children=de}else re.alt=U}function S(){const B=this.resume(),U=this.stack[this.stack.length-1];U.url=B}function $(){const B=this.resume(),U=this.stack[this.stack.length-1];U.title=B}function F(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function H(B){const U=this.resume(),re=this.stack[this.stack.length-1];re.label=U,re.identifier=ji(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function X(B){this.data.characterReferenceType=B.type}function Y(B){const U=this.sliceSerialize(B),re=this.data.characterReferenceType;let de;re?(de=_T(U,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=iv(U);const me=this.stack[this.stack.length-1];me.value+=de}function Q(B){const U=this.stack.pop();U.position.end=Kn(B.end)}function W(B){z.call(this,B);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(B)}function ee(B){z.call(this,B);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(B)}function le(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function se(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function pt(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function gt(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function qt(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function Kn(e){return{line:e.line,column:e.column,offset:e.offset}}function AT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?AT(e,r):k5(e,r)}}function k5(e,t){let n;for(n in t)if(jT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function w1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$o({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is still open")}function C5(e){const t=this;t.parser=n;function n(r){return S5(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function N5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function T5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function P5(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function I5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Qi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function R5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function RT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function L5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return RT(e,t);const i={src:Qi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function O5(e,t){const n={src:Qi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function D5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function z5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return RT(e,t);const i={href:Qi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function q5(e,t){const n={href:Qi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $5(e,t,n){const r=e.all(t),i=n?F5(n):MT(t),o={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function F5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=MT(n[r])}return t}function MT(e){const t=e.spread;return t??e.children.length>1}function B5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function H5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function U5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=ev(t.children[1]),l=pT(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function W5(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],d={},h=a?a[l]:void 0;h&&(d.align=h);let p={type:"element",tagName:o,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Y5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _1=9,b1=32;function K5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(S1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(S1(t.slice(i),i>0,!1)),o.join("")}function S1(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===_1||o===b1;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===_1||o===b1;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function X5(e,t){const n={type:"text",value:K5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Q5(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Z5={blockquote:N5,break:T5,code:P5,delete:I5,emphasis:j5,footnoteReference:A5,heading:R5,html:M5,imageReference:L5,image:O5,inlineCode:D5,linkReference:z5,link:q5,listItem:$5,list:B5,paragraph:H5,root:V5,strong:U5,table:G5,tableCell:Y5,tableRow:W5,text:X5,thematicBreak:Q5,toml:ds,yaml:ds,definition:ds,footnoteDefinition:ds};function ds(){}const LT=-1,au=0,Bo=1,wl=2,sv=3,lv=4,uv=5,cv=6,OT=7,DT=8,E1=typeof self=="object"?self:globalThis,J5=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case au:case LT:return n(a,i);case Bo:{const s=n([],i);for(const l of a)s.push(r(l));return s}case wl:{const s=n({},i);for(const[l,u]of a)s[r(l)]=r(u);return s}case sv:return n(new Date(a),i);case lv:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case uv:{const s=n(new Map,i);for(const[l,u]of a)s.set(r(l),r(u));return s}case cv:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case OT:{const{name:s,message:l}=a;return n(new E1[s](l),i)}case DT:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new E1[o](a),i)};return r},k1=e=>J5(new Map,e)(0),ai="",{toString:e6}={},{keys:t6}=Object,go=e=>{const t=typeof e;if(t!=="object"||!e)return[au,t];const n=e6.call(e).slice(8,-1);switch(n){case"Array":return[Bo,ai];case"Object":return[wl,ai];case"Date":return[sv,ai];case"RegExp":return[lv,ai];case"Map":return[uv,ai];case"Set":return[cv,ai];case"DataView":return[Bo,n]}return n.includes("Array")?[Bo,n]:n.includes("Error")?[OT,n]:[wl,n]},hs=([e,t])=>e===au&&(t==="function"||t==="symbol"),n6=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=go(a);switch(s){case au:{let c=a;switch(l){case"bigint":s=DT,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([LT],a)}return i([s,c],a)}case Bo:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const c=[],f=i([s,c],a);for(const d of a)c.push(o(d));return f}case wl:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const c=[],f=i([s,c],a);for(const d of t6(a))(e||!hs(go(a[d])))&&c.push([o(d),o(a[d])]);return f}case sv:return i([s,a.toISOString()],a);case lv:{const{source:c,flags:f}=a;return i([s,{source:c,flags:f}],a)}case uv:{const c=[],f=i([s,c],a);for(const[d,h]of a)(e||!(hs(go(d))||hs(go(h))))&&c.push([o(d),o(h)]);return f}case cv:{const c=[],f=i([s,c],a);for(const d of a)(e||!hs(go(d)))&&c.push(o(d));return f}}const{message:u}=a;return i([s,{name:l,message:u}],a)};return o},C1=(e,{json:t,lossy:n}={})=>{const r=[];return n6(!(t||n),!!t,new Map,r)(e),r},_l=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?k1(C1(e,t)):structuredClone(e):(e,t)=>k1(C1(e,t));function r6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function i6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||r6,r=e.options.footnoteBackLabel||i6,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=Qi(f.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,h);typeof x=="string"&&(x={type:"text",value:x}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...p)}else c.push(...p);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{..._l(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const zT=function(e){if(e==null)return u6;if(typeof e=="function")return su(e);if(typeof e=="object")return Array.isArray(e)?a6(e):s6(e);if(typeof e=="string")return l6(e);throw new Error("Expected function, string, or object as test")};function a6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zT(e[n]);return su(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function s6(e){const t=e;return su(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function l6(e){return su(t);function t(n){return n&&n.type===e}}function su(e){return t;function t(n,r,i){return!!(c6(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function u6(){return!0}function c6(e){return e!==null&&typeof e=="object"&&"type"in e}const qT=[],f6=!0,N1=!1,d6="skip";function h6(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=zT(i),a=r?-1:1;s(e,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=qT,p,m,w;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=p6(n(l,c)),h[0]===N1))return h;if("children"in l&&l.children){const g=l;if(g.children&&h[0]!==d6)for(m=(r?g.children.length:-1)+a,w=c.concat(g);m>-1&&m<g.children.length;){const x=g.children[m];if(p=s(x,m,w)(),p[0]===N1)return p;m=typeof p[1]=="number"?p[1]:m+a}}return h}}}function p6(e){return Array.isArray(e)?e:typeof e=="number"?[f6,e]:e==null?qT:[e]}function $T(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),h6(e,o,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return a(l,f,c)}}const Mm={}.hasOwnProperty,g6={};function m6(e,t){const n=t||g6,r=new Map,i=new Map,o=new Map,a={...Z5,...n.handlers},s={all:u,applyData:v6,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:y6,wrap:w6};return $T(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),s;function l(c,f){const d=c.type,h=s.handlers[d];if(Mm.call(s.handlers,d)&&h)return h(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in c){const{children:m,...w}=c,g=_l(w);return g.children=s.all(c),g}return _l(c)}return(s.options.unknownHandler||x6)(s,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=s.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=T1(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=T1(m.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function y6(e,t){e.position&&(t.position=e$(e))}function v6(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,_l(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function x6(e,t){const n=t.data||{},r="value"in t&&!(Mm.call(n,"hProperties")||Mm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function w6(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function T1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function P1(e,t){const n=m6(e,t),r=n.one(e,void 0),i=o6(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function _6(e,t){return e&&"run"in e?async function(n,r){const i=P1(n,{file:r,...t});await e.run(i,r)}:function(n,r){return P1(n,{file:r,...e||t})}}function I1(e){if(e)throw e}var Ds=Object.prototype.hasOwnProperty,FT=Object.prototype.toString,j1=Object.defineProperty,A1=Object.getOwnPropertyDescriptor,R1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):FT.call(t)==="[object Array]"},M1=function(t){if(!t||FT.call(t)!=="[object Object]")return!1;var n=Ds.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ds.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ds.call(t,i)},L1=function(t,n){j1&&n.name==="__proto__"?j1(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},O1=function(t,n){if(n==="__proto__")if(Ds.call(t,n)){if(A1)return A1(t,n).value}else return;return t[n]},b6=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=O1(s,n),i=O1(t,n),s!==i&&(c&&i&&(M1(i)||(o=R1(i)))?(o?(o=!1,a=r&&R1(r)?r:[]):a=r&&M1(r)?r:{},L1(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&L1(s,{name:n,newValue:i}));return s};const mc=va(b6);function Lm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function S6(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const c=e[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?E6(c,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function E6(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const pn={basename:k6,dirname:C6,extname:N6,join:T6,sep:"/"};function k6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ja(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function C6(e){if(ja(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function N6(e){ja(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function T6(...e){let t=-1,n;for(;++t<e.length;)ja(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":P6(n)}function P6(e){ja(e);const t=e.codePointAt(0)===47;let n=I6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function I6(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function ja(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const j6={cwd:A6};function A6(){return"/"}function Om(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function R6(e){if(typeof e=="string")e=new URL(e);else if(!Om(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return M6(e)}function M6(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const yc=["history","path","basename","stem","extname","dirname"];class BT{constructor(t){let n;t?Om(t)?n={path:t}:typeof t=="string"||L6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":j6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yc.length;){const o=yc[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)yc.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pn.basename(this.path):void 0}set basename(t){xc(t,"basename"),vc(t,"basename"),this.path=pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pn.dirname(this.path):void 0}set dirname(t){D1(this.basename,"dirname"),this.path=pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pn.extname(this.path):void 0}set extname(t){if(vc(t,"extname"),D1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Om(t)&&(t=R6(t)),xc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pn.basename(this.path,this.extname):void 0}set stem(t){xc(t,"stem"),vc(t,"stem"),this.path=pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new st(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vc(e,t){if(e&&e.includes(pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pn.sep+"`")}function xc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function D1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function L6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const O6=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},D6={}.hasOwnProperty;class fv extends O6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=S6()}copy(){const t=new fv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(mc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(bc("data",this.frozen),this.namespace[t]=n,this):D6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(bc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ps(t),r=this.parser||this.Parser;return wc("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),wc("process",this.parser||this.Parser),_c("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=ps(t),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);$6(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?a(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),wc("processSync",this.parser||this.Parser),_c("processSync",this.compiler||this.Compiler),this.process(t,i),q1("processSync","process",n),r;function i(o,a){n=!0,I1(o),r=a}}run(t,n,r){z1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=ps(n);i.run(t,l,u);function u(c,f,d){const h=f||t;c?s(c):a?a(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),q1("runSync","run",r),i;function o(a,s){I1(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=ps(n),i=this.compiler||this.Compiler;return _c("stringify",i),z1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(bc("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=mc(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];Lm(m)&&Lm(h)&&(h=mc(!0,m,h)),r[d]=[u,h,...p]}}}}const z6=new fv().freeze();function wc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _c(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function bc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z1(e){if(!Lm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function q1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ps(e){return q6(e)?e:new BT(e)}function q6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $6(e){return typeof e=="string"||F6(e)}function F6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const B6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$1=[],F1={allowDangerousHtml:!0},H6=/^(https?|ircs?|mailto|xmpp)$/i,V6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function B1(e){const t=U6(e),n=G6(e);return W6(t.runSync(t.parse(n),n),e)}function U6(e){const t=e.rehypePlugins||$1,n=e.remarkPlugins||$1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...F1}:F1;return z6().use(C5).use(n).use(_6,r).use(t)}function G6(e){const t=e.children||"",n=new BT;return typeof t=="string"&&(n.value=t),n}function W6(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Y6;for(const c of V6)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+B6+c.id,void 0);return $T(e,u),o$(e,{Fragment:v.Fragment,components:i,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return a?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in hc)if(Object.hasOwn(hc,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=hc[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,d)),h&&d&&typeof f=="number")return s&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function Y6(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||H6.test(e.slice(0,t))?e:""}function K6(e,t){const[n,r]=L.useState(!1),[i,o]=L.useState(""),[a,s]=L.useState(""),[l,u]=L.useState([]),[c,f]=L.useState([]),[d,h]=L.useState(null),[p,m]=L.useState(0),w=L.useRef(null),g=L.useRef(""),x=L.useRef(""),y=L.useRef(null),b=L.useRef(0),k=L.useRef(new Set),_=(T,O,q,I)=>{f(A=>[...A,{type:T,timestamp:Date.now(),data:O,agent:q||x.current,screenshot:I}])},E=L.useCallback((T,O,q)=>{if(!e)return;g.current="",x.current="",b.current=0,k.current=new Set,o(""),s(""),u([]),m(0),f(R=>[...R,{type:"user",timestamp:Date.now(),data:T}]),r(!0);const I=new URLSearchParams({input:T});t&&I.set("binary_path",t),y.current&&I.set("session_id",y.current);const A=new EventSource(`/api/projects/${e}/stream?${I}`);w.current=A;let D=!1;A.addEventListener("session",R=>{y.current=R.data,h(R.data)}),A.addEventListener("agent",R=>{g.current&&(g.current+=`

`,o(g.current)),x.current=R.data,s(R.data),_("agent_start","runtime",R.data)}),A.addEventListener("chunk",R=>{g.current=R.data,o(g.current)}),A.addEventListener("trace",R=>{try{const C=JSON.parse(R.data);if(C.type==="node_start"){const j=C.node;k.current.has(j)&&(b.current++,m(b.current),k.current.clear()),k.current.add(j),x.current=j,s(j),_("agent_start",`Iter ${b.current+1}, Step ${C.step}`,j)}else if(C.type==="node_end")_("agent_end",`${C.duration_ms}ms`,C.node);else if(C.type==="state"){const j=C.state||{};j.response&&_("model",j.response.slice(0,100)+(j.response.length>100?"...":""),x.current)}else if(C.type==="done"){const j=C.state||{};j.response&&_("model",j.response.slice(0,150)+(j.response.length>150?"...":"")),_("done",`${C.total_steps} steps`)}}catch{}}),A.addEventListener("log",R=>{try{const C=JSON.parse(R.data);C.agent&&(x.current=C.agent,s(C.agent)),C.message&&_("model",C.message,C.agent)}catch{}}),A.addEventListener("tool_call",R=>{try{const C=JSON.parse(R.data);u(j=>[...j,{name:C.name,args:C.args}]),g.current+=`
 Calling ${C.name}...
`,o(g.current),_("tool_call",`${C.name}(${JSON.stringify(C.args)})`)}catch{}}),A.addEventListener("tool_result",R=>{try{const C=JSON.parse(R.data),j=typeof C.result=="string"?JSON.parse(C.result):C.result;let S;j!=null&&j.base64_image&&(S=j.base64_image);const $=S?" Screenshot captured":typeof C.result=="string"?C.result:JSON.stringify(C.result).slice(0,200);g.current+=` ${C.name}: ${$}
`,o(g.current),_("tool_result",`${C.name}  ${$}`,void 0,S)}catch{}}),A.addEventListener("end",()=>{D=!0;const R=g.current;o(""),s(""),r(!1),A.close(),O(R)}),A.addEventListener("error",R=>{if(!D){const C=R.data||"Connection error";o(""),s(""),r(!1),A.close(),_("error",C),q==null||q(C)}})},[e,t]),P=L.useCallback(()=>{var T;(T=w.current)==null||T.close(),o(""),s(""),r(!1)},[]),M=L.useCallback(()=>f([]),[]),z=L.useCallback(async()=>{y.current&&await fetch(`/api/sessions/${y.current}`,{method:"DELETE"}).catch(()=>{}),y.current=null,h(null),f([])},[]);return{send:E,cancel:P,isStreaming:n,streamingText:i,currentAgent:a,toolCalls:l,events:c,clearEvents:M,sessionId:d,newSession:z,iteration:p}}function X6({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:r,binaryPath:i}){const{currentProject:o}=sn(),[a,s]=L.useState([]),[l,u]=L.useState(""),[c,f]=L.useState("chat"),{send:d,cancel:h,isStreaming:p,streamingText:m,currentAgent:w,toolCalls:g,events:x,sessionId:y,newSession:b,iteration:k}=K6((o==null?void 0:o.id)??null,i),_=L.useRef(null),E=L.useRef(null),P=L.useRef(!1),M=L.useRef(null);L.useEffect(()=>{n==null||n(k)},[k,n]),L.useEffect(()=>{w&&(M.current=w,t==null||t(w))},[w,t]),L.useEffect(()=>{var R;(R=_.current)==null||R.scrollIntoView({behavior:"smooth"})},[a,m]),L.useEffect(()=>{var R;(R=E.current)==null||R.scrollIntoView({behavior:"smooth"})},[x]),L.useEffect(()=>{const R=w||M.current;m&&R?(console.log("[TestConsole] Emitting thought:",R,m.slice(-50)),r==null||r(R,m.slice(-150))):!p&&M.current&&(r==null||r(M.current,null))},[m,w,p,r]),L.useEffect(()=>{m?e==null||e("output"):p||(e==null||e("idle"),t==null||t(null))},[m,p,e,t]);const z=()=>{if(!l.trim()||!o||p||P.current)return;P.current=!0;const R=l.trim();u(""),s(C=>[...C,{role:"user",content:R}]),e==null||e("input"),M.current=null,d(R,C=>{C&&s(j=>[...j,{role:"assistant",content:C,agent:M.current||void 0}]),e==null||e("idle"),P.current=!1},C=>{s(j=>[...j,{role:"assistant",content:`Error: ${C}`}]),e==null||e("idle"),P.current=!1})},T=()=>{s([]),b()},O=()=>{h(),e==null||e("idle")},q=p&&!m,I=R=>{const C=new Date(R);return`${C.toLocaleTimeString("en-US",{hour12:!1})}:${String(C.getMilliseconds()).padStart(3,"0")}`},A=R=>{switch(R){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},D=R=>{switch(R){case"user":return"text-blue-400";case"agent_start":return"text-green-400";case"agent_end":return"text-green-300";case"model":return"text-gray-300";case"done":return"text-purple-400";case"error":return"text-red-400";default:return"text-gray-400"}};return v.jsxs("div",{className:"flex flex-col h-full bg-studio-panel border-t border-gray-700",children:[v.jsxs("div",{className:"p-2 border-b border-gray-700 text-sm flex justify-between items-center",children:[v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("button",{onClick:()=>f("chat"),className:`px-3 py-1 rounded text-xs ${c==="chat"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:" Chat"}),v.jsxs("button",{onClick:()=>f("events"),className:`px-3 py-1 rounded text-xs ${c==="events"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:[" Events ",x.length>0&&`(${x.length})`]}),y&&v.jsxs("span",{className:"ml-2 text-xs text-gray-500",title:y,children:["Session: ",y.slice(0,8),"..."]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:T,className:"text-green-400 text-xs hover:text-green-300 flex items-center gap-1",title:"Start new conversation",children:" New"}),p&&v.jsx("button",{onClick:O,className:"text-red-400 text-xs",children:"Stop"})]})]}),c==="chat"&&v.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[a.length===0&&!m&&!q&&v.jsx("div",{className:"text-gray-500 text-sm",children:"Send a message to test your agent..."}),a.map((R,C)=>v.jsxs("div",{className:`text-sm ${R.role==="user"?"text-blue-400":"text-gray-200"}`,children:[v.jsx("span",{className:"font-semibold",children:R.role==="user"?"You: ":`${R.agent||"Agent"}: `}),R.role==="user"?v.jsx("span",{children:R.content}):v.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:v.jsx(B1,{children:R.content})})]},C)),q&&v.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[v.jsx("span",{className:"animate-spin",children:""}),v.jsx("span",{children:w?`${w} is thinking...`:"Thinking..."})]}),m&&v.jsxs("div",{className:"text-sm text-gray-200",children:[v.jsxs("span",{className:"font-semibold",children:[w||"Agent",": "]}),v.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:v.jsx(B1,{children:m})}),v.jsx("span",{className:"animate-pulse",children:""})]}),g.length>0&&p&&v.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["Tools used: ",g.map(R=>R.name).join(", ")]}),v.jsx("div",{ref:_})]}),c==="events"&&v.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[x.length===0&&v.jsx("div",{className:"text-gray-500",children:"No events yet. Send a message to see the trace."}),x.map((R,C)=>v.jsxs("div",{className:"py-1 border-b border-gray-800",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("span",{className:"text-gray-500 w-24 flex-shrink-0",children:I(R.timestamp)}),v.jsx("span",{children:A(R.type)}),v.jsxs("span",{className:`${D(R.type)} flex-1`,children:[R.agent&&v.jsxs("span",{className:"text-yellow-400 mr-2",children:["[",R.agent,"]"]}),R.type==="user"?`Input: ${R.data}`:R.type==="agent_start"?`Started ${R.data}`:R.type==="agent_end"?`Completed in ${R.data}`:R.type==="model"?`Response: ${R.data}`:R.type==="done"?`Done (${R.data})`:R.data]})]}),R.screenshot&&v.jsx("div",{className:"ml-28 mt-2 mb-2",children:v.jsx("img",{src:`data:image/png;base64,${R.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border border-gray-600"})})]},C)),v.jsx("div",{ref:E})]}),v.jsxs("div",{className:"p-2 border-t border-gray-700 flex gap-2",children:[v.jsx("input",{type:"text",value:l,onChange:R=>u(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.repeat&&(R.preventDefault(),z())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm",disabled:p}),v.jsx("button",{onClick:z,disabled:p||!l.trim(),className:"px-4 py-2 bg-studio-highlight rounded text-sm disabled:opacity-50",children:"Send"})]})]})}const Q6=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}];function Z6({onExportCode:e,onNewProject:t}){const[n,r]=L.useState(null),i=L.useRef(null),{currentProject:o,addAgent:a,removeAgent:s,addEdge:l,removeEdge:u}=sn();L.useEffect(()=>{const p=m=>{i.current&&!i.current.contains(m.target)&&r(null)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=p=>{var m;o&&((((m=o.workflow)==null?void 0:m.edges)||[]).forEach(w=>u(w.from,w.to)),Object.keys(o.agents).forEach(w=>s(w)),Object.entries(p.agents).forEach(([w,g])=>{a(w,g)}),p.edges.forEach(w=>l(w.from,w.to)),r(null))},f=({name:p,children:m})=>v.jsxs("div",{className:"relative",children:[v.jsx("button",{className:`px-3 py-1 text-sm hover:bg-gray-700 rounded ${n===p?"bg-gray-700":""}`,onClick:()=>r(n===p?null:p),children:p}),n===p&&v.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50",children:m})]}),d=({onClick:p,children:m,disabled:w})=>v.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-700 ${w?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{w||(p(),r(null))},disabled:w,children:m}),h=()=>v.jsx("div",{className:"border-t border-gray-600 my-1"});return v.jsxs("div",{ref:i,className:"flex items-center gap-1 px-2 py-1 bg-gray-900 border-b border-gray-700",children:[v.jsx("span",{className:"text-sm font-semibold text-blue-400 mr-4",children:" ADK Studio"}),v.jsxs(f,{name:"File",children:[v.jsx(d,{onClick:t,children:" New Project"}),v.jsx(h,{}),v.jsx(d,{onClick:e,disabled:!o,children:" Export Code"})]}),v.jsxs(f,{name:"Templates",children:[v.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-600",children:"Add to current project"}),Q6.map(p=>v.jsxs(d,{onClick:()=>c(p),disabled:!o,children:[p.icon," ",p.name]},p.id))]}),v.jsxs(f,{name:"Help",children:[v.jsx(d,{onClick:()=>window.open("https://github.com/amazon/adk-rust","_blank"),children:" Documentation"}),v.jsx(h,{}),v.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400",children:[v.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),v.jsx("div",{children:"Drag agents from left panel"}),v.jsx("div",{children:"Click agent to edit properties"}),v.jsx("div",{children:"Drag tools onto agents"})]}),v.jsx(h,{}),v.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"ADK Studio v0.1.0"})]}),v.jsx("div",{className:"flex-1"}),o&&v.jsxs("span",{className:"text-sm text-gray-400",children:["Project: ",v.jsx("span",{className:"text-white",children:o.name})]})]})}const H1={google_search:"",browser:"",mcp:"",function:"",file:"",code:"",default:""},J6=e=>H1[Object.keys(H1).find(t=>e.toLowerCase().includes(t))||"default"],HT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsx("div",{className:"relative",children:v.jsxs("div",{className:"rounded-lg min-w-[180px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:v.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1.5",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.model||"gemini-2.0-flash"})]})}),e.tools&&e.tools.length>0&&v.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 space-y-1",children:e.tools.map(r=>v.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-300",children:[v.jsx("span",{children:J6(r)}),v.jsx("span",{children:r})]},r))}),e.thought&&v.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:v.jsx("div",{className:"text-xs rounded px-2 py-1.5",style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",maxHeight:"80px",overflowY:"auto"},children:v.jsxs("div",{className:"flex items-start gap-1.5",children:[v.jsx("span",{className:"flex-shrink-0",children:""}),v.jsxs("span",{className:"text-white/90 leading-relaxed",children:[e.thought,n&&v.jsx("span",{className:"ml-1 animate-pulse",children:""})]})]})})})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})})});HT.displayName="LlmAgentNode";const VT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map((r,i)=>v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[e.activeSubAgent===r?"":`${i+1}.`," ",r]},r))})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});VT.displayName="SequentialNode";const UT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=e.maxIterations||3,i=e.currentIteration||0,o=n?`Iteration ${i+1}/${r}`:`Max ${r}x`;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#3d1e5f",border:`2px solid ${n?"#4ade80":"#a855f7"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[v.jsx("div",{className:"text-xs text-purple-300 mb-1",children:o}),v.jsx("div",{className:"space-y-1",children:(e.subAgents||[]).map((a,s)=>v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===a?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[e.activeSubAgent===a?"":`${s+1}.`," ",a]},a))})]})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});UT.displayName="LoopNode";const GT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e5f3d",border:`2px solid ${n?"#4ade80":"#34d399"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 flex flex-wrap gap-1",children:(e.subAgents||[]).map(r=>v.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[" ",r]},r))})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});GT.displayName="ParallelNode";const WT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return v.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#5f3d1e",border:`2px solid ${n?"#4ade80":"#f59e0b"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[v.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),v.jsxs("div",{className:"px-3 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[v.jsx("span",{children:""}),v.jsx("span",{children:e.label}),n&&v.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),v.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.routes||[]).map(r=>v.jsxs("div",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${e.activeRoute===r.condition?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[v.jsx("span",{className:"text-yellow-400",children:r.condition}),v.jsx("span",{className:"text-gray-500",children:""}),v.jsx("span",{children:r.target})]},r.condition))})]}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});WT.displayName="RouterNode";const bl="!w-2 !h-2 !bg-gray-400";function eB(){return v.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#1a472a",border:"2px solid #4ade80",color:"#fff"},children:[v.jsx("span",{children:" START"}),v.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:bl}),v.jsx(Se,{type:"source",position:K.Right,id:"right",className:bl})]})}function tB(){return v.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#4a1a1a",border:"2px solid #f87171",color:"#fff"},children:[v.jsx("span",{children:" END"}),v.jsx(Se,{type:"target",position:K.Top,id:"top",className:bl}),v.jsx(Se,{type:"target",position:K.Left,id:"left",className:bl})]})}const nB={llm:HT,sequential:VT,loop:UT,parallel:GT,router:WT,start:eB,end:tB};function rB({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:a,data:s}){const[l]=vl({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:a}),u=(s==null?void 0:s.animated)||!1;return v.jsxs(v.Fragment,{children:[v.jsx("path",{id:e,d:l,fill:"none",stroke:u?"#ef4444":"#6b7280",strokeWidth:u?3:2,strokeDasharray:u?"8 4":"none",style:{animation:u?"dashFlow 0.5s linear infinite":"none"}}),v.jsx("style",{children:"@keyframes dashFlow { to { stroke-dashoffset: -12; } }"})]})}const iB={animated:rB},oB=[{type:"llm",label:"LLM Agent"},{type:"sequential",label:"Sequential Agent"},{type:"loop",label:"Loop Agent"},{type:"parallel",label:"Parallel Agent"},{type:"router",label:"Router Agent"}];function aB({onDragStart:e,onCreate:t}){return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Agents"}),v.jsx("div",{className:"space-y-1",children:oB.map(({type:n,label:r})=>v.jsxs("div",{draggable:!0,onDragStart:i=>e(i,n),onClick:()=>t(n),className:"p-2 bg-studio-accent rounded text-sm cursor-grab hover:bg-studio-highlight",children:[" ",r]},n))})]})}const YT=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function sB({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:r}){const i=(o,a)=>{o.dataTransfer.setData("text/plain",`tool:${a}`),o.dataTransfer.effectAllowed="copy"};return v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Tools"}),v.jsx("div",{className:"space-y-1",children:YT.map(({type:o,label:a,icon:s})=>{const l=o==="function"||o==="mcp",u=l?t.some(f=>f.startsWith(o)):t.includes(o),c=l?t.filter(f=>f.startsWith(o)).length:0;return v.jsxs("div",{draggable:!0,onDragStart:f=>i(f,o),className:`p-2 rounded text-sm cursor-grab flex items-center gap-2 ${u?"bg-green-800 hover:bg-green-700":"bg-gray-700 hover:bg-gray-600"} ${e?"":"opacity-50"}`,onClick:()=>{e&&(l||!u?n(o):r(o))},children:[v.jsx("span",{children:s}),v.jsx("span",{className:"text-xs",children:a}),l&&c>0&&v.jsx("span",{className:"ml-auto text-xs bg-blue-600 px-1 rounded",children:c}),!l&&u&&v.jsx("span",{className:"ml-auto text-xs",children:""})]},o)})})]})}function lB({nodeId:e,agent:t,agents:n,toolConfigs:r,onUpdate:i,onRename:o,onAddSubAgent:a,onClose:s,onSelectTool:l,onRemoveTool:u}){const c=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[f,d]=Vt.useState(!1),[h,p]=Vt.useState(e),m=()=>{const w=h.trim().replace(/\s+/g,"_");w&&w!==e&&!n[w]?o(e,w):p(e),d(!1)};return v.jsxs("div",{className:"w-72 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f?v.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 bg-studio-bg border border-blue-500 rounded text-sm font-semibold",value:h,onChange:w=>p(w.target.value),onBlur:m,onKeyDown:w=>w.key==="Enter"&&m()}):v.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-400",onClick:()=>d(!0),title:"Click to rename",children:[e," ",v.jsx("span",{className:"text-xs text-gray-500",children:""})]}),v.jsx("button",{onClick:s,className:"px-2 py-1 bg-gray-600 rounded text-xs ml-2",children:"Close"})]}),c?v.jsx(uB,{nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:a}):t.type==="router"?v.jsx(cB,{nodeId:e,agent:t,onUpdate:i}):v.jsx(fB,{nodeId:e,agent:t,toolConfigs:r,onUpdate:i,onSelectTool:l,onRemoveTool:u})]})}function uB({nodeId:e,agent:t,agents:n,onUpdate:r,onAddSubAgent:i}){return v.jsxs("div",{children:[t.type==="loop"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4 p-2 bg-purple-900/50 border border-purple-600 rounded text-xs",children:[v.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:" Loop Agent Tips"}),v.jsx("p",{className:"text-purple-200",children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iterations"}),v.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.max_iterations||3,onChange:o=>r(e,{max_iterations:parseInt(o.target.value)||3})})]})]}),v.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((o,a)=>{const s=n[o];return s?v.jsxs("div",{className:"mb-4 p-2 bg-gray-800 rounded",children:[v.jsxs("div",{className:"text-sm font-medium mb-2",children:[t.type==="parallel"?"":`${a+1}.`," ",o]}),v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs mb-2",value:s.model||"",onChange:l=>r(o,{model:l.target.value})}),v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20",value:s.instruction,onChange:l=>r(o,{instruction:l.target.value})})]},o):null}),v.jsx("button",{onClick:i,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"+ Add Sub-Agent"})]})}function cB({nodeId:e,agent:t,onUpdate:n}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:r=>n(e,{model:r.target.value})}),v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Routing Instruction"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20 mb-3",value:t.instruction,onChange:r=>n(e,{instruction:r.target.value})}),v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Routes"}),(t.routes||[]).map((r,i)=>v.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[v.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"condition",value:r.condition,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,condition:o.target.value},n(e,{routes:a})}}),v.jsx("span",{className:"text-gray-500",children:""}),v.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"target",value:r.target,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,target:o.target.value},n(e,{routes:a})}}),v.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((o,a)=>a!==i)}),children:""})]},i)),v.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function fB({nodeId:e,agent:t,toolConfigs:n,onUpdate:r,onSelectTool:i,onRemoveTool:o}){const[a,s]=Vt.useState(!1);return v.jsxs("div",{className:"space-y-4",children:[v.jsxs(V1,{title:"Basic",children:[v.jsx(Cr,{label:"Model",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.model||"",onChange:l=>r(e,{model:l.target.value}),placeholder:"gemini-2.0-flash"})}),v.jsx(Cr,{label:"Instruction",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-24",value:t.instruction,onChange:l=>r(e,{instruction:l.target.value}),placeholder:"You are a helpful assistant..."})}),v.jsx(Cr,{label:"Description",hint:"Optional agent description",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.description||"",onChange:l=>r(e,{description:l.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&v.jsx(V1,{title:"Tools",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(l=>{const u=l.startsWith("function")?"function":l.startsWith("mcp")?"mcp":l,c=YT.find(p=>p.type===u),f=`${e}_${l}`,d=n[f],h=d&&"name"in d&&d.name?d.name:(c==null?void 0:c.label)||l;return v.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer ${d?"bg-green-800":"bg-gray-700"} hover:bg-gray-600`,onClick:()=>i(f),children:[c==null?void 0:c.icon," ",h," ",v.jsx("span",{className:"text-blue-400",children:""}),v.jsx("button",{onClick:p=>{p.stopPropagation(),o(l)},className:"ml-1 text-red-400 hover:text-red-300",children:""})]},l)})})}),v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>s(!a),className:"w-full text-left text-xs text-gray-400 hover:text-gray-300 flex items-center gap-1",children:[v.jsx("span",{children:a?"":""})," Advanced Settings"]}),a&&v.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l border-gray-700",children:[v.jsx(Cr,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16",value:t.global_instruction||"",onChange:l=>r(e,{global_instruction:l.target.value}),placeholder:"Always respond in JSON format..."})}),v.jsx(Cr,{label:"Output Key",hint:"Custom state key for agent output",children:v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.output_key||"",onChange:l=>r(e,{output_key:l.target.value}),placeholder:"response (default)"})}),v.jsx(Cr,{label:"Output Schema",hint:"JSON Schema for structured output",children:v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20 font-mono",value:t.output_schema||"",onChange:l=>r(e,{output_schema:l.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),v.jsx(Cr,{label:"Include Contents",children:v.jsxs("select",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.include_contents||"all",onChange:l=>r(e,{include_contents:l.target.value}),children:[v.jsx("option",{value:"all",children:"All history"}),v.jsx("option",{value:"last",children:"Last message only"}),v.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function V1({title:e,children:t}){return v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2",children:e}),v.jsx("div",{className:"space-y-2",children:t})]})}function Cr({label:e,hint:t,children:n}){return v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:[e,t&&v.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",t,")"]})]}),n]})}const dB=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],hB=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function KT(e){const t=e.name||"my_function",n=e.parameters.map(i=>{const o=i.param_type==="number"?"as_f64().unwrap_or(0.0)":i.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${i.name} = args["${i.name}"].${o};`}).join(`
`),r=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${r}
}`}function pB(e,t){const n=e.split(`
`),r=t.parameters.length+1,i=n.length-1;return r>=i?t.code||"":n.slice(r,i).map(o=>o.replace(/^    /,"")).join(`
`)}function gB({toolId:e,config:t,onUpdate:n,onClose:r,onOpenCodeEditor:i}){const o=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",s=t||(o==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:o==="function"?{type:"function",name:"",description:"",parameters:[]}:o==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),l=["exit_loop","google_search","load_artifact"].includes(o);return!s&&!l?null:v.jsxs("div",{className:"w-80 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-semibold",children:"Configure Tool"}),v.jsx("button",{onClick:r,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),o==="mcp"&&v.jsx(mB,{config:s,onUpdate:n}),o==="function"&&v.jsx(yB,{config:s,onUpdate:n,onOpenCodeEditor:i}),o==="browser"&&v.jsx(vB,{config:s,onUpdate:n}),l&&v.jsx(xB,{type:o})]})}function mB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quick Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:hB.map(n=>v.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[v.jsx("span",{children:n.icon}),v.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Command"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Args (one per line)"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20",value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function yB({config:e,onUpdate:t,onOpenCodeEditor:n}){const r=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),i=(a,s)=>{const l=[...e.parameters];l[a]={...l[a],...s},t({...e,parameters:l})},o=a=>t({...e,parameters:e.parameters.filter((s,l)=>l!==a)});return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Function Name"}),v.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"get_weather",value:e.name,onChange:a=>t({...e,name:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),v.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-16",value:e.description,onChange:a=>t({...e,description:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Parameters"}),e.parameters.map((a,s)=>v.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[v.jsx("input",{className:"flex-1 px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"name",value:a.name,onChange:l=>i(s,{name:l.target.value})}),v.jsxs("select",{className:"px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",value:a.param_type,onChange:l=>i(s,{param_type:l.target.value}),children:[v.jsx("option",{value:"string",children:"string"}),v.jsx("option",{value:"number",children:"number"}),v.jsx("option",{value:"boolean",children:"boolean"})]}),v.jsxs("label",{className:"text-xs flex items-center gap-1",children:[v.jsx("input",{type:"checkbox",checked:a.required,onChange:l=>i(s,{required:l.target.checked})}),"req"]}),v.jsx("button",{className:"text-red-400 text-xs",onClick:()=>o(s),children:""})]},s)),v.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs mt-1",onClick:r,children:"+ Add Parameter"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{className:"text-sm text-gray-400",children:"Code (Rust)"}),v.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",onClick:n,children:" Edit"})]}),v.jsx("textarea",{className:"w-full px-2 py-2 bg-gray-900 border border-gray-600 rounded text-xs font-mono h-32 text-gray-400 cursor-pointer",value:KT(e),readOnly:!0,onClick:n})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Templates"}),v.jsx("div",{className:"grid grid-cols-2 gap-1",children:dB.map(a=>v.jsxs("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs flex items-center gap-1",onClick:()=>t({...e,...a.template}),children:[v.jsx("span",{children:a.icon}),v.jsx("span",{className:"truncate",children:a.name})]},a.name))})]})]})}function vB({config:e,onUpdate:t}){return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-2 bg-yellow-900/50 border border-yellow-600 rounded text-xs",children:[v.jsx("div",{className:"font-semibold text-yellow-400 mb-1",children:" Requirements"}),v.jsx("p",{className:"text-yellow-200",children:"Chrome + ChromeDriver required"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),v.jsx("label",{htmlFor:"headless",className:"text-sm",children:"Headless Mode"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Timeout (ms)"}),v.jsx("input",{type:"number",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function xB({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:r}=t[e]||{title:"Tool",desc:"No configuration needed."};return v.jsxs("div",{className:"p-2 bg-blue-900/50 border border-blue-600 rounded text-xs",children:[v.jsxs("div",{className:"font-semibold text-blue-400 mb-1",children:[" ",n]}),v.jsx("p",{className:"text-blue-200",children:r})]})}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wB(e){if(Array.isArray(e))return e}function _B(e,t,n){return(t=TB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){_B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EB(e,t){if(e==null)return{};var n,r,i=kB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CB(e,t){return wB(e)||bB(e,t)||PB(e,t)||SB()}function NB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e){var t=NB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(e){if(typeof e=="string")return U1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U1(e,t):void 0}}function IB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){IB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function bo(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function Sl(e){return{}.toString.call(e).includes("Object")}function AB(e){return!Object.keys(e).length}function ya(e){return typeof e=="function"}function RB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function MB(e,t){return Sl(t)||gr("changeType"),Object.keys(t).some(function(n){return!RB(e,n)})&&gr("changeField"),t}function LB(e){ya(e)||gr("selectorType")}function OB(e){ya(e)||Sl(e)||gr("handlerType"),Sl(e)&&Object.values(e).some(function(t){return!ya(t)})&&gr("handlersType")}function DB(e){e||gr("initialIsRequired"),Sl(e)||gr("initialType"),AB(e)&&gr("initialContent")}function zB(e,t){throw new Error(e[t]||e.default)}var qB={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},gr=bo(zB)(qB),gs={changes:MB,selector:LB,handler:OB,initial:DB};function $B(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gs.initial(e),gs.handler(t);var n={current:e},r=bo(HB)(n,t),i=bo(BB)(n),o=bo(gs.changes)(e),a=bo(FB)(n);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return gs.selector(u),u(n.current)}function l(u){jB(r,i,o,a)(u)}return[s,l]}function FB(e,t){return ya(t)?t(e.current):t}function BB(e,t){return e.current=K1(K1({},e.current),t),t}function HB(e,t,n){return ya(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var VB={create:$B},UB={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function GB(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function WB(e){return{}.toString.call(e).includes("Object")}function YB(e){return e||X1("configIsRequired"),WB(e)||X1("configType"),e.urls?(KB(),{paths:{vs:e.urls.monacoBase}}):e}function KB(){console.warn(XT.deprecation)}function XB(e,t){throw new Error(e[t]||e.default)}var XT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},X1=GB(XB)(XT),QB={config:YB},ZB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,a){return a(o)},i)}};function QT(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],QT(e[n],t[n]))}),W1(W1({},e),t)}var JB={type:"cancelation",msg:"operation is manually canceled"};function Sc(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(JB):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var e8=["monaco"],t8=VB.create({config:UB,isInitialized:!1,resolve:null,reject:null,monaco:null}),ZT=CB(t8,2),Aa=ZT[0],lu=ZT[1];function n8(e){var t=QB.config(e),n=t.monaco,r=EB(t,e8);lu(function(i){return{config:QT(i.config,r),monaco:n}})}function r8(){var e=Aa(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(lu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Sc(Ec);if(window.monaco&&window.monaco.editor)return JT(window.monaco),e.resolve(window.monaco),Sc(Ec);ZB(i8,a8)(s8)}return Sc(Ec)}function i8(e){return document.body.appendChild(e)}function o8(e){var t=document.createElement("script");return e&&(t.src=e),t}function a8(e){var t=Aa(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=o8("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function s8(){var e=Aa(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;JT(r),e.resolve(r)},function(n){e.reject(n)})}function JT(e){Aa().monaco||lu({monaco:e})}function l8(){return Aa(function(e){var t=e.monaco;return t})}var Ec=new Promise(function(e,t){return lu({resolve:e,reject:t})}),eP={config:n8,init:r8,__getMonacoInstance:l8},u8={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},kc=u8,c8={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},f8=c8;function d8({children:e}){return Vt.createElement("div",{style:f8.container},e)}var h8=d8,p8=h8;function g8({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:a}){return Vt.createElement("section",{style:{...kc.wrapper,width:e,height:t},...a},!n&&Vt.createElement(p8,null,r),Vt.createElement("div",{ref:i,style:{...kc.fullWidth,...!n&&kc.hide},className:o}))}var m8=g8,tP=L.memo(m8);function y8(e){L.useEffect(e,[])}var nP=y8;function v8(e,t,n=!0){let r=L.useRef(!0);L.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Pt=v8;function Ho(){}function _i(e,t,n,r){return x8(e,r)||w8(e,t,n,r)}function x8(e,t){return e.editor.getModel(rP(e,t))}function w8(e,t,n,r){return e.editor.createModel(t,n,r?rP(e,r):void 0)}function rP(e,t){return e.Uri.parse(t)}function _8({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:f={},height:d="100%",width:h="100%",className:p,wrapperProps:m={},beforeMount:w=Ho,onMount:g=Ho}){let[x,y]=L.useState(!1),[b,k]=L.useState(!0),_=L.useRef(null),E=L.useRef(null),P=L.useRef(null),M=L.useRef(g),z=L.useRef(w),T=L.useRef(!1);nP(()=>{let A=eP.init();return A.then(D=>(E.current=D)&&k(!1)).catch(D=>(D==null?void 0:D.type)!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>_.current?I():A.cancel()}),Pt(()=>{if(_.current&&E.current){let A=_.current.getOriginalEditor(),D=_i(E.current,e||"",r||n||"text",o||"");D!==A.getModel()&&A.setModel(D)}},[o],x),Pt(()=>{if(_.current&&E.current){let A=_.current.getModifiedEditor(),D=_i(E.current,t||"",i||n||"text",a||"");D!==A.getModel()&&A.setModel(D)}},[a],x),Pt(()=>{let A=_.current.getModifiedEditor();A.getOption(E.current.editor.EditorOption.readOnly)?A.setValue(t||""):t!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[t],x),Pt(()=>{var A,D;(D=(A=_.current)==null?void 0:A.getModel())==null||D.original.setValue(e||"")},[e],x),Pt(()=>{let{original:A,modified:D}=_.current.getModel();E.current.editor.setModelLanguage(A,r||n||"text"),E.current.editor.setModelLanguage(D,i||n||"text")},[n,r,i],x),Pt(()=>{var A;(A=E.current)==null||A.editor.setTheme(u)},[u],x),Pt(()=>{var A;(A=_.current)==null||A.updateOptions(f)},[f],x);let O=L.useCallback(()=>{var R;if(!E.current)return;z.current(E.current);let A=_i(E.current,e||"",r||n||"text",o||""),D=_i(E.current,t||"",i||n||"text",a||"");(R=_.current)==null||R.setModel({original:A,modified:D})},[n,t,i,e,r,o,a]),q=L.useCallback(()=>{var A;!T.current&&P.current&&(_.current=E.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...f}),O(),(A=E.current)==null||A.editor.setTheme(u),y(!0),T.current=!0)},[f,u,O]);L.useEffect(()=>{x&&M.current(_.current,E.current)},[x]),L.useEffect(()=>{!b&&!x&&q()},[b,x,q]);function I(){var D,R,C,j;let A=(D=_.current)==null?void 0:D.getModel();s||((R=A==null?void 0:A.original)==null||R.dispose()),l||((C=A==null?void 0:A.modified)==null||C.dispose()),(j=_.current)==null||j.dispose()}return Vt.createElement(tP,{width:h,height:d,isEditorReady:x,loading:c,_ref:P,className:p,wrapperProps:m})}var b8=_8;L.memo(b8);function S8(e){let t=L.useRef();return L.useEffect(()=>{t.current=e},[e]),t.current}var E8=S8,ms=new Map;function k8({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:f=!0,keepCurrentModel:d=!1,width:h="100%",height:p="100%",className:m,wrapperProps:w={},beforeMount:g=Ho,onMount:x=Ho,onChange:y,onValidate:b=Ho}){let[k,_]=L.useState(!1),[E,P]=L.useState(!0),M=L.useRef(null),z=L.useRef(null),T=L.useRef(null),O=L.useRef(x),q=L.useRef(g),I=L.useRef(),A=L.useRef(r),D=E8(o),R=L.useRef(!1),C=L.useRef(!1);nP(()=>{let $=eP.init();return $.then(F=>(M.current=F)&&P(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>z.current?S():$.cancel()}),Pt(()=>{var F,N,H,X;let $=_i(M.current,e||r||"",t||i||"",o||n||"");$!==((F=z.current)==null?void 0:F.getModel())&&(f&&ms.set(D,(N=z.current)==null?void 0:N.saveViewState()),(H=z.current)==null||H.setModel($),f&&((X=z.current)==null||X.restoreViewState(ms.get(o))))},[o],k),Pt(()=>{var $;($=z.current)==null||$.updateOptions(u)},[u],k),Pt(()=>{!z.current||r===void 0||(z.current.getOption(M.current.editor.EditorOption.readOnly)?z.current.setValue(r):r!==z.current.getValue()&&(C.current=!0,z.current.executeEdits("",[{range:z.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),z.current.pushUndoStop(),C.current=!1))},[r],k),Pt(()=>{var F,N;let $=(F=z.current)==null?void 0:F.getModel();$&&i&&((N=M.current)==null||N.editor.setModelLanguage($,i))},[i],k),Pt(()=>{var $;s!==void 0&&(($=z.current)==null||$.revealLine(s))},[s],k),Pt(()=>{var $;($=M.current)==null||$.editor.setTheme(a)},[a],k);let j=L.useCallback(()=>{var $;if(!(!T.current||!M.current)&&!R.current){q.current(M.current);let F=o||n,N=_i(M.current,r||e||"",t||i||"",F||"");z.current=($=M.current)==null?void 0:$.editor.create(T.current,{model:N,automaticLayout:!0,...u},c),f&&z.current.restoreViewState(ms.get(F)),M.current.editor.setTheme(a),s!==void 0&&z.current.revealLine(s),_(!0),R.current=!0}},[e,t,n,r,i,o,u,c,f,a,s]);L.useEffect(()=>{k&&O.current(z.current,M.current)},[k]),L.useEffect(()=>{!E&&!k&&j()},[E,k,j]),A.current=r,L.useEffect(()=>{var $,F;k&&y&&(($=I.current)==null||$.dispose(),I.current=(F=z.current)==null?void 0:F.onDidChangeModelContent(N=>{C.current||y(z.current.getValue(),N)}))},[k,y]),L.useEffect(()=>{if(k){let $=M.current.editor.onDidChangeMarkers(F=>{var H;let N=(H=z.current.getModel())==null?void 0:H.uri;if(N&&F.find(X=>X.path===N.path)){let X=M.current.editor.getModelMarkers({resource:N});b==null||b(X)}});return()=>{$==null||$.dispose()}}return()=>{}},[k,b]);function S(){var $,F;($=I.current)==null||$.dispose(),d?f&&ms.set(o,z.current.saveViewState()):(F=z.current.getModel())==null||F.dispose(),z.current.dispose()}return Vt.createElement(tP,{width:h,height:p,isEditorReady:k,loading:l,_ref:T,className:m,wrapperProps:w})}var C8=k8,N8=L.memo(C8),iP=N8;function T8({code:e,onClose:t}){return v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-4/5 h-4/5 flex flex-col",onClick:n=>n.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Generated Rust Code"}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(n=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"text-sm font-mono text-blue-400",children:n.path}),v.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.content),className:"text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600",children:"Copy"})]}),v.jsx("div",{className:"border border-gray-700 rounded overflow-hidden",children:v.jsx(iP,{height:Math.min(600,n.content.split(`
`).length*19+20),language:n.path.endsWith(".toml")?"toml":"rust",value:n.content,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},n.path))})]})})}function P8({building:e,success:t,output:n,path:r,onClose:i}){const o=L.useRef(null);return L.useEffect(()=>{o.current&&e&&(o.current.scrollTop=o.current.scrollHeight)},[n,e]),v.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-3/5 max-h-4/5 flex flex-col",onClick:a=>a.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-400":t?"text-green-400":"text-red-400"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),v.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r&&v.jsxs("div",{className:"mb-4 p-3 bg-green-900/30 rounded",children:[v.jsx("div",{className:"text-sm text-gray-400",children:"Binary path:"}),v.jsx("code",{className:"text-green-400 text-sm",children:r})]}),v.jsx("pre",{ref:o,className:"bg-gray-900 p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",children:n})]})]})})}function I8({config:e,onUpdate:t,onClose:n}){return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-studio-panel rounded-lg w-11/12 h-5/6 flex flex-col",onClick:r=>r.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsxs("h2",{className:"text-lg font-semibold text-blue-400",children:[e.name||"function","_fn"]}),v.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl",children:""})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(iP,{height:"100%",defaultLanguage:"rust",theme:"vs-dark",value:KT(e),onChange:r=>r&&t({...e,code:pB(r,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),v.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:v.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm",children:"Done"})})]})})}function j8({onAutoLayout:e,onFitView:t}){const r=sn(i=>i.layoutDirection)==="LR";return v.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[v.jsxs("button",{onClick:e,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:`Click to switch to ${r?"Vertical":"Horizontal"} layout`,children:[v.jsx("span",{children:r?"":""})," Layout"]}),v.jsxs("button",{onClick:t,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:"Fit to View",children:[v.jsx("span",{children:""})," Fit"]})]})}function A8({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:r,onDuplicateNode:i,onSelectNode:o,onSelectTool:a,onAutoLayout:s,onFitView:l}){L.useEffect(()=>{const u=c=>{const f=document.activeElement;if((f==null?void 0:f.tagName)==="INPUT"||(f==null?void 0:f.tagName)==="TEXTAREA")return;const d=c.metaKey||c.ctrlKey;if(c.key==="Delete"||c.key==="Backspace"){if(t&&e){const h=t.split("_");r(e,h.slice(-2).join("_")),a(null)}else e&&e!=="START"&&e!=="END"&&(n(e),o(null));c.preventDefault();return}if(d&&c.key==="d"&&e&&i){c.preventDefault();const h=i(e);h&&o(h);return}if(d&&c.key==="l"&&s){c.preventDefault(),s();return}if(d&&c.key==="0"&&l){c.preventDefault(),l();return}c.key==="Escape"&&(o(null),a(null))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,t,n,r,i,o,a,s,l])}function dv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cc,Q1;function R8(){if(Q1)return Cc;Q1=1;function e(){this.__data__=[],this.size=0}return Cc=e,Cc}var Nc,Z1;function Zi(){if(Z1)return Nc;Z1=1;function e(t,n){return t===n||t!==t&&n!==n}return Nc=e,Nc}var Tc,J1;function uu(){if(J1)return Tc;J1=1;var e=Zi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Tc=t,Tc}var Pc,ew;function M8(){if(ew)return Pc;ew=1;var e=uu(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Pc=r,Pc}var Ic,tw;function L8(){if(tw)return Ic;tw=1;var e=uu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Ic=t,Ic}var jc,nw;function O8(){if(nw)return jc;nw=1;var e=uu();function t(n){return e(this.__data__,n)>-1}return jc=t,jc}var Ac,rw;function D8(){if(rw)return Ac;rw=1;var e=uu();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Ac=t,Ac}var Rc,iw;function cu(){if(iw)return Rc;iw=1;var e=R8(),t=M8(),n=L8(),r=O8(),i=D8();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Rc=o,Rc}var Mc,ow;function z8(){if(ow)return Mc;ow=1;var e=cu();function t(){this.__data__=new e,this.size=0}return Mc=t,Mc}var Lc,aw;function q8(){if(aw)return Lc;aw=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Lc=e,Lc}var Oc,sw;function $8(){if(sw)return Oc;sw=1;function e(t){return this.__data__.get(t)}return Oc=e,Oc}var Dc,lw;function F8(){if(lw)return Dc;lw=1;function e(t){return this.__data__.has(t)}return Dc=e,Dc}var zc,uw;function oP(){if(uw)return zc;uw=1;var e=typeof rr=="object"&&rr&&rr.Object===Object&&rr;return zc=e,zc}var qc,cw;function cn(){if(cw)return qc;cw=1;var e=oP(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return qc=n,qc}var $c,fw;function Ji(){if(fw)return $c;fw=1;var e=cn(),t=e.Symbol;return $c=t,$c}var Fc,dw;function B8(){if(dw)return Fc;dw=1;var e=Ji(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(s?a[i]=l:delete a[i]),c}return Fc=o,Fc}var Bc,hw;function H8(){if(hw)return Bc;hw=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Bc=n,Bc}var Hc,pw;function Jr(){if(pw)return Hc;pw=1;var e=Ji(),t=B8(),n=H8(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return Hc=a,Hc}var Vc,gw;function Yt(){if(gw)return Vc;gw=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Vc=e,Vc}var Uc,mw;function Ra(){if(mw)return Uc;mw=1;var e=Jr(),t=Yt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return Uc=a,Uc}var Gc,yw;function V8(){if(yw)return Gc;yw=1;var e=cn(),t=e["__core-js_shared__"];return Gc=t,Gc}var Wc,vw;function U8(){if(vw)return Wc;vw=1;var e=V8(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Wc=n,Wc}var Yc,xw;function aP(){if(xw)return Yc;xw=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Yc=n,Yc}var Kc,ww;function G8(){if(ww)return Kc;ww=1;var e=Ra(),t=U8(),n=Yt(),r=aP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Kc=f,Kc}var Xc,_w;function W8(){if(_w)return Xc;_w=1;function e(t,n){return t==null?void 0:t[n]}return Xc=e,Xc}var Qc,bw;function ei(){if(bw)return Qc;bw=1;var e=G8(),t=W8();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Qc=n,Qc}var Zc,Sw;function hv(){if(Sw)return Zc;Sw=1;var e=ei(),t=cn(),n=e(t,"Map");return Zc=n,Zc}var Jc,Ew;function fu(){if(Ew)return Jc;Ew=1;var e=ei(),t=e(Object,"create");return Jc=t,Jc}var ef,kw;function Y8(){if(kw)return ef;kw=1;var e=fu();function t(){this.__data__=e?e(null):{},this.size=0}return ef=t,ef}var tf,Cw;function K8(){if(Cw)return tf;Cw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return tf=e,tf}var nf,Nw;function X8(){if(Nw)return nf;Nw=1;var e=fu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return nf=i,nf}var rf,Tw;function Q8(){if(Tw)return rf;Tw=1;var e=fu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return rf=r,rf}var of,Pw;function Z8(){if(Pw)return of;Pw=1;var e=fu(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return of=n,of}var af,Iw;function J8(){if(Iw)return af;Iw=1;var e=Y8(),t=K8(),n=X8(),r=Q8(),i=Z8();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,af=o,af}var sf,jw;function eH(){if(jw)return sf;jw=1;var e=J8(),t=cu(),n=hv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return sf=r,sf}var lf,Aw;function tH(){if(Aw)return lf;Aw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return lf=e,lf}var uf,Rw;function du(){if(Rw)return uf;Rw=1;var e=tH();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return uf=t,uf}var cf,Mw;function nH(){if(Mw)return cf;Mw=1;var e=du();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return cf=t,cf}var ff,Lw;function rH(){if(Lw)return ff;Lw=1;var e=du();function t(n){return e(this,n).get(n)}return ff=t,ff}var df,Ow;function iH(){if(Ow)return df;Ow=1;var e=du();function t(n){return e(this,n).has(n)}return df=t,df}var hf,Dw;function oH(){if(Dw)return hf;Dw=1;var e=du();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return hf=t,hf}var pf,zw;function pv(){if(zw)return pf;zw=1;var e=eH(),t=nH(),n=rH(),r=iH(),i=oH();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,pf=o,pf}var gf,qw;function aH(){if(qw)return gf;qw=1;var e=cu(),t=hv(),n=pv(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return gf=i,gf}var mf,$w;function hu(){if($w)return mf;$w=1;var e=cu(),t=z8(),n=q8(),r=$8(),i=F8(),o=aH();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,mf=a,mf}var yf,Fw;function gv(){if(Fw)return yf;Fw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return yf=e,yf}var vf,Bw;function sP(){if(Bw)return vf;Bw=1;var e=ei(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return vf=t,vf}var xf,Hw;function pu(){if(Hw)return xf;Hw=1;var e=sP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return xf=t,xf}var wf,Vw;function gu(){if(Vw)return wf;Vw=1;var e=pu(),t=Zi(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return wf=i,wf}var _f,Uw;function Ma(){if(Uw)return _f;Uw=1;var e=gu(),t=pu();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=a?a(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),s?t(o,c,f):e(o,c,f)}return o}return _f=n,_f}var bf,Gw;function sH(){if(Gw)return bf;Gw=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return bf=e,bf}var Sf,Ww;function kn(){if(Ww)return Sf;Ww=1;function e(t){return t!=null&&typeof t=="object"}return Sf=e,Sf}var Ef,Yw;function lH(){if(Yw)return Ef;Yw=1;var e=Jr(),t=kn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Ef=r,Ef}var kf,Kw;function La(){if(Kw)return kf;Kw=1;var e=lH(),t=kn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return kf=o,kf}var Cf,Xw;function Ue(){if(Xw)return Cf;Xw=1;var e=Array.isArray;return Cf=e,Cf}var So={exports:{}},Nf,Qw;function uH(){if(Qw)return Nf;Qw=1;function e(){return!1}return Nf=e,Nf}So.exports;var Zw;function eo(){return Zw||(Zw=1,function(e,t){var n=cn(),r=uH(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u}(So,So.exports)),So.exports}var Tf,Jw;function mu(){if(Jw)return Tf;Jw=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Tf=n,Tf}var Pf,e_;function mv(){if(e_)return Pf;e_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Pf=t,Pf}var If,t_;function cH(){if(t_)return If;t_=1;var e=Jr(),t=mv(),n=kn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",g="[object DataView]",x="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",M="[object Uint16Array]",z="[object Uint32Array]",T={};T[x]=T[y]=T[b]=T[k]=T[_]=T[E]=T[P]=T[M]=T[z]=!0,T[r]=T[i]=T[w]=T[o]=T[g]=T[a]=T[s]=T[l]=T[u]=T[c]=T[f]=T[d]=T[h]=T[p]=T[m]=!1;function O(q){return n(q)&&t(q.length)&&!!T[e(q)]}return If=O,If}var jf,n_;function yu(){if(n_)return jf;n_=1;function e(t){return function(n){return t(n)}}return jf=e,jf}var Eo={exports:{}};Eo.exports;var r_;function yv(){return r_||(r_=1,function(e,t){var n=oP(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Eo,Eo.exports)),Eo.exports}var Af,i_;function Oa(){if(i_)return Af;i_=1;var e=cH(),t=yu(),n=yv(),r=n&&n.isTypedArray,i=r?t(r):e;return Af=i,Af}var Rf,o_;function lP(){if(o_)return Rf;o_=1;var e=sH(),t=La(),n=Ue(),r=eo(),i=mu(),o=Oa(),a=Object.prototype,s=a.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),p=!f&&!d&&!h&&o(u),m=f||d||h||p,w=m?e(u.length,String):[],g=w.length;for(var x in u)(c||s.call(u,x))&&!(m&&(x=="length"||h&&(x=="offset"||x=="parent")||p&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,g)))&&w.push(x);return w}return Rf=l,Rf}var Mf,a_;function vu(){if(a_)return Mf;a_=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Mf=t,Mf}var Lf,s_;function uP(){if(s_)return Lf;s_=1;function e(t,n){return function(r){return t(n(r))}}return Lf=e,Lf}var Of,l_;function fH(){if(l_)return Of;l_=1;var e=uP(),t=e(Object.keys,Object);return Of=t,Of}var Df,u_;function vv(){if(u_)return Df;u_=1;var e=vu(),t=fH(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return Df=i,Df}var zf,c_;function Vn(){if(c_)return zf;c_=1;var e=Ra(),t=mv();function n(r){return r!=null&&t(r.length)&&!e(r)}return zf=n,zf}var qf,f_;function Er(){if(f_)return qf;f_=1;var e=lP(),t=vv(),n=Vn();function r(i){return n(i)?e(i):t(i)}return qf=r,qf}var $f,d_;function dH(){if(d_)return $f;d_=1;var e=Ma(),t=Er();function n(r,i){return r&&e(i,t(i),r)}return $f=n,$f}var Ff,h_;function hH(){if(h_)return Ff;h_=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Ff=e,Ff}var Bf,p_;function pH(){if(p_)return Bf;p_=1;var e=Yt(),t=vu(),n=hH(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var u in a)u=="constructor"&&(s||!i.call(a,u))||l.push(u);return l}return Bf=o,Bf}var Hf,g_;function ti(){if(g_)return Hf;g_=1;var e=lP(),t=pH(),n=Vn();function r(i){return n(i)?e(i,!0):t(i)}return Hf=r,Hf}var Vf,m_;function gH(){if(m_)return Vf;m_=1;var e=Ma(),t=ti();function n(r,i){return r&&e(i,t(i),r)}return Vf=n,Vf}var ko={exports:{}};ko.exports;var y_;function cP(){return y_||(y_=1,function(e,t){var n=cn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(ko,ko.exports)),ko.exports}var Uf,v_;function fP(){if(v_)return Uf;v_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Uf=e,Uf}var Gf,x_;function dP(){if(x_)return Gf;x_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return Gf=e,Gf}var Wf,w_;function hP(){if(w_)return Wf;w_=1;function e(){return[]}return Wf=e,Wf}var Yf,__;function xv(){if(__)return Yf;__=1;var e=dP(),t=hP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Yf=o,Yf}var Kf,b_;function mH(){if(b_)return Kf;b_=1;var e=Ma(),t=xv();function n(r,i){return e(r,t(r),i)}return Kf=n,Kf}var Xf,S_;function wv(){if(S_)return Xf;S_=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Xf=e,Xf}var Qf,E_;function xu(){if(E_)return Qf;E_=1;var e=uP(),t=e(Object.getPrototypeOf,Object);return Qf=t,Qf}var Zf,k_;function pP(){if(k_)return Zf;k_=1;var e=wv(),t=xu(),n=xv(),r=hP(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Zf=o,Zf}var Jf,C_;function yH(){if(C_)return Jf;C_=1;var e=Ma(),t=pP();function n(r,i){return e(r,t(r),i)}return Jf=n,Jf}var ed,N_;function gP(){if(N_)return ed;N_=1;var e=wv(),t=Ue();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return ed=n,ed}var td,T_;function mP(){if(T_)return td;T_=1;var e=gP(),t=xv(),n=Er();function r(i){return e(i,n,t)}return td=r,td}var nd,P_;function vH(){if(P_)return nd;P_=1;var e=gP(),t=pP(),n=ti();function r(i){return e(i,n,t)}return nd=r,nd}var rd,I_;function xH(){if(I_)return rd;I_=1;var e=ei(),t=cn(),n=e(t,"DataView");return rd=n,rd}var id,j_;function wH(){if(j_)return id;j_=1;var e=ei(),t=cn(),n=e(t,"Promise");return id=n,id}var od,A_;function yP(){if(A_)return od;A_=1;var e=ei(),t=cn(),n=e(t,"Set");return od=n,od}var ad,R_;function _H(){if(R_)return ad;R_=1;var e=ei(),t=cn(),n=e(t,"WeakMap");return ad=n,ad}var sd,M_;function to(){if(M_)return sd;M_=1;var e=xH(),t=hv(),n=wH(),r=yP(),i=_H(),o=Jr(),a=aP(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=a(e),p=a(t),m=a(n),w=a(r),g=a(i),x=o;return(e&&x(new e(new ArrayBuffer(1)))!=d||t&&x(new t)!=s||n&&x(n.resolve())!=u||r&&x(new r)!=c||i&&x(new i)!=f)&&(x=function(y){var b=o(y),k=b==l?y.constructor:void 0,_=k?a(k):"";if(_)switch(_){case h:return d;case p:return s;case m:return u;case w:return c;case g:return f}return b}),sd=x,sd}var ld,L_;function bH(){if(L_)return ld;L_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return ld=n,ld}var ud,O_;function vP(){if(O_)return ud;O_=1;var e=cn(),t=e.Uint8Array;return ud=t,ud}var cd,D_;function _v(){if(D_)return cd;D_=1;var e=vP();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return cd=t,cd}var fd,z_;function SH(){if(z_)return fd;z_=1;var e=_v();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return fd=t,fd}var dd,q_;function EH(){if(q_)return dd;q_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return dd=t,dd}var hd,$_;function kH(){if($_)return hd;$_=1;var e=Ji(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return hd=r,hd}var pd,F_;function xP(){if(F_)return pd;F_=1;var e=_v();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return pd=t,pd}var gd,B_;function CH(){if(B_)return gd;B_=1;var e=_v(),t=SH(),n=EH(),r=kH(),i=xP(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",g="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",b="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]";function P(M,z,T){var O=M.constructor;switch(z){case h:return e(M);case o:case a:return new O(+M);case p:return t(M,T);case m:case w:case g:case x:case y:case b:case k:case _:case E:return i(M,T);case s:return new O;case l:case f:return new O(M);case u:return n(M);case c:return new O;case d:return r(M)}}return gd=P,gd}var md,H_;function wP(){if(H_)return md;H_=1;var e=Yt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return md=n,md}var yd,V_;function _P(){if(V_)return yd;V_=1;var e=wP(),t=xu(),n=vu();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return yd=r,yd}var vd,U_;function NH(){if(U_)return vd;U_=1;var e=to(),t=kn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return vd=r,vd}var xd,G_;function TH(){if(G_)return xd;G_=1;var e=NH(),t=yu(),n=yv(),r=n&&n.isMap,i=r?t(r):e;return xd=i,xd}var wd,W_;function PH(){if(W_)return wd;W_=1;var e=to(),t=kn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return wd=r,wd}var _d,Y_;function IH(){if(Y_)return _d;Y_=1;var e=PH(),t=yu(),n=yv(),r=n&&n.isSet,i=r?t(r):e;return _d=i,_d}var bd,K_;function bP(){if(K_)return bd;K_=1;var e=hu(),t=gv(),n=gu(),r=dH(),i=gH(),o=cP(),a=fP(),s=mH(),l=yH(),u=mP(),c=vH(),f=to(),d=bH(),h=CH(),p=_P(),m=Ue(),w=eo(),g=TH(),x=Yt(),y=IH(),b=Er(),k=ti(),_=1,E=2,P=4,M="[object Arguments]",z="[object Array]",T="[object Boolean]",O="[object Date]",q="[object Error]",I="[object Function]",A="[object GeneratorFunction]",D="[object Map]",R="[object Number]",C="[object Object]",j="[object RegExp]",S="[object Set]",$="[object String]",F="[object Symbol]",N="[object WeakMap]",H="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Q="[object Float64Array]",W="[object Int8Array]",ee="[object Int16Array]",le="[object Int32Array]",oe="[object Uint8Array]",te="[object Uint8ClampedArray]",ie="[object Uint16Array]",ge="[object Uint32Array]",ne={};ne[M]=ne[z]=ne[H]=ne[X]=ne[T]=ne[O]=ne[Y]=ne[Q]=ne[W]=ne[ee]=ne[le]=ne[D]=ne[R]=ne[C]=ne[j]=ne[S]=ne[$]=ne[F]=ne[oe]=ne[te]=ne[ie]=ne[ge]=!0,ne[q]=ne[I]=ne[N]=!1;function fe(se,Ge,$e,pt,gt,Ke){var Pe,qt=Ge&_,Ct=Ge&E,B=Ge&P;if($e&&(Pe=gt?$e(se,pt,gt,Ke):$e(se)),Pe!==void 0)return Pe;if(!x(se))return se;var U=m(se);if(U){if(Pe=d(se),!qt)return a(se,Pe)}else{var re=f(se),de=re==I||re==A;if(w(se))return o(se,qt);if(re==C||re==M||de&&!gt){if(Pe=Ct||de?{}:p(se),!qt)return Ct?l(se,i(Pe,se)):s(se,r(Pe,se))}else{if(!ne[re])return gt?se:{};Pe=h(se,re,qt)}}Ke||(Ke=new e);var me=Ke.get(se);if(me)return me;Ke.set(se,Pe),y(se)?se.forEach(function(Le){Pe.add(fe(Le,Ge,$e,Le,se,Ke))}):g(se)&&se.forEach(function(Le,Qe){Pe.set(Qe,fe(Le,Ge,$e,Qe,se,Ke))});var Xe=B?Ct?c:u:Ct?k:b,lt=U?void 0:Xe(se);return t(lt||se,function(Le,Qe){lt&&(Qe=Le,Le=se[Qe]),n(Pe,Qe,fe(Le,Ge,$e,Qe,se,Ke))}),Pe}return bd=fe,bd}var Sd,X_;function jH(){if(X_)return Sd;X_=1;var e=bP(),t=4;function n(r){return e(r,t)}return Sd=n,Sd}var Ed,Q_;function bv(){if(Q_)return Ed;Q_=1;function e(t){return function(){return t}}return Ed=e,Ed}var kd,Z_;function AH(){if(Z_)return kd;Z_=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var u=s[t?l:++o];if(r(a[u],u,a)===!1)break}return n}}return kd=e,kd}var Cd,J_;function Sv(){if(J_)return Cd;J_=1;var e=AH(),t=e();return Cd=t,Cd}var Nd,eb;function Ev(){if(eb)return Nd;eb=1;var e=Sv(),t=Er();function n(r,i){return r&&e(r,i,t)}return Nd=n,Nd}var Td,tb;function RH(){if(tb)return Td;tb=1;var e=Vn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return Td=t,Td}var Pd,nb;function wu(){if(nb)return Pd;nb=1;var e=Ev(),t=RH(),n=t(e);return Pd=n,Pd}var Id,rb;function ni(){if(rb)return Id;rb=1;function e(t){return t}return Id=e,Id}var jd,ib;function SP(){if(ib)return jd;ib=1;var e=ni();function t(n){return typeof n=="function"?n:e}return jd=t,jd}var Ad,ob;function EP(){if(ob)return Ad;ob=1;var e=gv(),t=wu(),n=SP(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return Ad=i,Ad}var Rd,ab;function kP(){return ab||(ab=1,Rd=EP()),Rd}var Md,sb;function MH(){if(sb)return Md;sb=1;var e=wu();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return Md=t,Md}var Ld,lb;function LH(){if(lb)return Ld;lb=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Ld=t,Ld}var Od,ub;function OH(){if(ub)return Od;ub=1;function e(t){return this.__data__.has(t)}return Od=e,Od}var Dd,cb;function CP(){if(cb)return Dd;cb=1;var e=pv(),t=LH(),n=OH();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Dd=r,Dd}var zd,fb;function DH(){if(fb)return zd;fb=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return zd=e,zd}var qd,db;function NP(){if(db)return qd;db=1;function e(t,n){return t.has(n)}return qd=e,qd}var $d,hb;function TP(){if(hb)return $d;hb=1;var e=CP(),t=DH(),n=NP(),r=1,i=2;function o(a,s,l,u,c,f){var d=l&r,h=a.length,p=s.length;if(h!=p&&!(d&&p>h))return!1;var m=f.get(a),w=f.get(s);if(m&&w)return m==s&&w==a;var g=-1,x=!0,y=l&i?new e:void 0;for(f.set(a,s),f.set(s,a);++g<h;){var b=a[g],k=s[g];if(u)var _=d?u(k,b,g,s,a,f):u(b,k,g,a,s,f);if(_!==void 0){if(_)continue;x=!1;break}if(y){if(!t(s,function(E,P){if(!n(y,P)&&(b===E||c(b,E,l,u,f)))return y.push(P)})){x=!1;break}}else if(!(b===k||c(b,k,l,u,f))){x=!1;break}}return f.delete(a),f.delete(s),x}return $d=o,$d}var Fd,pb;function zH(){if(pb)return Fd;pb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Fd=e,Fd}var Bd,gb;function kv(){if(gb)return Bd;gb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Bd=e,Bd}var Hd,mb;function qH(){if(mb)return Hd;mb=1;var e=Ji(),t=vP(),n=Zi(),r=TP(),i=zH(),o=kv(),a=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",w="[object Symbol]",g="[object ArrayBuffer]",x="[object DataView]",y=e?e.prototype:void 0,b=y?y.valueOf:void 0;function k(_,E,P,M,z,T,O){switch(P){case x:if(_.byteLength!=E.byteLength||_.byteOffset!=E.byteOffset)return!1;_=_.buffer,E=E.buffer;case g:return!(_.byteLength!=E.byteLength||!T(new t(_),new t(E)));case l:case u:case d:return n(+_,+E);case c:return _.name==E.name&&_.message==E.message;case h:case m:return _==E+"";case f:var q=i;case p:var I=M&a;if(q||(q=o),_.size!=E.size&&!I)return!1;var A=O.get(_);if(A)return A==E;M|=s,O.set(_,E);var D=r(q(_),q(E),M,z,T,O);return O.delete(_),D;case w:if(b)return b.call(_)==b.call(E)}return!1}return Hd=k,Hd}var Vd,yb;function $H(){if(yb)return Vd;yb=1;var e=mP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,u,c){var f=s&t,d=e(o),h=d.length,p=e(a),m=p.length;if(h!=m&&!f)return!1;for(var w=h;w--;){var g=d[w];if(!(f?g in a:r.call(a,g)))return!1}var x=c.get(o),y=c.get(a);if(x&&y)return x==a&&y==o;var b=!0;c.set(o,a),c.set(a,o);for(var k=f;++w<h;){g=d[w];var _=o[g],E=a[g];if(l)var P=f?l(E,_,g,a,o,c):l(_,E,g,o,a,c);if(!(P===void 0?_===E||u(_,E,s,l,c):P)){b=!1;break}k||(k=g=="constructor")}if(b&&!k){var M=o.constructor,z=a.constructor;M!=z&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof z=="function"&&z instanceof z)&&(b=!1)}return c.delete(o),c.delete(a),b}return Vd=i,Vd}var Ud,vb;function FH(){if(vb)return Ud;vb=1;var e=hu(),t=TP(),n=qH(),r=$H(),i=to(),o=Ue(),a=eo(),s=Oa(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(m,w,g,x,y,b){var k=o(m),_=o(w),E=k?c:i(m),P=_?c:i(w);E=E==u?f:E,P=P==u?f:P;var M=E==f,z=P==f,T=E==P;if(T&&a(m)){if(!a(w))return!1;k=!0,M=!1}if(T&&!M)return b||(b=new e),k||s(m)?t(m,w,g,x,y,b):n(m,w,E,g,x,y,b);if(!(g&l)){var O=M&&h.call(m,"__wrapped__"),q=z&&h.call(w,"__wrapped__");if(O||q){var I=O?m.value():m,A=q?w.value():w;return b||(b=new e),y(I,A,g,x,b)}}return T?(b||(b=new e),r(m,w,g,x,y,b)):!1}return Ud=p,Ud}var Gd,xb;function PP(){if(xb)return Gd;xb=1;var e=FH(),t=kn();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Gd=n,Gd}var Wd,wb;function BH(){if(wb)return Wd;wb=1;var e=hu(),t=PP(),n=1,r=2;function i(o,a,s,l){var u=s.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=s[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=s[u];var h=d[0],p=o[h],m=d[1];if(f&&d[2]){if(p===void 0&&!(h in o))return!1}else{var w=new e;if(l)var g=l(p,m,h,o,a,w);if(!(g===void 0?t(m,p,n|r,l,w):g))return!1}}return!0}return Wd=i,Wd}var Yd,_b;function IP(){if(_b)return Yd;_b=1;var e=Yt();function t(n){return n===n&&!e(n)}return Yd=t,Yd}var Kd,bb;function HH(){if(bb)return Kd;bb=1;var e=IP(),t=Er();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Kd=n,Kd}var Xd,Sb;function jP(){if(Sb)return Xd;Sb=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Xd=e,Xd}var Qd,Eb;function VH(){if(Eb)return Qd;Eb=1;var e=BH(),t=HH(),n=jP();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Qd=r,Qd}var Zd,kb;function no(){if(kb)return Zd;kb=1;var e=Jr(),t=kn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Zd=r,Zd}var Jd,Cb;function Cv(){if(Cb)return Jd;Cb=1;var e=Ue(),t=no(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Jd=i,Jd}var eh,Nb;function UH(){if(Nb)return eh;Nb=1;var e=pv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var u=r.apply(this,a);return o.cache=l.set(s,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,eh=n,eh}var th,Tb;function GH(){if(Tb)return th;Tb=1;var e=UH(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return th=n,th}var nh,Pb;function WH(){if(Pb)return nh;Pb=1;var e=GH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,u){o.push(l?u.replace(n,"$1"):s||a)}),o});return nh=r,nh}var rh,Ib;function _u(){if(Ib)return rh;Ib=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return rh=e,rh}var ih,jb;function YH(){if(jb)return ih;jb=1;var e=Ji(),t=_u(),n=Ue(),r=no(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return ih=a,ih}var oh,Ab;function AP(){if(Ab)return oh;Ab=1;var e=YH();function t(n){return n==null?"":e(n)}return oh=t,oh}var ah,Rb;function bu(){if(Rb)return ah;Rb=1;var e=Ue(),t=Cv(),n=WH(),r=AP();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return ah=i,ah}var sh,Mb;function Da(){if(Mb)return sh;Mb=1;var e=no();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return sh=t,sh}var lh,Lb;function Su(){if(Lb)return lh;Lb=1;var e=bu(),t=Da();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return lh=n,lh}var uh,Ob;function KH(){if(Ob)return uh;Ob=1;var e=Su();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return uh=t,uh}var ch,Db;function XH(){if(Db)return ch;Db=1;function e(t,n){return t!=null&&n in Object(t)}return ch=e,ch}var fh,zb;function RP(){if(zb)return fh;zb=1;var e=bu(),t=La(),n=Ue(),r=mu(),i=mv(),o=Da();function a(s,l,u){l=e(l,s);for(var c=-1,f=l.length,d=!1;++c<f;){var h=o(l[c]);if(!(d=s!=null&&u(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&r(h,f)&&(n(s)||t(s)))}return fh=a,fh}var dh,qb;function MP(){if(qb)return dh;qb=1;var e=XH(),t=RP();function n(r,i){return r!=null&&t(r,i,e)}return dh=n,dh}var hh,$b;function QH(){if($b)return hh;$b=1;var e=PP(),t=KH(),n=MP(),r=Cv(),i=IP(),o=jP(),a=Da(),s=1,l=2;function u(c,f){return r(c)&&i(f)?o(a(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,s|l)}}return hh=u,hh}var ph,Fb;function LP(){if(Fb)return ph;Fb=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ph=e,ph}var gh,Bb;function ZH(){if(Bb)return gh;Bb=1;var e=Su();function t(n){return function(r){return e(r,n)}}return gh=t,gh}var mh,Hb;function JH(){if(Hb)return mh;Hb=1;var e=LP(),t=ZH(),n=Cv(),r=Da();function i(o){return n(o)?e(r(o)):t(o)}return mh=i,mh}var yh,Vb;function Un(){if(Vb)return yh;Vb=1;var e=VH(),t=QH(),n=ni(),r=Ue(),i=JH();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return yh=o,yh}var vh,Ub;function OP(){if(Ub)return vh;Ub=1;var e=dP(),t=MH(),n=Un(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return vh=i,vh}var xh,Gb;function eV(){if(Gb)return xh;Gb=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return xh=n,xh}var wh,Wb;function DP(){if(Wb)return wh;Wb=1;var e=eV(),t=RP();function n(r,i){return r!=null&&t(r,i,e)}return wh=n,wh}var _h,Yb;function tV(){if(Yb)return _h;Yb=1;var e=vv(),t=to(),n=La(),r=Ue(),i=Vn(),o=eo(),a=vu(),s=Oa(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var p=t(h);if(p==l||p==u)return!h.size;if(a(h))return!e(h).length;for(var m in h)if(f.call(h,m))return!1;return!0}return _h=d,_h}var bh,Kb;function zP(){if(Kb)return bh;Kb=1;function e(t){return t===void 0}return bh=e,bh}var Sh,Xb;function qP(){if(Xb)return Sh;Xb=1;var e=wu(),t=Vn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,u){a[++o]=i(s,l,u)}),a}return Sh=n,Sh}var Eh,Qb;function $P(){if(Qb)return Eh;Qb=1;var e=_u(),t=Un(),n=qP(),r=Ue();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Eh=i,Eh}var kh,Zb;function nV(){if(Zb)return kh;Zb=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return kh=e,kh}var Ch,Jb;function rV(){if(Jb)return Ch;Jb=1;function e(t,n,r,i,o){return o(t,function(a,s,l){r=i?(i=!1,a):n(r,a,s,l)}),r}return Ch=e,Ch}var Nh,eS;function FP(){if(eS)return Nh;eS=1;var e=nV(),t=wu(),n=Un(),r=rV(),i=Ue();function o(a,s,l){var u=i(a)?e:r,c=arguments.length<3;return u(a,n(s,4),l,c,t)}return Nh=o,Nh}var Th,tS;function iV(){if(tS)return Th;tS=1;var e=Jr(),t=Ue(),n=kn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Th=i,Th}var Ph,nS;function oV(){if(nS)return Ph;nS=1;var e=LP(),t=e("length");return Ph=t,Ph}var Ih,rS;function aV(){if(rS)return Ih;rS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(u){return s.test(u)}return Ih=l,Ih}var jh,iS;function sV(){if(iS)return jh;iS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=u+"?",m="["+o+"]?",w="(?:"+h+"(?:"+[c,f,d].join("|")+")"+m+p+")*",g=m+p+w,x="(?:"+[c+s+"?",s,f,d,a].join("|")+")",y=RegExp(l+"(?="+l+")|"+x+g,"g");function b(k){for(var _=y.lastIndex=0;y.test(k);)++_;return _}return jh=b,jh}var Ah,oS;function lV(){if(oS)return Ah;oS=1;var e=oV(),t=aV(),n=sV();function r(i){return t(i)?n(i):e(i)}return Ah=r,Ah}var Rh,aS;function uV(){if(aS)return Rh;aS=1;var e=vv(),t=to(),n=Vn(),r=iV(),i=lV(),o="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==a?l.size:e(l).length}return Rh=s,Rh}var Mh,sS;function cV(){if(sS)return Mh;sS=1;var e=gv(),t=wP(),n=Ev(),r=Un(),i=xu(),o=Ue(),a=eo(),s=Ra(),l=Yt(),u=Oa();function c(f,d,h){var p=o(f),m=p||a(f)||u(f);if(d=r(d,4),h==null){var w=f&&f.constructor;m?h=p?new w:[]:l(f)?h=s(w)?t(i(f)):{}:h={}}return(m?e:n)(f,function(g,x,y){return d(h,g,x,y)}),h}return Mh=c,Mh}var Lh,lS;function fV(){if(lS)return Lh;lS=1;var e=Ji(),t=La(),n=Ue(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Lh=i,Lh}var Oh,uS;function Nv(){if(uS)return Oh;uS=1;var e=wv(),t=fV();function n(r,i,o,a,s){var l=-1,u=r.length;for(o||(o=t),s||(s=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s}return Oh=n,Oh}var Dh,cS;function dV(){if(cS)return Dh;cS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Dh=e,Dh}var zh,fS;function BP(){if(fS)return zh;fS=1;var e=dV(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),u=Array(l);++s<l;)u[s]=a[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=a[s];return c[i]=o(u),e(r,this,c)}}return zh=n,zh}var qh,dS;function hV(){if(dS)return qh;dS=1;var e=bv(),t=sP(),n=ni(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return qh=r,qh}var $h,hS;function pV(){if(hS)return $h;hS=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return $h=r,$h}var Fh,pS;function HP(){if(pS)return Fh;pS=1;var e=hV(),t=pV(),n=t(e);return Fh=n,Fh}var Bh,gS;function Eu(){if(gS)return Bh;gS=1;var e=ni(),t=BP(),n=HP();function r(i,o){return n(t(i,o,e),i+"")}return Bh=r,Bh}var Hh,mS;function VP(){if(mS)return Hh;mS=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Hh=e,Hh}var Vh,yS;function gV(){if(yS)return Vh;yS=1;function e(t){return t!==t}return Vh=e,Vh}var Uh,vS;function mV(){if(vS)return Uh;vS=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Uh=e,Uh}var Gh,xS;function yV(){if(xS)return Gh;xS=1;var e=VP(),t=gV(),n=mV();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Gh=r,Gh}var Wh,wS;function vV(){if(wS)return Wh;wS=1;var e=yV();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Wh=t,Wh}var Yh,_S;function xV(){if(_S)return Yh;_S=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Yh=e,Yh}var Kh,bS;function wV(){if(bS)return Kh;bS=1;function e(){}return Kh=e,Kh}var Xh,SS;function _V(){if(SS)return Xh;SS=1;var e=yP(),t=wV(),n=kv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Xh=i,Xh}var Qh,ES;function bV(){if(ES)return Qh;ES=1;var e=CP(),t=vV(),n=xV(),r=NP(),i=_V(),o=kv(),a=200;function s(l,u,c){var f=-1,d=t,h=l.length,p=!0,m=[],w=m;if(c)p=!1,d=n;else if(h>=a){var g=u?null:i(l);if(g)return o(g);p=!1,d=r,w=new e}else w=u?[]:m;e:for(;++f<h;){var x=l[f],y=u?u(x):x;if(x=c||x!==0?x:0,p&&y===y){for(var b=w.length;b--;)if(w[b]===y)continue e;u&&w.push(y),m.push(x)}else d(w,y,c)||(w!==m&&w.push(y),m.push(x))}return m}return Qh=s,Qh}var Zh,kS;function UP(){if(kS)return Zh;kS=1;var e=Vn(),t=kn();function n(r){return t(r)&&e(r)}return Zh=n,Zh}var Jh,CS;function SV(){if(CS)return Jh;CS=1;var e=Nv(),t=Eu(),n=bV(),r=UP(),i=t(function(o){return n(e(o,1,r,!0))});return Jh=i,Jh}var ep,NS;function EV(){if(NS)return ep;NS=1;var e=_u();function t(n,r){return e(r,function(i){return n[i]})}return ep=t,ep}var tp,TS;function GP(){if(TS)return tp;TS=1;var e=EV(),t=Er();function n(r){return r==null?[]:e(r,t(r))}return tp=n,tp}var np,PS;function Kt(){if(PS)return np;PS=1;var e;if(typeof dv=="function")try{e={clone:jH(),constant:bv(),each:kP(),filter:OP(),has:DP(),isArray:Ue(),isEmpty:tV(),isFunction:Ra(),isUndefined:zP(),keys:Er(),map:$P(),reduce:FP(),size:uV(),transform:cV(),union:SV(),values:GP()}}catch{}return e||(e=window._),np=e,np}var rp,IS;function Tv(){if(IS)return rp;IS=1;var e=Kt();rp=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(p){d.length>1?h.setNode(p,f):h.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(m,w){c(w)&&f.setNode(w,m)}),e.each(this._edgeObjs,function(m){f.hasNode(m.v)&&f.hasNode(m.w)&&f.setEdge(m,d.edge(m))});var h={};function p(m){var w=d.parent(m);return w===void 0||f.hasNode(w)?(h[m]=w,w):w in h?h[w]:p(w)}return this._isCompound&&e.each(f.nodes(),function(m){f.setParent(m,p(m))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(p,m){return h.length>1?d.setEdge(p,m,f):d.setEdge(p,m),m}),this},i.prototype.setEdge=function(){var c,f,d,h,p=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(c=m.v,f=m.w,d=m.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=m,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=s(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return p&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=p?h:this._defaultEdgeLabelFn(c,f,d);var g=l(this._isDirected,c,f,d);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[w]=g,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=g,this._out[c][w]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),p=this._edgeObjs[h];return p&&(c=p.v,f=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],c),a(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function a(c,f){--c[f]||delete c[f]}function s(c,f,d,h){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}return p+r+m+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var p=""+f,m=""+d;if(!c&&p>m){var w=p;p=m,m=w}var g={v:p,w:m};return h&&(g.name=h),g}function u(c,f){return s(c,f.v,f.w,f.name)}return rp}var ip,jS;function kV(){return jS||(jS=1,ip="2.1.8"),ip}var op,AS;function CV(){return AS||(AS=1,op={Graph:Tv(),version:kV()}),op}var ap,RS;function NV(){if(RS)return ap;RS=1;var e=Kt(),t=Tv();ap={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),u=a.parent(s),c={v:s};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(a){return e.map(a.edges(),function(s){var l=a.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(l)||(u.value=l),u})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return ap}var sp,MS;function TV(){if(MS)return sp;MS=1;var e=Kt();sp=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return sp}var lp,LS;function WP(){if(LS)return lp;LS=1;var e=Kt();lp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},lp}var up,OS;function YP(){if(OS)return up;OS=1;var e=Kt(),t=WP();up=r;var n=e.constant(1);function r(o,a,s,l){return i(o,String(a),s||n,l||function(u){return o.outEdges(u)})}function i(o,a,s,l){var u={},c=new t,f,d,h=function(p){var m=p.v!==f?p.v:p.w,w=u[m],g=s(p),x=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+g);x<w.distance&&(w.distance=x,w.predecessor=f,c.decrease(m,x))};for(o.nodes().forEach(function(p){var m=p===a?0:Number.POSITIVE_INFINITY;u[p]={distance:m},c.add(p,m)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return up}var cp,DS;function PV(){if(DS)return cp;DS=1;var e=YP(),t=Kt();cp=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return cp}var fp,zS;function KP(){if(zS)return fp;zS=1;var e=Kt();fp=t;function t(n){var r=0,i=[],o={},a=[];function s(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(s(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);a.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||s(l)}),a}return fp}var dp,qS;function IV(){if(qS)return dp;qS=1;var e=Kt(),t=KP();dp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return dp}var hp,$S;function jV(){if($S)return hp;$S=1;var e=Kt();hp=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},l=i.nodes();return l.forEach(function(u){s[u]={},s[u][u]={distance:0},l.forEach(function(c){u!==c&&(s[u][c]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);s[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=s[u];l.forEach(function(f){var d=s[f];l.forEach(function(h){var p=d[u],m=c[h],w=d[h],g=p.distance+m.distance;g<w.distance&&(w.distance=g,w.predecessor=m.predecessor)})})}),s}return hp}var pp,FS;function XP(){if(FS)return pp;FS=1;var e=Kt();pp=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),s),delete o[l],a.push(l))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,pp}var gp,BS;function AV(){if(BS)return gp;BS=1;var e=XP();gp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return gp}var mp,HS;function QP(){if(HS)return mp;HS=1;var e=Kt();mp=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,a,s)}),s}function n(r,i,o,a,s,l){e.has(a,i)||(a[i]=!0,o||l.push(i),e.each(s(i),function(u){n(r,u,o,a,s,l)}),o&&l.push(i))}return mp}var yp,VS;function RV(){if(VS)return yp;VS=1;var e=QP();yp=t;function t(n,r){return e(n,r,"post")}return yp}var vp,US;function MV(){if(US)return vp;US=1;var e=QP();vp=t;function t(n,r){return e(n,r,"pre")}return vp}var xp,GS;function LV(){if(GS)return xp;GS=1;var e=Kt(),t=Tv(),n=WP();xp=r;function r(i,o){var a=new t,s={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,p=l.priority(h);if(p!==void 0){var m=o(d);m<p&&(s[h]=u,l.decrease(h,m))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(s,u))a.setEdge(u,s[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return a}return xp}var wp,WS;function OV(){return WS||(WS=1,wp={components:TV(),dijkstra:YP(),dijkstraAll:PV(),findCycles:IV(),floydWarshall:jV(),isAcyclic:AV(),postorder:RV(),preorder:MV(),prim:LV(),tarjan:KP(),topsort:XP()}),wp}var _p,YS;function DV(){if(YS)return _p;YS=1;var e=CV();return _p={Graph:e.Graph,json:NV(),alg:OV(),version:e.version},_p}var El;if(typeof dv=="function")try{El=DV()}catch{}El||(El=window.graphlib);var fn=El,bp,KS;function zV(){if(KS)return bp;KS=1;var e=bP(),t=1,n=4;function r(i){return e(i,t|n)}return bp=r,bp}var Sp,XS;function ku(){if(XS)return Sp;XS=1;var e=Zi(),t=Vn(),n=mu(),r=Yt();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return Sp=i,Sp}var Ep,QS;function qV(){if(QS)return Ep;QS=1;var e=Eu(),t=Zi(),n=ku(),r=ti(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,l){s=Object(s);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),p=-1,m=h.length;++p<m;){var w=h[p],g=s[w];(g===void 0||t(g,i[w])&&!o.call(s,w))&&(s[w]=d[w])}return s});return Ep=a,Ep}var kp,ZS;function $V(){if(ZS)return kp;ZS=1;var e=Un(),t=Vn(),n=Er();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var u=e(a,3);o=n(o),a=function(f){return u(l[f],f,l)}}var c=i(o,a,s);return c>-1?l[u?o[c]:c]:void 0}}return kp=r,kp}var Cp,JS;function FV(){if(JS)return Cp;JS=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Cp=t,Cp}var Np,eE;function BV(){if(eE)return Np;eE=1;var e=FV(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Np=n,Np}var Tp,tE;function HV(){if(tE)return Tp;tE=1;var e=BV(),t=Yt(),n=no(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||a.test(u)?s(u.slice(2),f?2:8):i.test(u)?r:+u}return Tp=l,Tp}var Pp,nE;function ZP(){if(nE)return Pp;nE=1;var e=HV(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Pp=r,Pp}var Ip,rE;function VV(){if(rE)return Ip;rE=1;var e=ZP();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Ip=t,Ip}var jp,iE;function UV(){if(iE)return jp;iE=1;var e=VP(),t=Un(),n=VV(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),e(o,t(a,3),u)}return jp=i,jp}var Ap,oE;function GV(){if(oE)return Ap;oE=1;var e=$V(),t=UV(),n=e(t);return Ap=n,Ap}var Rp,aE;function JP(){if(aE)return Rp;aE=1;var e=Nv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Rp=t,Rp}var Mp,sE;function WV(){if(sE)return Mp;sE=1;var e=Sv(),t=SP(),n=ti();function r(i,o){return i==null?i:e(i,t(o),n)}return Mp=r,Mp}var Lp,lE;function YV(){if(lE)return Lp;lE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Lp=e,Lp}var Op,uE;function KV(){if(uE)return Op;uE=1;var e=pu(),t=Ev(),n=Un();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,u){e(a,l,o(s,l,u))}),a}return Op=r,Op}var Dp,cE;function Pv(){if(cE)return Dp;cE=1;var e=no();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=s}return c}return Dp=t,Dp}var zp,fE;function XV(){if(fE)return zp;fE=1;function e(t,n){return t>n}return zp=e,zp}var qp,dE;function QV(){if(dE)return qp;dE=1;var e=Pv(),t=XV(),n=ni();function r(i){return i&&i.length?e(i,n,t):void 0}return qp=r,qp}var $p,hE;function eI(){if(hE)return $p;hE=1;var e=pu(),t=Zi();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return $p=n,$p}var Fp,pE;function ZV(){if(pE)return Fp;pE=1;var e=Jr(),t=xu(),n=kn(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==l}return Fp=u,Fp}var Bp,gE;function tI(){if(gE)return Bp;gE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Bp=e,Bp}var Hp,mE;function JV(){if(mE)return Hp;mE=1;var e=Ma(),t=ti();function n(r){return e(r,t(r))}return Hp=n,Hp}var Vp,yE;function e9(){if(yE)return Vp;yE=1;var e=eI(),t=cP(),n=xP(),r=fP(),i=_P(),o=La(),a=Ue(),s=UP(),l=eo(),u=Ra(),c=Yt(),f=ZV(),d=Oa(),h=tI(),p=JV();function m(w,g,x,y,b,k,_){var E=h(w,x),P=h(g,x),M=_.get(P);if(M){e(w,x,M);return}var z=k?k(E,P,x+"",w,g,_):void 0,T=z===void 0;if(T){var O=a(P),q=!O&&l(P),I=!O&&!q&&d(P);z=P,O||q||I?a(E)?z=E:s(E)?z=r(E):q?(T=!1,z=t(P,!0)):I?(T=!1,z=n(P,!0)):z=[]:f(P)||o(P)?(z=E,o(E)?z=p(E):(!c(E)||u(E))&&(z=i(P))):T=!1}T&&(_.set(P,z),b(z,P,y,k,_),_.delete(P)),e(w,x,z)}return Vp=m,Vp}var Up,vE;function t9(){if(vE)return Up;vE=1;var e=hu(),t=eI(),n=Sv(),r=e9(),i=Yt(),o=ti(),a=tI();function s(l,u,c,f,d){l!==u&&n(u,function(h,p){if(d||(d=new e),i(h))r(l,u,p,c,s,f,d);else{var m=f?f(a(l,p),h,p+"",l,u,d):void 0;m===void 0&&(m=h),t(l,p,m)}},o)}return Up=s,Up}var Gp,xE;function n9(){if(xE)return Gp;xE=1;var e=Eu(),t=ku();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,u=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&t(o[0],o[1],u)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var c=o[a];c&&r(i,c,a,l)}return i})}return Gp=n,Gp}var Wp,wE;function r9(){if(wE)return Wp;wE=1;var e=t9(),t=n9(),n=t(function(r,i,o){e(r,i,o)});return Wp=n,Wp}var Yp,_E;function nI(){if(_E)return Yp;_E=1;function e(t,n){return t<n}return Yp=e,Yp}var Kp,bE;function i9(){if(bE)return Kp;bE=1;var e=Pv(),t=nI(),n=ni();function r(i){return i&&i.length?e(i,n,t):void 0}return Kp=r,Kp}var Xp,SE;function o9(){if(SE)return Xp;SE=1;var e=Pv(),t=Un(),n=nI();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Xp=r,Xp}var Qp,EE;function a9(){if(EE)return Qp;EE=1;var e=cn(),t=function(){return e.Date.now()};return Qp=t,Qp}var Zp,kE;function s9(){if(kE)return Zp;kE=1;var e=gu(),t=bu(),n=mu(),r=Yt(),i=Da();function o(a,s,l,u){if(!r(a))return a;s=t(s,a);for(var c=-1,f=s.length,d=f-1,h=a;h!=null&&++c<f;){var p=i(s[c]),m=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(c!=d){var w=h[p];m=u?u(w,p,h):void 0,m===void 0&&(m=r(w)?w:n(s[c+1])?[]:{})}e(h,p,m),h=h[p]}return a}return Zp=o,Zp}var Jp,CE;function l9(){if(CE)return Jp;CE=1;var e=Su(),t=s9(),n=bu();function r(i,o,a){for(var s=-1,l=o.length,u={};++s<l;){var c=o[s],f=e(i,c);a(f,c)&&t(u,n(c,i),f)}return u}return Jp=r,Jp}var eg,NE;function u9(){if(NE)return eg;NE=1;var e=l9(),t=MP();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return eg=n,eg}var tg,TE;function c9(){if(TE)return tg;TE=1;var e=JP(),t=BP(),n=HP();function r(i){return n(t(i,void 0,e),i+"")}return tg=r,tg}var ng,PE;function f9(){if(PE)return ng;PE=1;var e=u9(),t=c9(),n=t(function(r,i){return r==null?{}:e(r,i)});return ng=n,ng}var rg,IE;function d9(){if(IE)return rg;IE=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[a?l:++s]=r,r+=o;return u}return rg=n,rg}var ig,jE;function h9(){if(jE)return ig;jE=1;var e=d9(),t=ku(),n=ZP();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return ig=r,ig}var og,AE;function p9(){if(AE)return og;AE=1;var e=h9(),t=e();return og=t,og}var ag,RE;function g9(){if(RE)return ag;RE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return ag=e,ag}var sg,ME;function m9(){if(ME)return sg;ME=1;var e=no();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!s&&n>r||s&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||u&&i&&a||!l&&a||!c)return-1}return 0}return sg=t,sg}var lg,LE;function y9(){if(LE)return lg;LE=1;var e=m9();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,u=i.length;++o<l;){var c=e(a[o],s[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return lg=t,lg}var ug,OE;function v9(){if(OE)return ug;OE=1;var e=_u(),t=Su(),n=Un(),r=qP(),i=g9(),o=yu(),a=y9(),s=ni(),l=Ue();function u(c,f,d){f.length?f=e(f,function(m){return l(m)?function(w){return t(w,m.length===1?m[0]:m)}:m}):f=[s];var h=-1;f=e(f,o(n));var p=r(c,function(m,w,g){var x=e(f,function(y){return y(m)});return{criteria:x,index:++h,value:m}});return i(p,function(m,w){return a(m,w,d)})}return ug=u,ug}var cg,DE;function x9(){if(DE)return cg;DE=1;var e=Nv(),t=v9(),n=Eu(),r=ku(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return cg=i,cg}var fg,zE;function w9(){if(zE)return fg;zE=1;var e=AP(),t=0;function n(r){var i=++t;return e(r)+i}return fg=n,fg}var dg,qE;function _9(){if(qE)return dg;qE=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var l=i<a?n[i]:void 0;r(s,t[i],l)}return s}return dg=e,dg}var hg,$E;function b9(){if($E)return hg;$E=1;var e=gu(),t=_9();function n(r,i){return t(r||[],i||[],e)}return hg=n,hg}var kl;if(typeof dv=="function")try{kl={cloneDeep:zV(),constant:bv(),defaults:qV(),each:kP(),filter:OP(),find:GV(),flatten:JP(),forEach:EP(),forIn:WV(),has:DP(),isUndefined:zP(),last:YV(),map:$P(),mapValues:KV(),max:QV(),merge:r9(),min:i9(),minBy:o9(),now:a9(),pick:f9(),range:p9(),reduce:FP(),sortBy:x9(),uniqueId:w9(),values:GP(),zipObject:b9()}}catch{}kl||(kl=window._);var Me=kl,S9=Cu;function Cu(){var e={};e._next=e._prev=e,this._sentinel=e}Cu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return rI(t),t};Cu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&rI(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Cu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,E9)),n=n._prev;return"["+e.join(", ")+"]"};function rI(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function E9(e,t){if(e!=="_next"&&e!=="_prev")return t}var Rn=Me,k9=fn.Graph,C9=S9,N9=P9,T9=Rn.constant(1);function P9(e,t){if(e.nodeCount()<=1)return[];var n=j9(e,t||T9),r=I9(n.graph,n.buckets,n.zeroIdx);return Rn.flatten(Rn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function I9(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)pg(e,t,n,a);for(;a=i.dequeue();)pg(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(pg(e,t,n,a,!0));break}}}return r}function pg(e,t,n,r,i){var o=i?[]:void 0;return Rn.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,Dm(t,n,l)}),Rn.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,u=e.node(l);u.in-=s,Dm(t,n,u)}),e.removeNode(r.v),o}function j9(e,t){var n=new k9,r=0,i=0;Rn.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Rn.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,u=t(s),c=l+u;n.setEdge(s.v,s.w,c),i=Math.max(i,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var o=Rn.range(i+r+3).map(function(){return new C9}),a=r+1;return Rn.forEach(n.nodes(),function(s){Dm(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function Dm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Or=Me,A9=N9,R9={run:M9,undo:O9};function M9(e){var t=e.graph().acyclicer==="greedy"?A9(e,n(e)):L9(e);Or.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Or.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function L9(e){var t=[],n={},r={};function i(o){Or.has(r,o)||(r[o]=!0,n[o]=!0,Or.forEach(e.outEdges(o),function(a){Or.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Or.forEach(e.nodes(),i),t}function O9(e){Or.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var _e=Me,iI=fn.Graph,Et={addDummyNode:oI,simplify:D9,asNonCompoundGraph:z9,successorWeights:q9,predecessorWeights:$9,intersectRect:F9,buildLayerMatrix:B9,normalizeRanks:H9,removeEmptyRanks:V9,addBorderNode:U9,maxRank:aI,partition:G9,time:W9,notime:Y9};function oI(e,t,n,r){var i;do i=_e.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function D9(e){var t=new iI().setGraph(e.graph());return _e.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function z9(e){var t=new iI({multigraph:e.isMultigraph()}).setGraph(e.graph());return _e.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function q9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function $9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function F9(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,u=s):(i<0&&(a=-a),l=a,u=a*o/i),{x:n+l,y:r+u}}function B9(e){var t=_e.map(_e.range(aI(e)+1),function(){return[]});return _e.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;_e.isUndefined(i)||(t[i][r.order]=n)}),t}function H9(e){var t=_e.min(_e.map(e.nodes(),function(n){return e.node(n).rank}));_e.forEach(e.nodes(),function(n){var r=e.node(n);_e.has(r,"rank")&&(r.rank-=t)})}function V9(e){var t=_e.min(_e.map(e.nodes(),function(o){return e.node(o).rank})),n=[];_e.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;_e.forEach(n,function(o,a){_e.isUndefined(o)&&a%i!==0?--r:r&&_e.forEach(o,function(s){e.node(s).rank+=r})})}function U9(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),oI(e,"border",i,t)}function aI(e){return _e.max(_e.map(e.nodes(),function(t){var n=e.node(t).rank;if(!_e.isUndefined(n))return n}))}function G9(e,t){var n={lhs:[],rhs:[]};return _e.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function W9(e,t){var n=_e.now();try{return t()}finally{console.log(e+" time: "+(_e.now()-n)+"ms")}}function Y9(e,t){return t()}var sI=Me,K9=Et,X9={run:Q9,undo:J9};function Q9(e){e.graph().dummyChains=[],sI.forEach(e.edges(),function(t){Z9(e,t)})}function Z9(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=K9.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:s.weight},a)}}function J9(e){sI.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var ys=Me,Nu={longestPath:eU,slack:tU};function eU(e){var t={};function n(r){var i=e.node(r);if(ys.has(t,r))return i.rank;t[r]=!0;var o=ys.min(ys.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}ys.forEach(e.sources(),n)}function tU(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Cl=Me,nU=fn.Graph,Nl=Nu.slack,lI=rU;function rU(e){var t=new nU({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;iU(t,e)<r;)i=oU(t,e),o=t.hasNode(i.v)?Nl(e,i):-Nl(e,i),aU(t,e,o);return t}function iU(e,t){function n(r){Cl.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!Nl(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Cl.forEach(e.nodes(),n),e.nodeCount()}function oU(e,t){return Cl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Nl(t,n)})}function aU(e,t,n){Cl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Fn=Me,sU=lI,lU=Nu.slack,uU=Nu.longestPath,cU=fn.alg.preorder,fU=fn.alg.postorder,dU=Et.simplify,hU=ri;ri.initLowLimValues=jv;ri.initCutValues=Iv;ri.calcCutValue=uI;ri.leaveEdge=fI;ri.enterEdge=dI;ri.exchangeEdges=hI;function ri(e){e=dU(e),uU(e);var t=sU(e);jv(t),Iv(t,e);for(var n,r;n=fI(t);)r=dI(t,e,n),hI(t,e,n,r)}function Iv(e,t){var n=fU(e,e.nodes());n=n.slice(0,n.length-1),Fn.forEach(n,function(r){pU(e,t,r)})}function pU(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=uI(e,t,n)}function uI(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,Fn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(s+=f?d:-d,mU(e,n,c)){var h=e.edge(n,c).cutvalue;s+=f?-h:h}}}),s}function jv(e,t){arguments.length<2&&(t=e.nodes()[0]),cI(e,{},1,t)}function cI(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Fn.forEach(e.neighbors(r),function(s){Fn.has(t,s)||(n=cI(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function fI(e){return Fn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function dI(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Fn.filter(t.edges(),function(c){return l===FE(e,e.node(c.v),s)&&l!==FE(e,e.node(c.w),s)});return Fn.minBy(u,function(c){return lU(t,c)})}function hI(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),jv(e),Iv(e,t),gU(e,t)}function gU(e,t){var n=Fn.find(e.nodes(),function(i){return!t.node(i).parent}),r=cU(e,n);r=r.slice(1),Fn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function mU(e,t,n){return e.hasEdge(t,n)}function FE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var yU=Nu,pI=yU.longestPath,vU=lI,xU=hU,wU=_U;function _U(e){switch(e.graph().ranker){case"network-simplex":BE(e);break;case"tight-tree":SU(e);break;case"longest-path":bU(e);break;default:BE(e)}}var bU=pI;function SU(e){pI(e),vU(e)}function BE(e){xU(e)}var zm=Me,EU=kU;function kU(e){var t=NU(e);zm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=CU(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function CU(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function NU(e){var t={},n=0;function r(i){var o=n;zm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return zm.forEach(e.children(),r),t}var Mn=Me,qm=Et,TU={run:PU,cleanup:AU};function PU(e){var t=qm.addDummyNode(e,"root",{},"_root"),n=IU(e),r=Mn.max(Mn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Mn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=jU(e)+1;Mn.forEach(e.children(),function(a){gI(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function gI(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=qm.addBorderNode(e,"_bt"),u=qm.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,Mn.forEach(s,function(f){gI(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,m=d.borderTop?r:2*r,w=h!==p?1:i-o[a]+1;e.setEdge(l,h,{weight:m,minlen:w,nestingEdge:!0}),e.setEdge(p,u,{weight:m,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}function IU(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Mn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return Mn.forEach(e.children(),function(r){n(r,1)}),t}function jU(e){return Mn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function AU(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Mn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var gg=Me,RU=Et,MU=LU;function LU(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&gg.forEach(r,t),gg.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)HE(e,"borderLeft","_bl",n,i,o),HE(e,"borderRight","_br",n,i,o)}}gg.forEach(e.children(),t)}function HE(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=RU.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var vn=Me,OU={adjust:DU,undo:zU};function DU(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&mI(e)}function zU(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&qU(e),(t==="lr"||t==="rl")&&($U(e),mI(e))}function mI(e){vn.forEach(e.nodes(),function(t){VE(e.node(t))}),vn.forEach(e.edges(),function(t){VE(e.edge(t))})}function VE(e){var t=e.width;e.width=e.height,e.height=t}function qU(e){vn.forEach(e.nodes(),function(t){mg(e.node(t))}),vn.forEach(e.edges(),function(t){var n=e.edge(t);vn.forEach(n.points,mg),vn.has(n,"y")&&mg(n)})}function mg(e){e.y=-e.y}function $U(e){vn.forEach(e.nodes(),function(t){yg(e.node(t))}),vn.forEach(e.edges(),function(t){var n=e.edge(t);vn.forEach(n.points,yg),vn.has(n,"x")&&yg(n)})}function yg(e){var t=e.x;e.x=e.y,e.y=t}var Nn=Me,FU=BU;function BU(e){var t={},n=Nn.filter(e.nodes(),function(s){return!e.children(s).length}),r=Nn.max(Nn.map(n,function(s){return e.node(s).rank})),i=Nn.map(Nn.range(r+1),function(){return[]});function o(s){if(!Nn.has(t,s)){t[s]=!0;var l=e.node(s);i[l.rank].push(s),Nn.forEach(e.successors(s),o)}}var a=Nn.sortBy(n,function(s){return e.node(s).rank});return Nn.forEach(a,o),i}var Xn=Me,HU=VU;function VU(e,t){for(var n=0,r=1;r<t.length;++r)n+=UU(e,t[r-1],t[r]);return n}function UU(e,t,n){for(var r=Xn.zipObject(n,Xn.map(n,function(u,c){return c})),i=Xn.flatten(Xn.map(t,function(u){return Xn.sortBy(Xn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Xn.map(new Array(a),function(){return 0}),l=0;return Xn.forEach(i.forEach(function(u){var c=u.pos+o;s[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=u.weight;l+=u.weight*f})),l}var UE=Me,GU=WU;function WU(e,t){return UE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=UE.reduce(r,function(o,a){var s=e.edge(a),l=e.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var It=Me,YU=KU;function KU(e,t){var n={};It.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};It.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),It.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!It.isUndefined(o)&&!It.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=It.filter(n,function(i){return!i.indegree});return XU(r)}function XU(e){var t=[];function n(o){return function(a){a.merged||(It.isUndefined(a.barycenter)||It.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&QU(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),It.forEach(i.in.reverse(),n(i)),It.forEach(i.out,r(i))}return It.map(It.filter(t,function(o){return!o.merged}),function(o){return It.pick(o,["vs","i","barycenter","weight"])})}function QU(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Co=Me,ZU=Et,JU=e7;function e7(e,t){var n=ZU.partition(e,function(c){return Co.has(c,"barycenter")}),r=n.lhs,i=Co.sortBy(n.rhs,function(c){return-c.i}),o=[],a=0,s=0,l=0;r.sort(t7(!!t)),l=GE(o,i,l),Co.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),a+=c.barycenter*c.weight,s+=c.weight,l=GE(o,i,l)});var u={vs:Co.flatten(o,!0)};return s&&(u.barycenter=a/s,u.weight=s),u}function GE(e,t,n){for(var r;t.length&&(r=Co.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function t7(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var nr=Me,n7=GU,r7=YU,i7=JU,o7=yI;function yI(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=nr.filter(i,function(p){return p!==a&&p!==s}));var u=n7(e,i);nr.forEach(u,function(p){if(e.children(p.v).length){var m=yI(e,p.v,n,r);l[p.v]=m,nr.has(m,"barycenter")&&s7(p,m)}});var c=r7(u,n);a7(c,l);var f=i7(c,r);if(a&&(f.vs=nr.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var d=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);nr.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function a7(e,t){nr.forEach(e,function(n){n.vs=nr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function s7(e,t){nr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var No=Me,l7=fn.Graph,u7=c7;function c7(e,t,n){var r=f7(e),i=new l7({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return No.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),No.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=No.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),No.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function f7(e){for(var t;e.hasNode(t=No.uniqueId("_root")););return t}var d7=Me,h7=p7;function p7(e,t,n){var r={},i;d7.forEach(n,function(o){for(var a=e.parent(o),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var mr=Me,g7=FU,m7=HU,y7=o7,v7=u7,x7=h7,w7=fn.Graph,WE=Et,_7=b7;function b7(e){var t=WE.maxRank(e),n=YE(e,mr.range(1,t+1),"inEdges"),r=YE(e,mr.range(t-1,-1,-1),"outEdges"),i=g7(e);KE(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){S7(s%2?n:r,s%4>=2),i=WE.buildLayerMatrix(e);var u=m7(e,i);u<o&&(l=0,a=mr.cloneDeep(i),o=u)}KE(e,a)}function YE(e,t,n){return mr.map(t,function(r){return v7(e,r,n)})}function S7(e,t){var n=new w7;mr.forEach(e,function(r){var i=r.graph().root,o=y7(r,i,n,t);mr.forEach(o.vs,function(a,s){r.node(a).order=s}),x7(r,n,o.vs)})}function KE(e,t){mr.forEach(t,function(n){mr.forEach(n,function(r,i){e.node(r).order=i})})}var ce=Me,E7=fn.Graph,k7=Et,C7={positionX:D7};function N7(e,t){var n={};function r(i,o){var a=0,s=0,l=i.length,u=ce.last(o);return ce.forEach(o,function(c,f){var d=P7(e,c),h=d?e.node(d).order:l;(d||c===u)&&(ce.forEach(o.slice(s,f+1),function(p){ce.forEach(e.predecessors(p),function(m){var w=e.node(m),g=w.order;(g<a||h<g)&&!(w.dummy&&e.node(p).dummy)&&vI(n,m,p)})}),s=f+1,a=h)}),o}return ce.reduce(t,r),n}function T7(e,t){var n={};function r(o,a,s,l,u){var c;ce.forEach(ce.range(a,s),function(f){c=o[f],e.node(c).dummy&&ce.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&vI(n,d,c)})})}function i(o,a){var s=-1,l,u=0;return ce.forEach(a,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(a,u,f,s,l),u=f,s=l)}r(a,u,a.length,l,o.length)}),a}return ce.reduce(t,i),n}function P7(e,t){if(e.node(t).dummy)return ce.find(e.predecessors(t),function(n){return e.node(n).dummy})}function vI(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function I7(e,t,n){if(t>n){var r=t;t=n,n=r}return ce.has(e[t],n)}function j7(e,t,n,r){var i={},o={},a={};return ce.forEach(t,function(s){ce.forEach(s,function(l,u){i[l]=l,o[l]=l,a[l]=u})}),ce.forEach(t,function(s){var l=-1;ce.forEach(s,function(u){var c=r(u);if(c.length){c=ce.sortBy(c,function(m){return a[m]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=c[d];o[u]===u&&l<a[p]&&!I7(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],l=a[p])}}})}),{root:i,align:o}}function A7(e,t,n,r,i){var o={},a=R7(e,t,n,i),s=i?"borderLeft":"borderRight";function l(f,d){for(var h=a.nodes(),p=h.pop(),m={};p;)m[p]?f(p):(m[p]=!0,h.push(p),h=h.concat(d(p))),p=h.pop()}function u(f){o[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+a.edge(h))},0)}function c(f){var d=a.outEdges(f).reduce(function(p,m){return Math.min(p,o[m.w]-a.edge(m))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[f]=Math.max(o[f],d))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),ce.forEach(r,function(f){o[f]=o[n[f]]}),o}function R7(e,t,n,r){var i=new E7,o=e.graph(),a=z7(o.nodesep,o.edgesep,r);return ce.forEach(t,function(s){var l;ce.forEach(s,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(a(e,u,l),d||0))}l=u})}),i}function M7(e,t){return ce.minBy(ce.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ce.forIn(n,function(o,a){var s=q7(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function L7(e,t){var n=ce.values(t),r=ce.min(n),i=ce.max(n);ce.forEach(["u","d"],function(o){ce.forEach(["l","r"],function(a){var s=o+a,l=e[s],u;if(l!==t){var c=ce.values(l);u=a==="l"?r-ce.min(c):i-ce.max(c),u&&(e[s]=ce.mapValues(l,function(f){return f+u}))}})})}function O7(e,t){return ce.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ce.sortBy(ce.map(e,r));return(i[1]+i[2])/2})}function D7(e){var t=k7.buildLayerMatrix(e),n=ce.merge(N7(e,t),T7(e,t)),r={},i;ce.forEach(["u","d"],function(a){i=a==="u"?t:ce.values(t).reverse(),ce.forEach(["l","r"],function(s){s==="r"&&(i=ce.map(i,function(f){return ce.values(f).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=j7(e,i,n,l),c=A7(e,i,u.root,u.align,s==="r");s==="r"&&(c=ce.mapValues(c,function(f){return-f})),r[a+s]=c})});var o=M7(e,r);return L7(r,o),O7(r,e.graph().align)}function z7(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,u;if(l+=a.width/2,ce.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,ce.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function q7(e,t){return e.node(t).width}var To=Me,xI=Et,$7=C7.positionX,F7=B7;function B7(e){e=xI.asNonCompoundGraph(e),H7(e),To.forEach($7(e),function(t,n){e.node(n).x=t})}function H7(e){var t=xI.buildLayerMatrix(e),n=e.graph().ranksep,r=0;To.forEach(t,function(i){var o=To.max(To.map(i,function(a){return e.node(a).height}));To.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var pe=Me,XE=R9,QE=X9,V7=wU,U7=Et.normalizeRanks,G7=EU,W7=Et.removeEmptyRanks,ZE=TU,Y7=MU,JE=OU,K7=_7,X7=F7,xr=Et,Q7=fn.Graph,Z7=J7;function J7(e,t){var n=t&&t.debugTiming?xr.time:xr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return cG(e)});n("  runLayout",function(){eG(r,n)}),n("  updateInputGraph",function(){tG(e,r)})})}function eG(e,t){t("    makeSpaceForEdgeLabels",function(){fG(e)}),t("    removeSelfEdges",function(){wG(e)}),t("    acyclic",function(){XE.run(e)}),t("    nestingGraph.run",function(){ZE.run(e)}),t("    rank",function(){V7(xr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){dG(e)}),t("    removeEmptyRanks",function(){W7(e)}),t("    nestingGraph.cleanup",function(){ZE.cleanup(e)}),t("    normalizeRanks",function(){U7(e)}),t("    assignRankMinMax",function(){hG(e)}),t("    removeEdgeLabelProxies",function(){pG(e)}),t("    normalize.run",function(){QE.run(e)}),t("    parentDummyChains",function(){G7(e)}),t("    addBorderSegments",function(){Y7(e)}),t("    order",function(){K7(e)}),t("    insertSelfEdges",function(){_G(e)}),t("    adjustCoordinateSystem",function(){JE.adjust(e)}),t("    position",function(){X7(e)}),t("    positionSelfEdges",function(){bG(e)}),t("    removeBorderNodes",function(){xG(e)}),t("    normalize.undo",function(){QE.undo(e)}),t("    fixupEdgeLabelCoords",function(){yG(e)}),t("    undoCoordinateSystem",function(){JE.undo(e)}),t("    translateGraph",function(){gG(e)}),t("    assignNodeIntersects",function(){mG(e)}),t("    reversePoints",function(){vG(e)}),t("    acyclic.undo",function(){XE.undo(e)})}function tG(e,t){pe.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),pe.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,pe.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var nG=["nodesep","edgesep","ranksep","marginx","marginy"],rG={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},iG=["acyclicer","ranker","rankdir","align"],oG=["width","height"],aG={width:0,height:0},sG=["minlen","weight","width","height","labeloffset"],lG={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},uG=["labelpos"];function cG(e){var t=new Q7({multigraph:!0,compound:!0}),n=xg(e.graph());return t.setGraph(pe.merge({},rG,vg(n,nG),pe.pick(n,iG))),pe.forEach(e.nodes(),function(r){var i=xg(e.node(r));t.setNode(r,pe.defaults(vg(i,oG),aG)),t.setParent(r,e.parent(r))}),pe.forEach(e.edges(),function(r){var i=xg(e.edge(r));t.setEdge(r,pe.merge({},lG,vg(i,sG),pe.pick(i,uG)))}),t}function fG(e){var t=e.graph();t.ranksep/=2,pe.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function dG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};xr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function hG(e){var t=0;pe.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=pe.max(t,r.maxRank))}),e.graph().maxRank=t}function pG(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function gG(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}pe.forEach(e.nodes(),function(u){l(e.node(u))}),pe.forEach(e.edges(),function(u){var c=e.edge(u);pe.has(c,"x")&&l(c)}),t-=a,r-=s,pe.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),pe.forEach(e.edges(),function(u){var c=e.edge(u);pe.forEach(c.points,function(f){f.x-=t,f.y-=r}),pe.has(c,"x")&&(c.x-=t),pe.has(c,"y")&&(c.y-=r)}),o.width=n-t+a,o.height=i-r+s}function mG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(xr.intersectRect(r,o)),n.points.push(xr.intersectRect(i,a))})}function yG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(pe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function vG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function xG(e){pe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(pe.last(n.borderLeft)),a=e.node(pe.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),pe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function wG(e){pe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function _G(e){var t=xr.buildLayerMatrix(e);pe.forEach(t,function(n){var r=0;pe.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,pe.forEach(a.selfEdges,function(s){xr.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function bG(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function vg(e,t){return pe.mapValues(pe.pick(e,t),Number)}function xg(e){var t={};return pe.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var vs=Me,SG=Et,EG=fn.Graph,kG={debugOrdering:CG};function CG(e){var t=SG.buildLayerMatrix(e),n=new EG({compound:!0,multigraph:!0}).setGraph({});return vs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),vs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),vs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),vs.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var NG="0.8.5",TG={graphlib:fn,layout:Z7,debug:kG,util:{time:Et.time,notime:Et.notime},version:NG};const ek=va(TG);function PG(){const{getNodes:e,getEdges:t,setNodes:n,fitView:r}=tu(),i=sn(d=>d.layoutDirection),o=sn(d=>d.setLayoutDirection),a=sn(d=>d.selectedNodeId),s=L.useCallback(()=>a?{top:.1,left:.1,bottom:.1,right:.35}:.1,[a]),l=L.useCallback(d=>{const h=e(),p=t();if(h.length===0)return;const m=new ek.graphlib.Graph;m.setGraph({rankdir:d,nodesep:40,ranksep:100}),m.setDefaultEdgeLabel(()=>({})),h.forEach(w=>m.setNode(w.id,{width:180,height:100})),p.forEach(w=>m.setEdge(w.source,w.target)),ek.layout(m),n(h.map(w=>{const g=m.node(w.id);return{...w,position:{x:g.x-90,y:g.y-50}}})),setTimeout(()=>r({padding:s()}),50)},[e,t,n,r,s]),u=L.useCallback(()=>{const d=i==="LR"?"TB":"LR";o(d),l(d)},[i,o,l]),c=L.useCallback(()=>{l(i)},[l,i]),f=L.useCallback(()=>r({padding:s(),duration:300}),[r,s]);return{applyLayout:c,toggleLayout:u,fitToView:f,layoutDirection:i}}function IG(e,t){const[n,r,i]=Cz([]),[o,a,s]=Nz([]),{activeAgent:l,iteration:u,flowPhase:c,thoughts:f={}}=t,d=sn(m=>m.layoutDirection),h=d==="LR"||d==="RL",p=L.useRef("");return L.useEffect(()=>{if(!e)return;const m=Object.keys(e.agents).sort().join(",");if(m===p.current)return;p.current=m;const w=Object.keys(e.agents),g=new Set(w.flatMap(_=>e.agents[_].sub_agents||[])),x=w.filter(_=>!g.has(_)),y=[];let b="START";for(;y.length<x.length;){const _=e.workflow.edges.find(E=>E.from===b&&E.to!=="END");if(!_)break;x.includes(_.to)&&y.push(_.to),b=_.to}x.forEach(_=>{y.includes(_)||y.push(_)});const k=[{id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+y.length*150},data:{},type:"end"}];y.forEach((_,E)=>{const P=e.agents[_],M={x:50,y:150+E*150};P.type==="sequential"?k.push({id:_,type:"sequential",position:M,data:{label:_,subAgents:P.sub_agents}}):P.type==="loop"?k.push({id:_,type:"loop",position:M,data:{label:_,subAgents:P.sub_agents,maxIterations:P.max_iterations||3}}):P.type==="parallel"?k.push({id:_,type:"parallel",position:M,data:{label:_,subAgents:P.sub_agents}}):P.type==="router"?k.push({id:_,type:"router",position:M,data:{label:_,routes:P.routes||[]}}):k.push({id:_,type:"llm",position:M,data:{label:_,model:P.model,tools:P.tools||[]}})}),r(k)},[e,r]),L.useEffect(()=>{e&&r(m=>m.map(w=>{var b,k;if(w.id==="START"||w.id==="END")return w;const g=e.agents[w.id];if(!g)return w;const x=l===w.id||l&&((b=g.sub_agents)==null?void 0:b.includes(l)),y=l&&((k=g.sub_agents)!=null&&k.includes(l))?l:void 0;return{...w,data:{...w.data,isActive:x,activeSubAgent:y,currentIteration:g.type==="loop"?u:void 0,thought:w.type==="llm"?f[w.id]:void 0}}}))},[e,l,u,f,r]),L.useEffect(()=>{e&&a(e.workflow.edges.map((m,w)=>{const g=l&&m.to===l||c==="input"&&m.from==="START"||c==="output"&&m.to==="END";return{id:`e${w}-${d}`,source:m.from,target:m.to,type:"animated",data:{animated:g},sourceHandle:h?"right":"bottom",targetHandle:h?"left":"top"}}))},[e==null?void 0:e.workflow.edges,c,l,a,d,h]),{nodes:n,edges:o,setNodes:r,setEdges:a,onNodesChange:i,onEdgesChange:s}}function jG(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:r,removeEdge:i,selectNode:o}=sn(),a=L.useCallback((l="llm")=>{if(!e)return;const u=Object.keys(e.agents).length,f=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[l]||"agent"}_${u+1}`;if(["sequential","loop","parallel"].includes(l)){const h=`${f}_agent_1`,p=`${f}_agent_2`,m=l==="loop";t(h,{type:"llm",model:"gemini-2.0-flash",instruction:m?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:"llm",model:"gemini-2.0-flash",instruction:m?"Review. Call exit_loop when done.":"Agent 2.",tools:m?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(f,{type:l,instruction:"",tools:[],sub_agents:[h,p],position:{x:50,y:150+u*180},max_iterations:m?3:void 0})}else l==="router"?t(f,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+u*120},routes:[{condition:"default",target:"END"}]}):t(f,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+u*120}});const d=e.workflow.edges.find(h=>h.to==="END");d?(i(d.from,"END"),r(d.from,f)):r("START",f),r(f,"END"),o(f)},[e,t,r,i,o]),s=L.useCallback(l=>{var f,d;if(!e)return null;const u=e.agents[l];if(!u)return null;const c=`${l}_copy`;return t(c,{...u,position:{x:(((f=u.position)==null?void 0:f.x)||50)+50,y:(((d=u.position)==null?void 0:d.y)||50)+50}}),c},[e,t]);return{createAgent:a,duplicateAgent:s,removeAgent:n}}function AG(){var Xe,lt,Le,Qe;const{currentProject:e,openProject:t,closeProject:n,saveProject:r,selectNode:i,selectedNodeId:o,updateAgent:a,renameAgent:s,addEdge:l,removeEdge:u,addToolToAgent:c,removeToolFromAgent:f,addSubAgentToContainer:d,selectedToolId:h,selectTool:p,updateToolConfig:m}=sn(),[w,g]=L.useState(!0),[x,y]=L.useState("idle"),[b,k]=L.useState(null),[_,E]=L.useState(0),[P,M]=L.useState({}),[z,T]=L.useState(null),[O,q]=L.useState(null),[I,A]=L.useState(!1),[D,R]=L.useState(null),[C,j]=L.useState(!1),{nodes:S,edges:$,onNodesChange:F,onEdgesChange:N}=IG(e,{activeAgent:b,iteration:_,flowPhase:x,thoughts:P}),{applyLayout:H,toggleLayout:X,fitToView:Y}=PG(),{createAgent:Q,duplicateAgent:W,removeAgent:ee}=jG(),le=L.useCallback((Z,ae)=>{M(Ie=>ae?{...Ie,[Z]:ae}:Object.fromEntries(Object.entries(Ie).filter(([ut])=>ut!==Z)))},[]),oe=L.useRef(null),te=L.useCallback(()=>{oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>r(),500)},[r]),ie=L.useCallback((Z,ae)=>{a(Z,ae),R(null),te()},[a,te]),ge=L.useCallback((Z,ae)=>{m(Z,ae),R(null),te()},[m,te]);A8({selectedNodeId:o,selectedToolId:h,onDeleteNode:ee,onDeleteTool:f,onDuplicateNode:W,onSelectNode:i,onSelectTool:p,onAutoLayout:X,onFitView:Y});const ne=L.useCallback(async()=>{if(e)try{T(await Ir.projects.compile(e.id))}catch(Z){alert("Compile failed: "+Z.message)}},[e]),fe=L.useCallback(async()=>{if(!e)return;A(!0),q({success:!1,output:"",path:null});const Z=new EventSource(`/api/projects/${e.id}/build-stream`);let ae="";Z.addEventListener("status",Ie=>{ae+=Ie.data+`
`,q({success:!1,output:ae,path:null})}),Z.addEventListener("output",Ie=>{ae+=Ie.data+`
`,q({success:!1,output:ae,path:null})}),Z.addEventListener("done",Ie=>{q({success:!0,output:ae,path:Ie.data}),R(Ie.data),A(!1),Z.close()}),Z.addEventListener("error",Ie=>{ae+=`
Error: `+(Ie.data||"Build failed"),q({success:!1,output:ae,path:null}),A(!1),Z.close()}),Z.onerror=()=>{A(!1),Z.close()}},[e]),se=(Z,ae)=>{Z.dataTransfer.setData("application/reactflow",ae),Z.dataTransfer.effectAllowed="move"},Ge=L.useCallback(Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect=Z.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),$e=L.useCallback(Z=>{Z.preventDefault();const ae=Z.dataTransfer.getData("text/plain");if(ae.startsWith("tool:")&&o&&(e!=null&&e.agents[o])){c(o,ae.slice(5));return}const Ie=Z.dataTransfer.getData("application/reactflow");Ie&&(Q(Ie),setTimeout(()=>H(),100))},[Q,o,e,c,H]),pt=L.useCallback(Z=>Z.source&&Z.target&&l(Z.source,Z.target),[l]),gt=L.useCallback(Z=>Z.forEach(ae=>u(ae.source,ae.target)),[u]),Ke=L.useCallback(Z=>Z.forEach(ae=>ae.id!=="START"&&ae.id!=="END"&&ee(ae.id)),[ee]),Pe=L.useCallback((Z,ae)=>u(ae.source,ae.target),[u]),qt=L.useCallback((Z,ae)=>i(ae.id!=="START"&&ae.id!=="END"?ae.id:null),[i]),Ct=L.useCallback(()=>i(null),[i]),B=L.useCallback(Z=>{var za;if(!o)return;c(o,Z);const ae=((za=e==null?void 0:e.agents[o])==null?void 0:za.tools)||[],ut=Z==="function"||Z==="mcp"?`${o}_${Z}_${ae.filter(Tu=>Tu.startsWith(Z)).length+1}`:`${o}_${Z}`;setTimeout(()=>p(ut),0)},[o,e,c,p]);if(!e)return null;const U=o?e.agents[o]:null,re=Object.keys(e.agents).length>0,de=o?((Xe=e.agents[o])==null?void 0:Xe.tools)||[]:[],me=h&&((Le=(lt=e.tool_configs)==null?void 0:lt[h])==null?void 0:Le.type)==="function"?e.tool_configs[h]:null;return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx(Z6,{onExportCode:()=>j(!0),onNewProject:async()=>{const Z=prompt("Project name:");Z&&t((await Ir.projects.create(Z)).id)}}),v.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[v.jsxs("div",{className:"w-48 bg-studio-panel border-r border-gray-700 p-4 flex flex-col overflow-y-auto",children:[v.jsx(aB,{onDragStart:se,onCreate:Q}),v.jsx("div",{className:"my-4"}),v.jsx(sB,{selectedNodeId:o,agentTools:de,onAdd:B,onRemove:Z=>o&&f(o,Z)}),v.jsxs("div",{className:"mt-auto space-y-2 pt-4",children:[v.jsx("button",{onClick:ne,className:"w-full px-3 py-2 bg-blue-700 hover:bg-blue-600 rounded text-sm",children:" View Code"}),v.jsx("button",{onClick:fe,disabled:I,className:`w-full px-3 py-2 rounded text-sm ${I?"bg-gray-600":D?"bg-green-700 hover:bg-green-600":"bg-orange-600 hover:bg-orange-500 animate-pulse"}`,children:I?" Building...":D?" Build":" Build Required"}),v.jsx("button",{onClick:()=>g(!w),className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:w?"Hide Console":"Show Console"}),v.jsx("button",{onClick:n,className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:"Back"})]})]}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsxs(kz,{nodes:S,edges:$,nodeTypes:nB,edgeTypes:iB,onNodesChange:F,onEdgesChange:N,onEdgesDelete:gt,onNodesDelete:Ke,onEdgeDoubleClick:Pe,onConnect:pt,onNodeClick:qt,onPaneClick:Ct,onDrop:$e,onDragOver:Ge,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,children:[v.jsx(Az,{color:"#333",gap:20}),v.jsx(qz,{}),v.jsx(Zz,{nodeColor:Z=>{var ae;return(ae=Z.data)!=null&&ae.isActive?"#4ade80":"#666"},maskColor:"rgba(0,0,0,0.8)",style:{background:"#1a1a2e"}})]}),v.jsx(j8,{onAutoLayout:X,onFitView:Y})]}),U&&o&&v.jsx(lB,{nodeId:o,agent:U,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:ie,onRename:s,onAddSubAgent:()=>d(o),onClose:()=>i(null),onSelectTool:p,onRemoveTool:Z=>f(o,Z)}),h&&e&&v.jsx(gB,{toolId:h,config:((Qe=e.tool_configs)==null?void 0:Qe[h])||null,onUpdate:Z=>ge(h,Z),onClose:()=>p(null),onOpenCodeEditor:()=>j(!0)})]}),w&&re&&D&&v.jsx("div",{className:"h-64",children:v.jsx(X6,{onFlowPhase:y,onActiveAgent:k,onIteration:E,onThought:le,binaryPath:D})}),w&&re&&!D&&v.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{children:"Build the project first to test it"}),v.jsx("button",{onClick:fe,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Build Project"})]})}),w&&!re&&v.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:'Drag "LLM Agent" onto the canvas to get started'}),z&&v.jsx(T8,{code:z,onClose:()=>T(null)}),O&&v.jsx(P8,{building:I,success:O.success,output:O.output,path:O.path,onClose:()=>q(null)}),C&&me&&v.jsx(I8,{config:me,onUpdate:Z=>ge(h,Z),onClose:()=>j(!1)})]})}function RG(){const{currentProject:e,fetchProjects:t}=sn();return L.useEffect(()=>{t()},[t]),v.jsxs("div",{className:"h-screen flex flex-col bg-studio-bg",children:[v.jsxs("header",{className:"h-12 bg-studio-panel border-b border-gray-700 flex items-center px-4",children:[v.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&v.jsxs("span",{className:"ml-4 text-gray-400",children:["/ ",e.name]})]}),v.jsx("main",{className:"flex-1 overflow-hidden",children:e?v.jsx(nT,{children:v.jsx(AG,{})}):v.jsx(lq,{})})]})}wg.createRoot(document.getElementById("root")).render(v.jsx(Vt.StrictMode,{children:v.jsx(RG,{})}));
